(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Df={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function gT(){if(hy)return Ll;hy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Ll.Fragment=e,Ll.jsx=i,Ll.jsxs=i,Ll}var fy;function pT(){return fy||(fy=1,Df.exports=gT()),Df.exports}var me=pT(),Cf={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function yT(){if(dy)return vt;dy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),V=Symbol.iterator;function P(D){return D===null||typeof D!="object"?null:(D=V&&D[V]||D["@@iterator"],typeof D=="function"?D:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,it={};function J(D,Y,et){this.props=D,this.context=Y,this.refs=it,this.updater=et||q}J.prototype.isReactComponent={},J.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},J.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Dt(){}Dt.prototype=J.prototype;function Et(D,Y,et){this.props=D,this.context=Y,this.refs=it,this.updater=et||q}var gt=Et.prototype=new Dt;gt.constructor=Et,Z(gt,J.prototype),gt.isPureReactComponent=!0;var Pt=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},Ut=Object.prototype.hasOwnProperty;function O(D,Y,et,$,ot,St){return et=St.ref,{$$typeof:r,type:D,key:Y,ref:et!==void 0?et:null,props:St}}function S(D,Y){return O(D.type,Y,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function I(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(et){return Y[et]})}var M=/\/+/g;function x(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?I(""+D.key):Y.toString(36)}function R(){}function Oe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ne(D,Y,et,$,ot){var St=typeof D;(St==="undefined"||St==="boolean")&&(D=null);var mt=!1;if(D===null)mt=!0;else switch(St){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(D.$$typeof){case r:case e:mt=!0;break;case A:return mt=D._init,ne(mt(D._payload),Y,et,$,ot)}}if(mt)return ot=ot(D),mt=$===""?"."+x(D,0):$,Pt(ot)?(et="",mt!=null&&(et=mt.replace(M,"$&/")+"/"),ne(ot,Y,et,"",function(Un){return Un})):ot!=null&&(w(ot)&&(ot=S(ot,et+(ot.key==null||D&&D.key===ot.key?"":(""+ot.key).replace(M,"$&/")+"/")+mt)),Y.push(ot)),1;mt=0;var be=$===""?".":$+":";if(Pt(D))for(var Xt=0;Xt<D.length;Xt++)$=D[Xt],St=be+x($,Xt),mt+=ne($,Y,et,St,ot);else if(Xt=P(D),typeof Xt=="function")for(D=Xt.call(D),Xt=0;!($=D.next()).done;)$=$.value,St=be+x($,Xt++),mt+=ne($,Y,et,St,ot);else if(St==="object"){if(typeof D.then=="function")return ne(Oe(D),Y,et,$,ot);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return mt}function H(D,Y,et){if(D==null)return D;var $=[],ot=0;return ne(D,$,"","",function(St){return Y.call(et,St,ot++)}),$}function tt(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(et){(D._status===0||D._status===-1)&&(D._status=1,D._result=et)},function(et){(D._status===0||D._status===-1)&&(D._status=2,D._result=et)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var st=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Lt(){}return vt.Children={map:H,forEach:function(D,Y,et){H(D,function(){Y.apply(this,arguments)},et)},count:function(D){var Y=0;return H(D,function(){Y++}),Y},toArray:function(D){return H(D,function(Y){return Y})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},vt.Component=J,vt.Fragment=i,vt.Profiler=o,vt.PureComponent=Et,vt.StrictMode=s,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,vt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return _t.H.useMemoCache(D)}},vt.cache=function(D){return function(){return D.apply(null,arguments)}},vt.cloneElement=function(D,Y,et){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var $=Z({},D.props),ot=D.key,St=void 0;if(Y!=null)for(mt in Y.ref!==void 0&&(St=void 0),Y.key!==void 0&&(ot=""+Y.key),Y)!Ut.call(Y,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&Y.ref===void 0||($[mt]=Y[mt]);var mt=arguments.length-2;if(mt===1)$.children=et;else if(1<mt){for(var be=Array(mt),Xt=0;Xt<mt;Xt++)be[Xt]=arguments[Xt+2];$.children=be}return O(D.type,ot,void 0,void 0,St,$)},vt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},vt.createElement=function(D,Y,et){var $,ot={},St=null;if(Y!=null)for($ in Y.key!==void 0&&(St=""+Y.key),Y)Ut.call(Y,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ot[$]=Y[$]);var mt=arguments.length-2;if(mt===1)ot.children=et;else if(1<mt){for(var be=Array(mt),Xt=0;Xt<mt;Xt++)be[Xt]=arguments[Xt+2];ot.children=be}if(D&&D.defaultProps)for($ in mt=D.defaultProps,mt)ot[$]===void 0&&(ot[$]=mt[$]);return O(D,St,void 0,void 0,null,ot)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(D){return{$$typeof:g,render:D}},vt.isValidElement=w,vt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:tt}},vt.memo=function(D,Y){return{$$typeof:v,type:D,compare:Y===void 0?null:Y}},vt.startTransition=function(D){var Y=_t.T,et={};_t.T=et;try{var $=D(),ot=_t.S;ot!==null&&ot(et,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Lt,st)}catch(St){st(St)}finally{_t.T=Y}},vt.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},vt.use=function(D){return _t.H.use(D)},vt.useActionState=function(D,Y,et){return _t.H.useActionState(D,Y,et)},vt.useCallback=function(D,Y){return _t.H.useCallback(D,Y)},vt.useContext=function(D){return _t.H.useContext(D)},vt.useDebugValue=function(){},vt.useDeferredValue=function(D,Y){return _t.H.useDeferredValue(D,Y)},vt.useEffect=function(D,Y,et){var $=_t.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(D,Y)},vt.useId=function(){return _t.H.useId()},vt.useImperativeHandle=function(D,Y,et){return _t.H.useImperativeHandle(D,Y,et)},vt.useInsertionEffect=function(D,Y){return _t.H.useInsertionEffect(D,Y)},vt.useLayoutEffect=function(D,Y){return _t.H.useLayoutEffect(D,Y)},vt.useMemo=function(D,Y){return _t.H.useMemo(D,Y)},vt.useOptimistic=function(D,Y){return _t.H.useOptimistic(D,Y)},vt.useReducer=function(D,Y,et){return _t.H.useReducer(D,Y,et)},vt.useRef=function(D){return _t.H.useRef(D)},vt.useState=function(D){return _t.H.useState(D)},vt.useSyncExternalStore=function(D,Y,et){return _t.H.useSyncExternalStore(D,Y,et)},vt.useTransition=function(){return _t.H.useTransition()},vt.version="19.1.0",vt}var my;function md(){return my||(my=1,Cf.exports=yT()),Cf.exports}var hs=md(),If={exports:{}},zl={},Vf={exports:{}},Of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function _T(){return gy||(gy=1,function(r){function e(H,tt){var st=H.length;H.push(tt);t:for(;0<st;){var Lt=st-1>>>1,D=H[Lt];if(0<o(D,tt))H[Lt]=tt,H[st]=D,st=Lt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var tt=H[0],st=H.pop();if(st!==tt){H[0]=st;t:for(var Lt=0,D=H.length,Y=D>>>1;Lt<Y;){var et=2*(Lt+1)-1,$=H[et],ot=et+1,St=H[ot];if(0>o($,st))ot<D&&0>o(St,$)?(H[Lt]=St,H[ot]=st,Lt=ot):(H[Lt]=$,H[et]=st,Lt=et);else if(ot<D&&0>o(St,st))H[Lt]=St,H[ot]=st,Lt=ot;else break t}}return tt}function o(H,tt){var st=H.sortIndex-tt.sortIndex;return st!==0?st:H.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,V=null,P=3,q=!1,Z=!1,it=!1,J=!1,Dt=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Pt(H){for(var tt=i(v);tt!==null;){if(tt.callback===null)s(v);else if(tt.startTime<=H)s(v),tt.sortIndex=tt.expirationTime,e(_,tt);else break;tt=i(v)}}function _t(H){if(it=!1,Pt(H),!Z)if(i(_)!==null)Z=!0,Ut||(Ut=!0,x());else{var tt=i(v);tt!==null&&ne(_t,tt.startTime-H)}}var Ut=!1,O=-1,S=5,w=-1;function I(){return J?!0:!(r.unstable_now()-w<S)}function M(){if(J=!1,Ut){var H=r.unstable_now();w=H;var tt=!0;try{t:{Z=!1,it&&(it=!1,Et(O),O=-1),q=!0;var st=P;try{e:{for(Pt(H),V=i(_);V!==null&&!(V.expirationTime>H&&I());){var Lt=V.callback;if(typeof Lt=="function"){V.callback=null,P=V.priorityLevel;var D=Lt(V.expirationTime<=H);if(H=r.unstable_now(),typeof D=="function"){V.callback=D,Pt(H),tt=!0;break e}V===i(_)&&s(_),Pt(H)}else s(_);V=i(_)}if(V!==null)tt=!0;else{var Y=i(v);Y!==null&&ne(_t,Y.startTime-H),tt=!1}}break t}finally{V=null,P=st,q=!1}tt=void 0}}finally{tt?x():Ut=!1}}}var x;if(typeof gt=="function")x=function(){gt(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Oe=R.port2;R.port1.onmessage=M,x=function(){Oe.postMessage(null)}}else x=function(){Dt(M,0)};function ne(H,tt){O=Dt(function(){H(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return P},r.unstable_next=function(H){switch(P){case 1:case 2:case 3:var tt=3;break;default:tt=P}var st=P;P=tt;try{return H()}finally{P=st}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var st=P;P=H;try{return tt()}finally{P=st}},r.unstable_scheduleCallback=function(H,tt,st){var Lt=r.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?Lt+st:Lt):st=Lt,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=st+D,H={id:A++,callback:tt,priorityLevel:H,startTime:st,expirationTime:D,sortIndex:-1},st>Lt?(H.sortIndex=st,e(v,H),i(_)===null&&H===i(v)&&(it?(Et(O),O=-1):it=!0,ne(_t,st-Lt))):(H.sortIndex=D,e(_,H),Z||q||(Z=!0,Ut||(Ut=!0,x()))),H},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(H){var tt=P;return function(){var st=P;P=tt;try{return H.apply(this,arguments)}finally{P=st}}}}(Of)),Of}var py;function vT(){return py||(py=1,Vf.exports=_T()),Vf.exports}var Mf={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function ET(){if(yy)return je;yy=1;var r=md();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:V==null?null:""+V,children:_,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,je.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},je.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},je.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},je.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},je.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,V=g(A,v.crossOrigin),P=typeof v.integrity=="string"?v.integrity:void 0,q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:V,integrity:P,fetchPriority:q}):A==="script"&&s.d.X(_,{crossOrigin:V,integrity:P,fetchPriority:q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},je.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},je.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,V=g(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:V,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},je.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},je.requestFormReset=function(_){s.d.r(_)},je.unstable_batchedUpdates=function(_,v){return _(v)},je.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},je.useFormStatus=function(){return d.H.useHostTransitionStatus()},je.version="19.1.0",je}var _y;function TT(){if(_y)return Mf.exports;_y=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mf.exports=ET(),Mf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function AT(){if(vy)return zl;vy=1;var r=vT(),e=md(),i=TT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),Dt=Symbol.for("react.provider"),Et=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case J:return"Profiler";case it:return"StrictMode";case _t:return"Suspense";case Ut:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case gt:return(t.displayName||"Context")+".Provider";case Et:return(t._context.displayName||"Context")+".Consumer";case Pt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Oe(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Oe(t(n))}catch{}}return null}var ne=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},Lt=[],D=-1;function Y(t){return{current:t}}function et(t){0>D||(t.current=Lt[D],Lt[D]=null,D--)}function $(t,n){D++,Lt[D]=t.current,t.current=n}var ot=Y(null),St=Y(null),mt=Y(null),be=Y(null);function Xt(t,n){switch($(mt,n),$(St,t),$(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Bp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Bp(n),t=kp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ot),$(ot,t)}function Un(){et(ot),et(St),et(mt)}function Ui(t){t.memoizedState!==null&&$(be,t);var n=ot.current,a=kp(n,t.type);n!==a&&($(St,t),$(ot,a))}function ri(t){St.current===t&&(et(ot),et(St)),be.current===t&&(et(be),Ol._currentValue=st)}var wa=Object.prototype.hasOwnProperty,Da=r.unstable_scheduleCallback,Ca=r.unstable_cancelCallback,Cs=r.unstable_shouldYield,so=r.unstable_requestPaint,mn=r.unstable_now,wc=r.unstable_getCurrentPriorityLevel,Is=r.unstable_ImmediatePriority,vr=r.unstable_UserBlockingPriority,Ia=r.unstable_NormalPriority,Dc=r.unstable_LowPriority,Er=r.unstable_IdlePriority,Vs=r.log,lo=r.unstable_setDisableYieldValue,ie=null,qt=null;function nn(t){if(typeof Vs=="function"&&lo(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(ie,t)}catch{}}var ke=Math.clz32?Math.clz32:Va,oo=Math.log,Cc=Math.LN2;function Va(t){return t>>>=0,t===0?32:31-(oo(t)/Cc|0)|0}var Oa=256,Ma=4194304;function Cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Tr(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Cn(l):(y&=E,y!==0?c=Cn(y):a||(a=E&~t,a!==0&&(c=Cn(a))))):(E=l&~f,E!==0?c=Cn(E):y!==0?c=Cn(y):a||(a=l&~t,a!==0&&(c=Cn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Na(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Os(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ms(){var t=Oa;return Oa<<=1,(Oa&4194048)===0&&(Oa=256),t}function Ns(){var t=Ma;return Ma<<=1,(Ma&62914560)===0&&(Ma=4194304),t}function si(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function li(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xs(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,z=t.hiddenUpdates;for(a=y&~a;0<a;){var G=31-ke(a),F=1<<G;E[G]=0,b[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var k=B[G];k!==null&&(k.lane&=-536870913)}a&=~F}l!==0&&Ln(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Ln(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Us(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ke(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Li(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ar(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zi(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:ry(t.type))}function uo(t,n){var a=tt.p;try{return tt.p=t,n()}finally{tt.p=a}}var $t=Math.random().toString(36).slice(2),pe="__reactFiber$"+$t,ce="__reactProps$"+$t,gn="__reactContainer$"+$t,Ls="__reactEvents$"+$t,Ic="__reactListeners$"+$t,Pi="__reactHandles$"+$t,co="__reactResources$"+$t,xa="__reactMarker$"+$t;function Bi(t){delete t[pe],delete t[ce],delete t[Ls],delete t[Ic],delete t[Pi]}function oi(t){var n=t[pe];if(n)return n;for(var a=t.parentNode;a;){if(n=a[gn]||a[pe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Gp(t);t!==null;){if(a=t[pe])return a;t=Gp(t)}return n}t=a,a=t.parentNode}return null}function zn(t){if(t=t[pe]||t[gn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Pn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Fe(t){var n=t[co];return n||(n=t[co]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function se(t){t[xa]=!0}var zs=new Set,Sr={};function In(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(Sr[t]=n,t=0;t<n.length;t++)zs.add(n[t])}var ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fo={},Ua={};function mo(t){return wa.call(Ua,t)?!0:wa.call(fo,t)?!1:ho.test(t)?Ua[t]=!0:(fo[t]=!0,!1)}function ki(t,n,a){if(mo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Bn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Me(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var La,go;function ci(t){if(La===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);La=n&&n[1]||"",go=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+La+t+go}var br=!1;function Rr(t,n){if(!t||br)return"";br=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(k){var B=k}Reflect.construct(t,[],F)}else{try{F.call()}catch(k){B=k}t.call(F.prototype)}}else{try{throw Error()}catch(k){B=k}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),z=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===z.length)for(l=b.length-1,c=z.length-1;1<=l&&0<=c&&b[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==z[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{br=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ci(a):""}function Ps(t){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return Rr(t.type,!1);case 11:return Rr(t.type.render,!1);case 1:return Rr(t.type,!0);case 31:return ci("Activity");default:return""}}function wr(t){try{var n="";do n+=Ps(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vc(t){var n=Bs(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Dr(t){t._valueTracker||(t._valueTracker=Vc(t))}function ks(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Bs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function za(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Oc=/[\n"\\]/g;function he(t){return t.replace(Oc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?qi(t,y,Ke(n)):a!=null?qi(t,y,Ke(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Pa(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Ke(a):"",n=n!=null?""+Ke(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function qi(t,n,a){n==="number"&&za(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function hi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ke(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Gt(t,n,a){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ke(a):""}function Ba(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ne(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ke(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var ka=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function po(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||ka.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function qs(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&po(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&po(t,f,n[f])}function js(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cr(t){return Nc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var fi=null;function yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var di=null,mi=null;function Hs(t){var n=zn(t);if(n&&(t=n.stateNode)){var a=t[ce]||null;t:switch(t=n.stateNode,n.type){case"input":if(an(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+he(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[ce]||null;if(!c)throw Error(s(90));an(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&ks(l)}break t;case"textarea":Gt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&hi(t,!!a.multiple,n,!1)}}}var kn=!1;function yo(t,n,a){if(kn)return t(n,a);kn=!0;try{var l=t(n);return l}finally{if(kn=!1,(di!==null||mi!==null)&&(cu(),di&&(n=di,t=mi,mi=di=null,Hs(n),t)))for(n=0;n<t.length;n++)Hs(t[n])}}function qa(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ce]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(Vn)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){_n=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{_n=!1}var qn=null,ji=null,gi=null;function Gs(){if(gi)return gi;var t,n=ji,a=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return gi=c.slice(t,1<l?1-l:void 0)}function jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Hn(){return!0}function Qs(){return!1}function Re(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hn:Qs,this.isPropagationStopped=Qs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ir=Re(Bt),Ha=A({},Bt,{view:0,detail:0}),_o=Re(Ha),Vr,Or,Gn,Ga=A({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gn&&(Gn&&t.type==="mousemove"?(Vr=t.screenX-Gn.screenX,Or=t.screenY-Gn.screenY):Or=Vr=0,Gn=t),Vr)},movementY:function(t){return"movementY"in t?t.movementY:Or}}),vn=Re(Ga),vo=A({},Ga,{dataTransfer:0}),xc=Re(vo),Qa=A({},Ha,{relatedTarget:0}),Mr=Re(Qa),Fs=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Nr=Re(Fs),Eo=A({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xr=Re(Eo),Uc=A({},Bt,{data:0}),Ks=Re(Uc),Fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},To={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ao={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ys(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ao[t])?!!n[t]:!1}function Ka(){return Ys}var So=A({},Ha,{key:function(t){if(t.key){var n=Fa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?To[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(t){return t.type==="keypress"?jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ur=Re(So),bo=A({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xs=Re(bo),pi=A({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),Ro=Re(pi),wo=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Do=Re(wo),Co=A({},Ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lr=Re(Co),Ye=A({},Bt,{newState:0,oldState:0}),Io=Re(Ye),Vo=[9,13,27,32],Qn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,p=Vn&&(!Qn||u&&8<u&&11>=u),T=" ",U=!1;function j(t,n){switch(t){case"keyup":return Vo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var It=!1;function ye(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return t=n.data,t===T&&U?null:t;default:return null}}function Vt(t,n){if(It)return t==="compositionend"||!Qn&&j(t,n)?(t=Gs(),gi=ji=qn=null,It=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var we={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _e(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!we[t.type]:n==="textarea"}function yi(t,n,a,l){di?mi?mi.push(l):mi=[l]:di=l,n=pu(n,"onChange"),0<n.length&&(a=new Ir("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ne=null,Fn=null;function Zs(t){xp(t,0)}function Oo(t){var n=Pn(t);if(ks(n))return t}function em(t,n){if(t==="change")return n}var nm=!1;if(Vn){var Lc;if(Vn){var zc="oninput"in document;if(!zc){var im=document.createElement("div");im.setAttribute("oninput","return;"),zc=typeof im.oninput=="function"}Lc=zc}else Lc=!1;nm=Lc&&(!document.documentMode||9<document.documentMode)}function am(){Ne&&(Ne.detachEvent("onpropertychange",rm),Fn=Ne=null)}function rm(t){if(t.propertyName==="value"&&Oo(Fn)){var n=[];yi(n,Fn,t,yn(t)),yo(Zs,n)}}function Q0(t,n,a){t==="focusin"?(am(),Ne=n,Fn=a,Ne.attachEvent("onpropertychange",rm)):t==="focusout"&&am()}function F0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oo(Fn)}function K0(t,n){if(t==="click")return Oo(n)}function Y0(t,n){if(t==="input"||t==="change")return Oo(n)}function X0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var rn=typeof Object.is=="function"?Object.is:X0;function $s(t,n){if(rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!wa.call(n,c)||!rn(t[c],n[c]))return!1}return!0}function sm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lm(t,n){var a=sm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=sm(a)}}function om(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?om(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function um(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=za(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=za(t.document)}return n}function Pc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Z0=Vn&&"documentMode"in document&&11>=document.documentMode,zr=null,Bc=null,Js=null,kc=!1;function cm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kc||zr==null||zr!==za(l)||(l=zr,"selectionStart"in l&&Pc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Js&&$s(Js,l)||(Js=l,l=pu(Bc,"onSelect"),0<l.length&&(n=new Ir("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=zr)))}function Ya(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Pr={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionrun:Ya("Transition","TransitionRun"),transitionstart:Ya("Transition","TransitionStart"),transitioncancel:Ya("Transition","TransitionCancel"),transitionend:Ya("Transition","TransitionEnd")},qc={},hm={};Vn&&(hm=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Xa(t){if(qc[t])return qc[t];if(!Pr[t])return t;var n=Pr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in hm)return qc[t]=n[a];return t}var fm=Xa("animationend"),dm=Xa("animationiteration"),mm=Xa("animationstart"),$0=Xa("transitionrun"),J0=Xa("transitionstart"),W0=Xa("transitioncancel"),gm=Xa("transitionend"),pm=new Map,jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jc.push("scrollEnd");function On(t,n){pm.set(t,n),In(n,[t])}var ym=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var a=ym.get(t);return a!==void 0?a:(n={value:t,source:n,stack:wr(n)},ym.set(t,n),n)}return{value:t,source:n,stack:wr(n)}}var Tn=[],Br=0,Hc=0;function Mo(){for(var t=Br,n=Hc=Br=0;n<t;){var a=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&_m(a,c,f)}}function No(t,n,a,l){Tn[Br++]=t,Tn[Br++]=n,Tn[Br++]=a,Tn[Br++]=l,Hc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gc(t,n,a,l){return No(t,n,a,l),xo(t)}function kr(t,n){return No(t,null,null,n),xo(t)}function _m(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ke(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function xo(t){if(50<Sl)throw Sl=0,Zh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var qr={};function tE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,n,a,l){return new tE(t,n,a,l)}function Qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _i(t,n){var a=t.alternate;return a===null?(a=sn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function vm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Uo(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")Qc(t)&&(y=1);else if(typeof t=="string")y=nT(t,a,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=sn(31,a,n,c),t.elementType=w,t.lanes=f,t;case Z:return Za(a.children,c,f,n);case it:y=8,c|=24;break;case J:return t=sn(12,a,n,c|2),t.elementType=J,t.lanes=f,t;case _t:return t=sn(13,a,n,c),t.elementType=_t,t.lanes=f,t;case Ut:return t=sn(19,a,n,c),t.elementType=Ut,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dt:case gt:y=10;break t;case Et:y=9;break t;case Pt:y=11;break t;case O:y=14;break t;case S:y=16,l=null;break t}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=sn(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Za(t,n,a,l){return t=sn(7,t,l,n),t.lanes=a,t}function Fc(t,n,a){return t=sn(6,t,null,n),t.lanes=a,t}function Kc(t,n,a){return n=sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var jr=[],Hr=0,Lo=null,zo=0,An=[],Sn=0,$a=null,vi=1,Ei="";function Ja(t,n){jr[Hr++]=zo,jr[Hr++]=Lo,Lo=t,zo=n}function Em(t,n,a){An[Sn++]=vi,An[Sn++]=Ei,An[Sn++]=$a,$a=t;var l=vi;t=Ei;var c=32-ke(l)-1;l&=~(1<<c),a+=1;var f=32-ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,vi=1<<32-ke(n)+c|a<<c|l,Ei=f+t}else vi=1<<f|a<<c|l,Ei=t}function Yc(t){t.return!==null&&(Ja(t,1),Em(t,1,0))}function Xc(t){for(;t===Lo;)Lo=jr[--Hr],jr[Hr]=null,zo=jr[--Hr],jr[Hr]=null;for(;t===$a;)$a=An[--Sn],An[Sn]=null,Ei=An[--Sn],An[Sn]=null,vi=An[--Sn],An[Sn]=null}var Xe=null,ae=null,zt=!1,Wa=null,Kn=!1,Zc=Error(s(519));function tr(t){var n=Error(s(418,""));throw el(En(n,t)),Zc}function Tm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[pe]=t,n[ce]=l,a){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(a=0;a<Rl.length;a++)wt(Rl[a],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),Pa(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Dr(n);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),Ba(n,l.value,l.defaultValue,l.children),Dr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Pp(n.textContent,a)?(l.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),l.onScroll!=null&&wt("scroll",n),l.onScrollEnd!=null&&wt("scrollend",n),l.onClick!=null&&(n.onclick=yu),n=!0):n=!1,n||tr(t)}function Am(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Xe=Xe.return}}function Ws(t){if(t!==Xe)return!1;if(!zt)return Am(t),zt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||df(t.type,t.memoizedProps)),a=!a),a&&ae&&tr(t),Am(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){ae=Nn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,aa(t.type)?(t=yf,yf=null,ae=t):ae=n):ae=Xe?Nn(t.stateNode.nextSibling):null;return!0}function tl(){ae=Xe=null,zt=!1}function Sm(){var t=Wa;return t!==null&&(Je===null?Je=t:Je.push.apply(Je,t),Wa=null),t}function el(t){Wa===null?Wa=[t]:Wa.push(t)}var $c=Y(null),er=null,Ti=null;function Hi(t,n,a){$($c,n._currentValue),n._currentValue=a}function Ai(t){t._currentValue=$c.current,et($c)}function Jc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Wc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Jc(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Jc(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function nl(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;rn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===be.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&Wc(n,t,a,l),n.flags|=262144}function Po(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function nr(t){er=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return bm(er,t)}function Bo(t,n){return er===null&&nr(t),bm(t,n)}function bm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ti===null){if(t===null)throw Error(s(308));Ti=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ti=Ti.next=n;return a}var eE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},nE=r.unstable_scheduleCallback,iE=r.unstable_NormalPriority,ve={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function th(){return{controller:new eE,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&nE(iE,function(){t.controller.abort()})}var al=null,eh=0,Gr=0,Qr=null;function aE(t,n){if(al===null){var a=al=[];eh=0,Gr=af(),Qr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return eh++,n.then(Rm,Rm),n}function Rm(){if(--eh===0&&al!==null){Qr!==null&&(Qr.status="fulfilled");var t=al;al=null,Gr=0,Qr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function rE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var wm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&aE(t,n),wm!==null&&wm(t,n)};var ir=Y(null);function nh(){var t=ir.current;return t!==null?t:Zt.pooledCache}function ko(t,n){n===null?$(ir,ir.current):$(ir,n.pool)}function Dm(){var t=nh();return t===null?null:{parent:ve._currentValue,pool:t}}var rl=Error(s(460)),Cm=Error(s(474)),qo=Error(s(542)),ih={then:function(){}};function Im(t){return t=t.status,t==="fulfilled"||t==="rejected"}function jo(){}function Vm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(jo,jo),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Mm(t),t;default:if(typeof n.status=="string")n.then(jo,jo);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Mm(t),t}throw sl=n,rl}}var sl=null;function Om(){if(sl===null)throw Error(s(459));var t=sl;return sl=null,t}function Mm(t){if(t===rl||t===qo)throw Error(s(483))}var Gi=!1;function ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(jt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=xo(t),_m(t,null,a),n}return No(t,l,n,a),xo(t)}function ll(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Us(t,a)}}function sh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var lh=!1;function ol(){if(lh){var t=Qr;if(t!==null)throw t}}function ul(t,n,a,l){lh=!1;var c=t.updateQueue;Gi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,z=b.next;b.next=null,y===null?f=z:y.next=z,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;y=0,G=z=b=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Ot&B)===B:(l&B)===B){B!==0&&B===Gr&&(lh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ft=t,ct=E;B=n;var Kt=a;switch(ct.tag){case 1:if(ft=ct.payload,typeof ft=="function"){F=ft.call(Kt,F,B);break t}F=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=ct.payload,B=typeof ft=="function"?ft.call(Kt,F,B):ft,B==null)break t;F=A({},F,B);break t;case 2:Gi=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=k,b=F):G=G.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);G===null&&(b=F),c.baseState=b,c.firstBaseUpdate=z,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ta|=y,t.lanes=y,t.memoizedState=F}}function Nm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function xm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Nm(a[t],n)}var Fr=Y(null),Ho=Y(0);function Um(t,n){t=Ii,$(Ho,t),$(Fr,n),Ii=t|n.baseLanes}function oh(){$(Ho,Ii),$(Fr,Fr.current)}function uh(){Ii=Ho.current,et(Fr),et(Ho)}var Ki=0,Tt=null,Qt=null,fe=null,Go=!1,Kr=!1,ar=!1,Qo=0,cl=0,Yr=null,sE=0;function le(){throw Error(s(321))}function ch(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!rn(t[a],n[a]))return!1;return!0}function hh(t,n,a,l,c,f){return Ki=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?_g:vg,ar=!1,f=a(l,c),ar=!1,Kr&&(f=zm(n,a,l,c)),Lm(t),f}function Lm(t){H.H=$o;var n=Qt!==null&&Qt.next!==null;if(Ki=0,fe=Qt=Tt=null,Go=!1,cl=0,Yr=null,n)throw Error(s(300));t===null||De||(t=t.dependencies,t!==null&&Po(t)&&(De=!0))}function zm(t,n,a,l){Tt=t;var c=0;do{if(Kr&&(Yr=null),cl=0,Kr=!1,25<=c)throw Error(s(301));if(c+=1,fe=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=dE,f=n(a,l)}while(Kr);return f}function lE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?hl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Tt.flags|=1024),n}function fh(){var t=Qo!==0;return Qo=0,t}function dh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function mh(t){if(Go){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Go=!1}Ki=0,fe=Qt=Tt=null,Kr=!1,cl=Qo=0,Yr=null}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?Tt.memoizedState=fe=t:fe=fe.next=t,fe}function de(){if(Qt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=fe===null?Tt.memoizedState:fe.next;if(n!==null)fe=n,Qt=t;else{if(t===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},fe===null?Tt.memoizedState=fe=t:fe=fe.next=t}return fe}function gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var n=cl;return cl+=1,Yr===null&&(Yr=[]),t=Vm(Yr,t,n),n=Tt,(fe===null?n.memoizedState:fe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?_g:vg),t}function Fo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===gt)return qe(t)}throw Error(s(438,String(t)))}function ph(t){var n=null,a=Tt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=gh(),Tt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=I;return n.index++,a}function Si(t,n){return typeof n=="function"?n(t):n}function Ko(t){var n=de();return yh(n,Qt,t)}function yh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,z=n,G=!1;do{var F=z.lane&-536870913;if(F!==z.lane?(Ot&F)===F:(Ki&F)===F){var B=z.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),F===Gr&&(G=!0);else if((Ki&B)===B){z=z.next,B===Gr&&(G=!0);continue}else F={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=F,y=f):b=b.next=F,Tt.lanes|=B,ta|=B;F=z.action,ar&&a(f,F),f=z.hasEagerState?z.eagerState:a(f,F)}else B={lane:F,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,Tt.lanes|=F,ta|=F;z=z.next}while(z!==null&&z!==n);if(b===null?y=f:b.next=E,!rn(f,t.memoizedState)&&(De=!0,G&&(a=Qr,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function _h(t){var n=de(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);rn(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Pm(t,n,a){var l=Tt,c=de(),f=zt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!rn((Qt||c).memoizedState,a);y&&(c.memoizedState=a,De=!0),c=c.queue;var E=qm.bind(null,l,c,t);if(fl(2048,8,E,[t]),c.getSnapshot!==n||y||fe!==null&&fe.memoizedState.tag&1){if(l.flags|=2048,Xr(9,Yo(),km.bind(null,l,c,a,n),null),Zt===null)throw Error(s(349));f||(Ki&124)!==0||Bm(l,n,a)}return a}function Bm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Tt.updateQueue,n===null?(n=gh(),Tt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function km(t,n,a,l){n.value=a,n.getSnapshot=l,jm(n)&&Hm(t)}function qm(t,n,a){return a(function(){jm(n)&&Hm(t)})}function jm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!rn(t,a)}catch{return!0}}function Hm(t){var n=kr(t,2);n!==null&&hn(n,t,2)}function vh(t){var n=Ze();if(typeof t=="function"){var a=t;if(t=a(),ar){nn(!0);try{a()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},n}function Gm(t,n,a,l){return t.baseState=a,yh(t,Qt,typeof l=="function"?l:Si)}function oE(t,n,a,l,c){if(Zo(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Qm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Qm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=a(c,l),b=H.S;b!==null&&b(y,E),Fm(t,n,E)}catch(z){Eh(t,n,z)}finally{H.T=f}}else try{f=a(c,l),Fm(t,n,f)}catch(z){Eh(t,n,z)}}function Fm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Km(t,n,l)},function(l){return Eh(t,n,l)}):Km(t,n,a)}function Km(t,n,a){n.status="fulfilled",n.value=a,Ym(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Qm(t,a)))}function Eh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Ym(n),n=n.next;while(n!==l)}t.action=null}function Ym(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Xm(t,n){return n}function Zm(t,n){if(zt){var a=Zt.formState;if(a!==null){t:{var l=Tt;if(zt){if(ae){e:{for(var c=ae,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=Nn(c.nextSibling),l=c.data==="F!";break t}}tr(l)}l=!1}l&&(n=a[0])}}return a=Ze(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xm,lastRenderedState:n},a.queue=l,a=gg.bind(null,Tt,l),l.dispatch=a,l=vh(!1),f=Rh.bind(null,Tt,!1,l.queue),l=Ze(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=oE.bind(null,Tt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function $m(t){var n=de();return Jm(n,Qt,t)}function Jm(t,n,a){if(n=yh(t,n,Xm)[0],t=Ko(Si)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=hl(n)}catch(y){throw y===rl?qo:y}else l=n;n=de();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Tt.flags|=2048,Xr(9,Yo(),uE.bind(null,c,a),null)),[l,f,t]}function uE(t,n){t.action=n}function Wm(t){var n=de(),a=Qt;if(a!==null)return Jm(n,a,t);de(),n=n.memoizedState,a=de();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Xr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=gh(),Tt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Yo(){return{destroy:void 0,resource:void 0}}function tg(){return de().memoizedState}function Xo(t,n,a,l){var c=Ze();l=l===void 0?null:l,Tt.flags|=t,c.memoizedState=Xr(1|n,Yo(),a,l)}function fl(t,n,a,l){var c=de();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&ch(l,Qt.memoizedState.deps)?c.memoizedState=Xr(n,f,a,l):(Tt.flags|=t,c.memoizedState=Xr(1|n,f,a,l))}function eg(t,n){Xo(8390656,8,t,n)}function ng(t,n){fl(2048,8,t,n)}function ig(t,n){return fl(4,2,t,n)}function ag(t,n){return fl(4,4,t,n)}function rg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function sg(t,n,a){a=a!=null?a.concat([t]):null,fl(4,4,rg.bind(null,n,t),a)}function Th(){}function lg(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&ch(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function og(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&ch(n,l[1]))return l[0];if(l=t(),ar){nn(!0);try{t()}finally{nn(!1)}}return a.memoizedState=[l,n],l}function Ah(t,n,a){return a===void 0||(Ki&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=hp(),Tt.lanes|=t,ta|=t,a)}function ug(t,n,a,l){return rn(a,n)?a:Fr.current!==null?(t=Ah(t,a,l),rn(t,n)||(De=!0),t):(Ki&42)===0?(De=!0,t.memoizedState=a):(t=hp(),Tt.lanes|=t,ta|=t,n)}function cg(t,n,a,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,Rh(t,!1,n,a);try{var b=c(),z=H.S;if(z!==null&&z(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=rE(b,l);dl(t,n,G,cn(t))}else dl(t,n,l,cn(t))}catch(F){dl(t,n,{then:function(){},status:"rejected",reason:F},cn())}finally{tt.p=f,H.T=y}}function cE(){}function Sh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=hg(t).queue;cg(t,c,n,st,a===null?cE:function(){return fg(t),a(l)})}function hg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:st},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function fg(t){var n=hg(t).next.queue;dl(t,n,{},cn())}function bh(){return qe(Ol)}function dg(){return de().memoizedState}function mg(){return de().memoizedState}function hE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=cn();t=Qi(a);var l=Fi(n,t,a);l!==null&&(hn(l,n,a),ll(l,n,a)),n={cache:th()},t.payload=n;return}n=n.return}}function fE(t,n,a){var l=cn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Zo(t)?pg(n,a):(a=Gc(t,n,a,l),a!==null&&(hn(a,t,l),yg(a,n,l)))}function gg(t,n,a){var l=cn();dl(t,n,a,l)}function dl(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zo(t))pg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,rn(E,y))return No(t,n,c,0),Zt===null&&Mo(),!1}catch{}finally{}if(a=Gc(t,n,c,l),a!==null)return hn(a,t,l),yg(a,n,l),!0}return!1}function Rh(t,n,a,l){if(l={lane:2,revertLane:af(),action:l,hasEagerState:!1,eagerState:null,next:null},Zo(t)){if(n)throw Error(s(479))}else n=Gc(t,a,l,2),n!==null&&hn(n,t,2)}function Zo(t){var n=t.alternate;return t===Tt||n!==null&&n===Tt}function pg(t,n){Kr=Go=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function yg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Us(t,a)}}var $o={readContext:qe,use:Fo,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le},_g={readContext:qe,use:Fo,useCallback:function(t,n){return Ze().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:eg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Xo(4194308,4,rg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Xo(4194308,4,t,n)},useInsertionEffect:function(t,n){Xo(4,2,t,n)},useMemo:function(t,n){var a=Ze();n=n===void 0?null:n;var l=t();if(ar){nn(!0);try{t()}finally{nn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Ze();if(a!==void 0){var c=a(n);if(ar){nn(!0);try{a(n)}finally{nn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=fE.bind(null,Tt,t),[l.memoizedState,t]},useRef:function(t){var n=Ze();return t={current:t},n.memoizedState=t},useState:function(t){t=vh(t);var n=t.queue,a=gg.bind(null,Tt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Th,useDeferredValue:function(t,n){var a=Ze();return Ah(a,t,n)},useTransition:function(){var t=vh(!1);return t=cg.bind(null,Tt,t.queue,!0,!1),Ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Tt,c=Ze();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Zt===null)throw Error(s(349));(Ot&124)!==0||Bm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,eg(qm.bind(null,l,f,t),[t]),l.flags|=2048,Xr(9,Yo(),km.bind(null,l,f,a,n),null),a},useId:function(){var t=Ze(),n=Zt.identifierPrefix;if(zt){var a=Ei,l=vi;a=(l&~(1<<32-ke(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=Qo++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=sE++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:bh,useFormState:Zm,useActionState:Zm,useOptimistic:function(t){var n=Ze();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Rh.bind(null,Tt,!0,a),a.dispatch=n,[t,n]},useMemoCache:ph,useCacheRefresh:function(){return Ze().memoizedState=hE.bind(null,Tt)}},vg={readContext:qe,use:Fo,useCallback:lg,useContext:qe,useEffect:ng,useImperativeHandle:sg,useInsertionEffect:ig,useLayoutEffect:ag,useMemo:og,useReducer:Ko,useRef:tg,useState:function(){return Ko(Si)},useDebugValue:Th,useDeferredValue:function(t,n){var a=de();return ug(a,Qt.memoizedState,t,n)},useTransition:function(){var t=Ko(Si)[0],n=de().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Pm,useId:dg,useHostTransitionStatus:bh,useFormState:$m,useActionState:$m,useOptimistic:function(t,n){var a=de();return Gm(a,Qt,t,n)},useMemoCache:ph,useCacheRefresh:mg},dE={readContext:qe,use:Fo,useCallback:lg,useContext:qe,useEffect:ng,useImperativeHandle:sg,useInsertionEffect:ig,useLayoutEffect:ag,useMemo:og,useReducer:_h,useRef:tg,useState:function(){return _h(Si)},useDebugValue:Th,useDeferredValue:function(t,n){var a=de();return Qt===null?Ah(a,t,n):ug(a,Qt.memoizedState,t,n)},useTransition:function(){var t=_h(Si)[0],n=de().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Pm,useId:dg,useHostTransitionStatus:bh,useFormState:Wm,useActionState:Wm,useOptimistic:function(t,n){var a=de();return Qt!==null?Gm(a,Qt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ph,useCacheRefresh:mg},Zr=null,ml=0;function Jo(t){var n=ml;return ml+=1,Zr===null&&(Zr=[]),Vm(Zr,t,n)}function gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Wo(t,n){throw n.$$typeof===V?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Eg(t){var n=t._init;return n(t._payload)}function Tg(t){function n(N,C){if(t){var L=N.deletions;L===null?(N.deletions=[C],N.flags|=16):L.push(C)}}function a(N,C){if(!t)return null;for(;C!==null;)n(N,C),C=C.sibling;return null}function l(N){for(var C=new Map;N!==null;)N.key!==null?C.set(N.key,N):C.set(N.index,N),N=N.sibling;return C}function c(N,C){return N=_i(N,C),N.index=0,N.sibling=null,N}function f(N,C,L){return N.index=L,t?(L=N.alternate,L!==null?(L=L.index,L<C?(N.flags|=67108866,C):L):(N.flags|=67108866,C)):(N.flags|=1048576,C)}function y(N){return t&&N.alternate===null&&(N.flags|=67108866),N}function E(N,C,L,Q){return C===null||C.tag!==6?(C=Fc(L,N.mode,Q),C.return=N,C):(C=c(C,L),C.return=N,C)}function b(N,C,L,Q){var at=L.type;return at===Z?G(N,C,L.props.children,Q,L.key):C!==null&&(C.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Eg(at)===C.type)?(C=c(C,L.props),gl(C,L),C.return=N,C):(C=Uo(L.type,L.key,L.props,null,N.mode,Q),gl(C,L),C.return=N,C)}function z(N,C,L,Q){return C===null||C.tag!==4||C.stateNode.containerInfo!==L.containerInfo||C.stateNode.implementation!==L.implementation?(C=Kc(L,N.mode,Q),C.return=N,C):(C=c(C,L.children||[]),C.return=N,C)}function G(N,C,L,Q,at){return C===null||C.tag!==7?(C=Za(L,N.mode,Q,at),C.return=N,C):(C=c(C,L),C.return=N,C)}function F(N,C,L){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Fc(""+C,N.mode,L),C.return=N,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case P:return L=Uo(C.type,C.key,C.props,null,N.mode,L),gl(L,C),L.return=N,L;case q:return C=Kc(C,N.mode,L),C.return=N,C;case S:var Q=C._init;return C=Q(C._payload),F(N,C,L)}if(ne(C)||x(C))return C=Za(C,N.mode,L,null),C.return=N,C;if(typeof C.then=="function")return F(N,Jo(C),L);if(C.$$typeof===gt)return F(N,Bo(N,C),L);Wo(N,C)}return null}function B(N,C,L,Q){var at=C!==null?C.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return at!==null?null:E(N,C,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case P:return L.key===at?b(N,C,L,Q):null;case q:return L.key===at?z(N,C,L,Q):null;case S:return at=L._init,L=at(L._payload),B(N,C,L,Q)}if(ne(L)||x(L))return at!==null?null:G(N,C,L,Q,null);if(typeof L.then=="function")return B(N,C,Jo(L),Q);if(L.$$typeof===gt)return B(N,C,Bo(N,L),Q);Wo(N,L)}return null}function k(N,C,L,Q,at){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return N=N.get(L)||null,E(C,N,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case P:return N=N.get(Q.key===null?L:Q.key)||null,b(C,N,Q,at);case q:return N=N.get(Q.key===null?L:Q.key)||null,z(C,N,Q,at);case S:var bt=Q._init;return Q=bt(Q._payload),k(N,C,L,Q,at)}if(ne(Q)||x(Q))return N=N.get(L)||null,G(C,N,Q,at,null);if(typeof Q.then=="function")return k(N,C,L,Jo(Q),at);if(Q.$$typeof===gt)return k(N,C,L,Bo(C,Q),at);Wo(C,Q)}return null}function ft(N,C,L,Q){for(var at=null,bt=null,rt=C,ht=C=0,Ie=null;rt!==null&&ht<L.length;ht++){rt.index>ht?(Ie=rt,rt=null):Ie=rt.sibling;var xt=B(N,rt,L[ht],Q);if(xt===null){rt===null&&(rt=Ie);break}t&&rt&&xt.alternate===null&&n(N,rt),C=f(xt,C,ht),bt===null?at=xt:bt.sibling=xt,bt=xt,rt=Ie}if(ht===L.length)return a(N,rt),zt&&Ja(N,ht),at;if(rt===null){for(;ht<L.length;ht++)rt=F(N,L[ht],Q),rt!==null&&(C=f(rt,C,ht),bt===null?at=rt:bt.sibling=rt,bt=rt);return zt&&Ja(N,ht),at}for(rt=l(rt);ht<L.length;ht++)Ie=k(rt,N,ht,L[ht],Q),Ie!==null&&(t&&Ie.alternate!==null&&rt.delete(Ie.key===null?ht:Ie.key),C=f(Ie,C,ht),bt===null?at=Ie:bt.sibling=Ie,bt=Ie);return t&&rt.forEach(function(ua){return n(N,ua)}),zt&&Ja(N,ht),at}function ct(N,C,L,Q){if(L==null)throw Error(s(151));for(var at=null,bt=null,rt=C,ht=C=0,Ie=null,xt=L.next();rt!==null&&!xt.done;ht++,xt=L.next()){rt.index>ht?(Ie=rt,rt=null):Ie=rt.sibling;var ua=B(N,rt,xt.value,Q);if(ua===null){rt===null&&(rt=Ie);break}t&&rt&&ua.alternate===null&&n(N,rt),C=f(ua,C,ht),bt===null?at=ua:bt.sibling=ua,bt=ua,rt=Ie}if(xt.done)return a(N,rt),zt&&Ja(N,ht),at;if(rt===null){for(;!xt.done;ht++,xt=L.next())xt=F(N,xt.value,Q),xt!==null&&(C=f(xt,C,ht),bt===null?at=xt:bt.sibling=xt,bt=xt);return zt&&Ja(N,ht),at}for(rt=l(rt);!xt.done;ht++,xt=L.next())xt=k(rt,N,ht,xt.value,Q),xt!==null&&(t&&xt.alternate!==null&&rt.delete(xt.key===null?ht:xt.key),C=f(xt,C,ht),bt===null?at=xt:bt.sibling=xt,bt=xt);return t&&rt.forEach(function(mT){return n(N,mT)}),zt&&Ja(N,ht),at}function Kt(N,C,L,Q){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case P:t:{for(var at=L.key;C!==null;){if(C.key===at){if(at=L.type,at===Z){if(C.tag===7){a(N,C.sibling),Q=c(C,L.props.children),Q.return=N,N=Q;break t}}else if(C.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Eg(at)===C.type){a(N,C.sibling),Q=c(C,L.props),gl(Q,L),Q.return=N,N=Q;break t}a(N,C);break}else n(N,C);C=C.sibling}L.type===Z?(Q=Za(L.props.children,N.mode,Q,L.key),Q.return=N,N=Q):(Q=Uo(L.type,L.key,L.props,null,N.mode,Q),gl(Q,L),Q.return=N,N=Q)}return y(N);case q:t:{for(at=L.key;C!==null;){if(C.key===at)if(C.tag===4&&C.stateNode.containerInfo===L.containerInfo&&C.stateNode.implementation===L.implementation){a(N,C.sibling),Q=c(C,L.children||[]),Q.return=N,N=Q;break t}else{a(N,C);break}else n(N,C);C=C.sibling}Q=Kc(L,N.mode,Q),Q.return=N,N=Q}return y(N);case S:return at=L._init,L=at(L._payload),Kt(N,C,L,Q)}if(ne(L))return ft(N,C,L,Q);if(x(L)){if(at=x(L),typeof at!="function")throw Error(s(150));return L=at.call(L),ct(N,C,L,Q)}if(typeof L.then=="function")return Kt(N,C,Jo(L),Q);if(L.$$typeof===gt)return Kt(N,C,Bo(N,L),Q);Wo(N,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,C!==null&&C.tag===6?(a(N,C.sibling),Q=c(C,L),Q.return=N,N=Q):(a(N,C),Q=Fc(L,N.mode,Q),Q.return=N,N=Q),y(N)):a(N,C)}return function(N,C,L,Q){try{ml=0;var at=Kt(N,C,L,Q);return Zr=null,at}catch(rt){if(rt===rl||rt===qo)throw rt;var bt=sn(29,rt,null,N.mode);return bt.lanes=Q,bt.return=N,bt}finally{}}}var $r=Tg(!0),Ag=Tg(!1),bn=Y(null),Yn=null;function Yi(t){var n=t.alternate;$(Ee,Ee.current&1),$(bn,t),Yn===null&&(n===null||Fr.current!==null||n.memoizedState!==null)&&(Yn=t)}function Sg(t){if(t.tag===22){if($(Ee,Ee.current),$(bn,t),Yn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Yn=t)}}else Xi()}function Xi(){$(Ee,Ee.current),$(bn,bn.current)}function bi(t){et(bn),Yn===t&&(Yn=null),et(Ee)}var Ee=Y(0);function tu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||pf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function wh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Dh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=cn(),c=Qi(l);c.payload=n,a!=null&&(c.callback=a),n=Fi(t,c,l),n!==null&&(hn(n,t,l),ll(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=cn(),c=Qi(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Fi(t,c,l),n!==null&&(hn(n,t,l),ll(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=cn(),l=Qi(a);l.tag=2,n!=null&&(l.callback=n),n=Fi(t,l,a),n!==null&&(hn(n,t,a),ll(n,t,a))}};function bg(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!$s(a,l)||!$s(c,f):!0}function Rg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Dh.enqueueReplaceState(n,n.state,null)}function rr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var eu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function wg(t){eu(t)}function Dg(t){console.error(t)}function Cg(t){eu(t)}function nu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ig(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ch(t,n,a){return a=Qi(a),a.tag=3,a.payload={element:null},a.callback=function(){nu(t,n)},a}function Vg(t){return t=Qi(t),t.tag=3,t}function Og(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Ig(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Ig(n,a,l),typeof c!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function mE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&nl(n,a,c,!0),a=bn.current,a!==null){switch(a.tag){case 13:return Yn===null?Jh():a.alternate===null&&re===0&&(re=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===ih?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),tf(t,l,c)),!1;case 22:return a.flags|=65536,l===ih?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),tf(t,l,c)),!1}throw Error(s(435,a.tag))}return tf(t,l,c),Jh(),!1}if(zt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Zc&&(t=Error(s(422),{cause:l}),el(En(t,a)))):(l!==Zc&&(n=Error(s(423),{cause:l}),el(En(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,a),c=Ch(t.stateNode,l,c),sh(t,c),re!==4&&(re=2)),!1;var f=Error(s(520),{cause:l});if(f=En(f,a),Al===null?Al=[f]:Al.push(f),re!==4&&(re=2),n===null)return!0;l=En(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Ch(a.stateNode,l,t),sh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ea===null||!ea.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Vg(c),Og(c,t,a,l),sh(a,c),!1}a=a.return}while(a!==null);return!1}var Mg=Error(s(461)),De=!1;function xe(t,n,a,l){n.child=t===null?Ag(n,null,a,l):$r(n,t.child,a,l)}function Ng(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return nr(n),l=hh(t,n,a,y,f,c),E=fh(),t!==null&&!De?(dh(t,n,c),Ri(t,n,c)):(zt&&E&&Yc(n),n.flags|=1,xe(t,n,l,c),n.child)}function xg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Qc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Ug(t,n,f,l,c)):(t=Uo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Lh(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:$s,a(y,l)&&t.ref===n.ref)return Ri(t,n,c)}return n.flags|=1,t=_i(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ug(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if($s(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,Lh(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Ri(t,n,c)}return Ih(t,n,a,l,c)}function Lg(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return zg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ko(n,f!==null?f.cachePool:null),f!==null?Um(n,f):oh(),Sg(n);else return n.lanes=n.childLanes=536870912,zg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(ko(n,f.cachePool),Um(n,f),Xi(),n.memoizedState=null):(t!==null&&ko(n,null),oh(),Xi());return xe(t,n,c,a),n.child}function zg(t,n,a,l){var c=nh();return c=c===null?null:{parent:ve._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&ko(n,null),oh(),Sg(n),t!==null&&nl(t,n,l,!0),null}function iu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Ih(t,n,a,l,c){return nr(n),a=hh(t,n,a,l,void 0,c),l=fh(),t!==null&&!De?(dh(t,n,c),Ri(t,n,c)):(zt&&l&&Yc(n),n.flags|=1,xe(t,n,a,c),n.child)}function Pg(t,n,a,l,c,f){return nr(n),n.updateQueue=null,a=zm(n,l,a,c),Lm(t),l=fh(),t!==null&&!De?(dh(t,n,f),Ri(t,n,f)):(zt&&l&&Yc(n),n.flags|=1,xe(t,n,a,f),n.child)}function Bg(t,n,a,l,c){if(nr(n),n.stateNode===null){var f=qr,y=a.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ah(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?qe(y):qr,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(wh(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Dh.enqueueReplaceState(f,f.state,null),ul(n,l,f,c),ol(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=rr(a,E);f.props=b;var z=f.context,G=a.contextType;y=qr,typeof G=="object"&&G!==null&&(y=qe(G));var F=a.getDerivedStateFromProps;G=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&Rg(n,f,l,y),Gi=!1;var B=n.memoizedState;f.state=B,ul(n,l,f,c),ol(),z=n.memoizedState,E||B!==z||Gi?(typeof F=="function"&&(wh(n,a,F,l),z=n.memoizedState),(b=Gi||bg(n,a,b,l,B,z,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,rh(t,n),y=n.memoizedProps,G=rr(a,y),f.props=G,F=n.pendingProps,B=f.context,z=a.contextType,b=qr,typeof z=="object"&&z!==null&&(b=qe(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||B!==b)&&Rg(n,f,l,b),Gi=!1,B=n.memoizedState,f.state=B,ul(n,l,f,c),ol();var k=n.memoizedState;y!==F||B!==k||Gi||t!==null&&t.dependencies!==null&&Po(t.dependencies)?(typeof E=="function"&&(wh(n,a,E,l),k=n.memoizedState),(G=Gi||bg(n,a,G,l,B,k,b)||t!==null&&t.dependencies!==null&&Po(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,iu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=$r(n,t.child,null,c),n.child=$r(n,null,a,c)):xe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ri(t,n,c),t}function kg(t,n,a,l){return tl(),n.flags|=256,xe(t,n,a,l),n.child}var Vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oh(t){return{baseLanes:t,cachePool:Dm()}}function Mh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Rn),t}function qg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?Yi(n):Xi(),zt){var E=ae,b;if(b=E){t:{for(b=E,E=Kn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Nn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:$a!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},b=sn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Xe=n,ae=null,b=!0):b=!1}b||tr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return pf(E)?n.lanes=32:n.lanes=536870912,null;bi(n)}return E=l.children,l=l.fallback,c?(Xi(),c=n.mode,E=au({mode:"hidden",children:E},c),l=Za(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Oh(a),c.childLanes=Mh(t,y,a),n.memoizedState=Vh,l):(Yi(n),Nh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Yi(n),n.flags&=-257,n=xh(t,n,a)):n.memoizedState!==null?(Xi(),n.child=t.child,n.flags|=128,n=null):(Xi(),c=l.fallback,E=n.mode,l=au({mode:"visible",children:l.children},E),c=Za(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,$r(n,t.child,null,a),l=n.child,l.memoizedState=Oh(a),l.childLanes=Mh(t,y,a),n.memoizedState=Vh,n=c);else if(Yi(n),pf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(s(419)),l.stack="",l.digest=y,el({value:l,source:null,stack:null}),n=xh(t,n,a)}else if(De||nl(t,n,a,!1),y=(a&t.childLanes)!==0,De||y){if(y=Zt,y!==null&&(l=a&-a,l=(l&42)!==0?1:Li(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,kr(t,l),hn(y,t,l),Mg;E.data==="$?"||Jh(),n=xh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ae=Nn(E.nextSibling),Xe=n,zt=!0,Wa=null,Kn=!1,t!==null&&(An[Sn++]=vi,An[Sn++]=Ei,An[Sn++]=$a,vi=t.id,Ei=t.overflow,$a=n),n=Nh(n,l.children),n.flags|=4096);return n}return c?(Xi(),c=l.fallback,E=n.mode,b=t.child,z=b.sibling,l=_i(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,z!==null?c=_i(z,c):(c=Za(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Oh(a):(b=E.cachePool,b!==null?(z=ve._currentValue,b=b.parent!==z?{parent:z,pool:z}:b):b=Dm(),E={baseLanes:E.baseLanes|a,cachePool:b}),c.memoizedState=E,c.childLanes=Mh(t,y,a),n.memoizedState=Vh,l):(Yi(n),a=t.child,t=a.sibling,a=_i(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Nh(t,n){return n=au({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function au(t,n){return t=sn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function xh(t,n,a){return $r(n,t.child,null,a),t=Nh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function jg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Jc(t.return,n,a)}function Uh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Hg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,a),l=Ee.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jg(t,a,n);else if(t.tag===19)jg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($(Ee,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&tu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Uh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&tu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Uh(n,!0,a,null,f);break;case"together":Uh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ri(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ta|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(nl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=_i(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=_i(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Lh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Po(t)))}function gE(t,n,a){switch(n.tag){case 3:Xt(n,n.stateNode.containerInfo),Hi(n,ve,t.memoizedState.cache),tl();break;case 27:case 5:Ui(n);break;case 4:Xt(n,n.stateNode.containerInfo);break;case 10:Hi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Yi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?qg(t,n,a):(Yi(n),t=Ri(t,n,a),t!==null?t.sibling:null);Yi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(nl(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Hg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,Lg(t,n,a);case 24:Hi(n,ve,t.memoizedState.cache)}return Ri(t,n,a)}function Gg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!Lh(t,a)&&(n.flags&128)===0)return De=!1,gE(t,n,a);De=(t.flags&131072)!==0}else De=!1,zt&&(n.flags&1048576)!==0&&Em(n,zo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Qc(l)?(t=rr(l,t),n.tag=1,n=Bg(null,n,l,t,a)):(n.tag=0,n=Ih(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===Pt){n.tag=11,n=Ng(null,n,l,t,a);break t}else if(c===O){n.tag=14,n=xg(null,n,l,t,a);break t}}throw n=Oe(l)||l,Error(s(306,n,""))}}return n;case 0:return Ih(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=rr(l,n.pendingProps),Bg(t,n,l,c,a);case 3:t:{if(Xt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,rh(t,n),ul(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Hi(n,ve,l),l!==f.cache&&Wc(n,[ve],a,!0),ol(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=kg(t,n,l,a);break t}else if(l!==c){c=En(Error(s(424)),n),el(c),n=kg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Nn(t.firstChild),Xe=n,zt=!0,Wa=null,Kn=!0,a=Ag(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(tl(),l===c){n=Ri(t,n,a);break t}xe(t,n,l,a)}n=n.child}return n;case 26:return iu(t,n),t===null?(a=Yp(n.type,null,n.pendingProps,null))?n.memoizedState=a:zt||(a=n.type,t=n.pendingProps,l=_u(mt.current).createElement(a),l[pe]=n,l[ce]=t,Le(l,a,t),se(l),n.stateNode=l):n.memoizedState=Yp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ui(n),t===null&&zt&&(l=n.stateNode=Qp(n.type,n.pendingProps,mt.current),Xe=n,Kn=!0,c=ae,aa(n.type)?(yf=c,ae=Nn(l.firstChild)):ae=c),xe(t,n,n.pendingProps.children,a),iu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((c=l=ae)&&(l=HE(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Xe=n,ae=Nn(l.firstChild),Kn=!1,c=!0):c=!1),c||tr(n)),Ui(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,df(c,f)?l=null:y!==null&&df(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=hh(t,n,lE,null,null,a),Ol._currentValue=c),iu(t,n),xe(t,n,l,a),n.child;case 6:return t===null&&zt&&((t=a=ae)&&(a=GE(a,n.pendingProps,Kn),a!==null?(n.stateNode=a,Xe=n,ae=null,t=!0):t=!1),t||tr(n)),null;case 13:return qg(t,n,a);case 4:return Xt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=$r(n,null,l,a):xe(t,n,l,a),n.child;case 11:return Ng(t,n,n.type,n.pendingProps,a);case 7:return xe(t,n,n.pendingProps,a),n.child;case 8:return xe(t,n,n.pendingProps.children,a),n.child;case 12:return xe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Hi(n,n.type,l.value),xe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,nr(n),c=qe(c),l=l(c),n.flags|=1,xe(t,n,l,a),n.child;case 14:return xg(t,n,n.type,n.pendingProps,a);case 15:return Ug(t,n,n.type,n.pendingProps,a);case 19:return Hg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=au(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=_i(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Lg(t,n,a);case 24:return nr(n),l=qe(ve),t===null?(c=nh(),c===null&&(c=Zt,f=th(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},ah(n),Hi(n,ve,c)):((t.lanes&a)!==0&&(rh(t,n),ul(n,null,null,a),ol()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Hi(n,ve,l)):(l=f.cache,Hi(n,ve,l),l!==c.cache&&Wc(n,[ve],a,!0))),xe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function wi(t){t.flags|=4}function Qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wp(n)){if(n=bn.current,n!==null&&((Ot&4194048)===Ot?Yn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Yn))throw sl=ih,Cm;t.flags|=8192}}function ru(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ns():536870912,t.lanes|=n,es|=n)}function pl(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function pE(t,n,a){var l=n.pendingProps;switch(Xc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ai(ve),Un(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ws(n)?wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Sm())),te(n),null;case 26:return a=n.memoizedState,t===null?(wi(n),a!==null?(te(n),Qg(n,a)):(te(n),n.flags&=-16777217)):a?a!==t.memoizedState?(wi(n),te(n),Qg(n,a)):(te(n),n.flags&=-16777217):(t.memoizedProps!==l&&wi(n),te(n),n.flags&=-16777217),null;case 27:ri(n),a=mt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}t=ot.current,Ws(n)?Tm(n):(t=Qp(c,l,a),n.stateNode=t,wi(n))}return te(n),null;case 5:if(ri(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}if(t=ot.current,Ws(n))Tm(n);else{switch(c=_u(mt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[pe]=n,t[ce]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&wi(n)}}return te(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=mt.current,Ws(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[pe]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Pp(t.nodeValue,a)),t||tr(n)}else t=_u(t).createTextNode(l),t[pe]=n,n.stateNode=t}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ws(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[pe]=n}else tl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else c=Sm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(bi(n),n):(bi(n),null)}if(bi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),ru(n,n.updateQueue),te(n),null;case 4:return Un(),t===null&&of(n.stateNode.containerInfo),te(n),null;case 10:return Ai(n.type),te(n),null;case 19:if(et(Ee),c=n.memoizedState,c===null)return te(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)pl(c,!1);else{if(re!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=tu(t),f!==null){for(n.flags|=128,pl(c,!1),t=f.updateQueue,n.updateQueue=t,ru(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)vm(a,t),a=a.sibling;return $(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&mn()>ou&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304)}else{if(!l)if(t=tu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,ru(n,t),pl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!zt)return te(n),null}else 2*mn()-c.renderingStartTime>ou&&a!==536870912&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=mn(),n.sibling=null,t=Ee.current,$(Ee,l?t&1|2:t&1),n):(te(n),null);case 22:case 23:return bi(n),uh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),a=n.updateQueue,a!==null&&ru(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&et(ir),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ai(ve),te(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function yE(t,n){switch(Xc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ai(ve),Un(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ri(n),null;case 13:if(bi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));tl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Ee),null;case 4:return Un(),null;case 10:return Ai(n.type),null;case 22:case 23:return bi(n),uh(),t!==null&&et(ir),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ai(ve),null;case 25:return null;default:return null}}function Fg(t,n){switch(Xc(n),n.tag){case 3:Ai(ve),Un();break;case 26:case 27:case 5:ri(n);break;case 4:Un();break;case 13:bi(n);break;case 19:et(Ee);break;case 10:Ai(n.type);break;case 22:case 23:bi(n),uh(),t!==null&&et(ir);break;case 24:Ai(ve)}}function yl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){Yt(n,n.return,E)}}function Zi(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=a,z=E;try{z()}catch(G){Yt(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){Yt(n,n.return,G)}}function Kg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{xm(n,a)}catch(l){Yt(t,t.return,l)}}}function Yg(t,n,a){a.props=rr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function _l(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Yt(t,n,c)}}function Xn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Yt(t,n,c)}else a.current=null}function Xg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Yt(t,t.return,c)}}function zh(t,n,a){try{var l=t.stateNode;PE(l,t.type,a,n),l[ce]=n}catch(c){Yt(t,t.return,c)}}function Zg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&aa(t.type)||t.tag===4}function Ph(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Zg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&aa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=yu));else if(l!==4&&(l===27&&aa(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Bh(t,n,a),t=t.sibling;t!==null;)Bh(t,n,a),t=t.sibling}function su(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&aa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(su(t,n,a),t=t.sibling;t!==null;)su(t,n,a),t=t.sibling}function $g(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,a),n[pe]=t,n[ce]=a}catch(f){Yt(t,t.return,f)}}var Di=!1,oe=!1,kh=!1,Jg=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function _E(t,n){if(t=t.containerInfo,hf=bu,t=um(t),Pc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,b=-1,z=0,G=0,F=t,B=null;e:for(;;){for(var k;F!==a||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(k=F.firstChild)!==null;)B=F,F=k;for(;;){if(F===t)break e;if(B===a&&++z===c&&(E=y),B===f&&++G===l&&(b=y),(k=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=k}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(ff={focusedElem:t,selectionRange:a},bu=!1,Ce=n;Ce!==null;)if(n=Ce,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ce=t;else for(;Ce!==null;){switch(n=Ce,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ft=rr(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ft,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Yt(a,a.return,ct)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)gf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ce=t;break}Ce=n.return}}function Wg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$i(t,a),l&4&&yl(5,a);break;case 1:if($i(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Yt(a,a.return,y)}else{var c=rr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Yt(a,a.return,y)}}l&64&&Kg(a),l&512&&_l(a,a.return);break;case 3:if($i(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{xm(t,n)}catch(y){Yt(a,a.return,y)}}break;case 27:n===null&&l&4&&$g(a);case 26:case 5:$i(t,a),n===null&&l&4&&Xg(a),l&512&&_l(a,a.return);break;case 12:$i(t,a);break;case 13:$i(t,a),l&4&&np(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=DE.bind(null,a),QE(t,a))));break;case 22:if(l=a.memoizedState!==null||Di,!l){n=n!==null&&n.memoizedState!==null||oe,c=Di;var f=oe;Di=l,(oe=n)&&!f?Ji(t,a,(a.subtreeFlags&8772)!==0):$i(t,a),Di=c,oe=f}break;case 30:break;default:$i(t,a)}}function tp(t){var n=t.alternate;n!==null&&(t.alternate=null,tp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Bi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Jt=null,$e=!1;function Ci(t,n,a){for(a=a.child;a!==null;)ep(t,n,a),a=a.sibling}function ep(t,n,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(ie,a)}catch{}switch(a.tag){case 26:oe||Xn(a,n),Ci(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:oe||Xn(a,n);var l=Jt,c=$e;aa(a.type)&&(Jt=a.stateNode,$e=!1),Ci(t,n,a),Dl(a.stateNode),Jt=l,$e=c;break;case 5:oe||Xn(a,n);case 6:if(l=Jt,c=$e,Jt=null,Ci(t,n,a),Jt=l,$e=c,Jt!==null)if($e)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{Jt.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:Jt!==null&&($e?(t=Jt,Hp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ul(t)):Hp(Jt,a.stateNode));break;case 4:l=Jt,c=$e,Jt=a.stateNode.containerInfo,$e=!0,Ci(t,n,a),Jt=l,$e=c;break;case 0:case 11:case 14:case 15:oe||Zi(2,a,n),oe||Zi(4,a,n),Ci(t,n,a);break;case 1:oe||(Xn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Yg(a,n,l)),Ci(t,n,a);break;case 21:Ci(t,n,a);break;case 22:oe=(l=oe)||a.memoizedState!==null,Ci(t,n,a),oe=l;break;default:Ci(t,n,a)}}function np(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ul(t)}catch(a){Yt(n,n.return,a)}}function vE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Jg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Jg),n;default:throw Error(s(435,t.tag))}}function qh(t,n){var a=vE(t);n.forEach(function(l){var c=CE.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function ln(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(aa(E.type)){Jt=E.stateNode,$e=!1;break t}break;case 5:Jt=E.stateNode,$e=!1;break t;case 3:case 4:Jt=E.stateNode.containerInfo,$e=!0;break t}E=E.return}if(Jt===null)throw Error(s(160));ep(f,y,c),Jt=null,$e=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ip(n,t),n=n.sibling}var Mn=null;function ip(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(Zi(3,t,t.return),yl(3,t),Zi(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(oe||a===null||Xn(a,a.return)),l&64&&Di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Mn;if(ln(n,t),on(t),l&512&&(oe||a===null||Xn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[xa]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,a),f[pe]=t,se(f),l=f;break t;case"link":var y=$p("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,a),c.head.appendChild(f);break;case"meta":if(y=$p("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[pe]=t,se(f),l=f}t.stateNode=l}else Jp(c,t.type,t.stateNode);else t.stateNode=Zp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Jp(c,t.type,t.stateNode):Zp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&zh(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(oe||a===null||Xn(a,a.return)),a!==null&&l&4&&zh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(oe||a===null||Xn(a,a.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(k){Yt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,zh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(kh=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(k){Yt(t,t.return,k)}}break;case 3:if(Tu=null,c=Mn,Mn=vu(n.containerInfo),ln(n,t),Mn=c,on(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ul(n.containerInfo)}catch(k){Yt(t,t.return,k)}kh&&(kh=!1,ap(t));break;case 4:l=Mn,Mn=vu(t.stateNode.containerInfo),ln(n,t),on(t),Mn=l;break;case 12:ln(n,t),on(t);break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kh=mn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qh(t,l)));break;case 22:c=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,z=Di,G=oe;if(Di=z||c,oe=G||b,ln(n,t),oe=G,Di=z,on(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||b||Di||oe||sr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,B=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Yt(b,b.return,k)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(k){Yt(b,b.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,qh(t,a))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qh(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Zg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=Ph(t);su(t,f,c);break;case 5:var y=a.stateNode;a.flags&32&&(pn(y,""),a.flags&=-33);var E=Ph(t);su(t,E,y);break;case 3:case 4:var b=a.stateNode.containerInfo,z=Ph(t);Bh(t,z,b);break;default:throw Error(s(161))}}catch(G){Yt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ap(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ap(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function $i(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Wg(t,n.alternate,n),n=n.sibling}function sr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Zi(4,n,n.return),sr(n);break;case 1:Xn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Yg(n,n.return,a),sr(n);break;case 27:Dl(n.stateNode);case 26:case 5:Xn(n,n.return),sr(n);break;case 22:n.memoizedState===null&&sr(n);break;case 30:sr(n);break;default:sr(n)}t=t.sibling}}function Ji(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ji(c,f,a),yl(4,f);break;case 1:if(Ji(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Yt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Nm(b[c],E)}catch(z){Yt(l,l.return,z)}}a&&y&64&&Kg(f),_l(f,f.return);break;case 27:$g(f);case 26:case 5:Ji(c,f,a),a&&l===null&&y&4&&Xg(f),_l(f,f.return);break;case 12:Ji(c,f,a);break;case 13:Ji(c,f,a),a&&y&4&&np(c,f);break;case 22:f.memoizedState===null&&Ji(c,f,a),_l(f,f.return);break;case 30:break;default:Ji(c,f,a)}n=n.sibling}}function jh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&il(a))}function Hh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t))}function Zn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)rp(t,n,a,l),n=n.sibling}function rp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n,a,l),c&2048&&yl(9,n);break;case 1:Zn(t,n,a,l);break;case 3:Zn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t)));break;case 12:if(c&2048){Zn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Yt(n,n.return,b)}}else Zn(t,n,a,l);break;case 13:Zn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(t,n,a,l):vl(t,n):f._visibility&2?Zn(t,n,a,l):(f._visibility|=2,Jr(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&jh(y,n);break;case 24:Zn(t,n,a,l),c&2048&&Hh(n.alternate,n);break;default:Zn(t,n,a,l)}}function Jr(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,b=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:Jr(f,y,E,b,c),yl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Jr(f,y,E,b,c):vl(f,y):(G._visibility|=2,Jr(f,y,E,b,c)),c&&z&2048&&jh(y.alternate,y);break;case 24:Jr(f,y,E,b,c),c&&z&2048&&Hh(y.alternate,y);break;default:Jr(f,y,E,b,c)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:vl(a,l),c&2048&&jh(l.alternate,l);break;case 24:vl(a,l),c&2048&&Hh(l.alternate,l);break;default:vl(a,l)}n=n.sibling}}var El=8192;function Wr(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)sp(t),t=t.sibling}function sp(t){switch(t.tag){case 26:Wr(t),t.flags&El&&t.memoizedState!==null&&aT(Mn,t.memoizedState,t.memoizedProps);break;case 5:Wr(t);break;case 3:case 4:var n=Mn;Mn=vu(t.stateNode.containerInfo),Wr(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=El,El=16777216,Wr(t),El=n):Wr(t));break;default:Wr(t)}}function lp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ce=l,up(l,t)}lp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)op(t),t=t.sibling}function op(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Zi(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lu(t)):Tl(t);break;default:Tl(t)}}function lu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ce=l,up(l,t)}lp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Zi(8,n,n.return),lu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,lu(n));break;default:lu(n)}t=t.sibling}}function up(t,n){for(;Ce!==null;){var a=Ce;switch(a.tag){case 0:case 11:case 15:Zi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ce=l;else t:for(a=t;Ce!==null;){l=Ce;var c=l.sibling,f=l.return;if(tp(l),l===a){Ce=null;break t}if(c!==null){c.return=f,Ce=c;break t}Ce=f}}}var EE={getCacheForType:function(t){var n=qe(ve),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},TE=typeof WeakMap=="function"?WeakMap:Map,jt=0,Zt=null,Rt=null,Ot=0,Ht=0,un=null,Wi=!1,ts=!1,Gh=!1,Ii=0,re=0,ta=0,lr=0,Qh=0,Rn=0,es=0,Al=null,Je=null,Fh=!1,Kh=0,ou=1/0,uu=null,ea=null,Ue=0,na=null,ns=null,is=0,Yh=0,Xh=null,cp=null,Sl=0,Zh=null;function cn(){if((jt&2)!==0&&Ot!==0)return Ot&-Ot;if(H.T!==null){var t=Gr;return t!==0?t:af()}return zi()}function hp(){Rn===0&&(Rn=(Ot&536870912)===0||zt?Ms():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Rn}function hn(t,n,a){(t===Zt&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(as(t,0),ia(t,Ot,Rn,!1)),li(t,a),((jt&2)===0||t!==Zt)&&(t===Zt&&((jt&2)===0&&(lr|=a),re===4&&ia(t,Ot,Rn,!1)),$n(t))}function fp(t,n,a){if((jt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Na(t,n),c=l?bE(t,n):Wh(t,n,!0),f=l;do{if(c===0){ts&&!l&&ia(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!AE(a)){c=Wh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Al;var b=E.current.memoizedState.isDehydrated;if(b&&(as(E,y).flags|=256),y=Wh(E,y,!1),y!==2){if(Gh&&!b){E.errorRecoveryDisabledLanes|=f,lr|=f,c=4;break t}f=Je,Je=c,f!==null&&(Je===null?Je=f:Je.push.apply(Je,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){as(t,0),ia(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ia(l,n,Rn,!Wi);break t;case 2:Je=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Kh+300-mn(),10<c)){if(ia(l,n,Rn,!Wi),Tr(l,0,!0)!==0)break t;l.timeoutHandle=qp(dp.bind(null,l,a,Je,uu,Fh,n,Rn,lr,es,Wi,f,2,-0,0),c);break t}dp(l,a,Je,uu,Fh,n,Rn,lr,es,Wi,f,0,-0,0)}}break}while(!0);$n(t)}function dp(t,n,a,l,c,f,y,E,b,z,G,F,B,k){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:iT},sp(n),F=rT(),F!==null)){t.cancelPendingCommit=F(Ep.bind(null,t,n,f,a,l,c,y,E,b,G,1,B,k)),ia(t,f,y,!z);return}Ep(t,n,f,a,l,c,y,E,b)}function AE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!rn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ia(t,n,a,l){n&=~Qh,n&=~lr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ke(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&Ln(t,a,n)}function cu(){return(jt&6)===0?(bl(0),!1):!0}function $h(){if(Rt!==null){if(Ht===0)var t=Rt.return;else t=Rt,Ti=er=null,mh(t),Zr=null,ml=0,t=Rt;for(;t!==null;)Fg(t.alternate,t),t=t.return;Rt=null}}function as(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,kE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),$h(),Zt=t,Rt=a=_i(t.current,null),Ot=n,Ht=0,un=null,Wi=!1,ts=Na(t,n),Gh=!1,es=Rn=Qh=lr=ta=re=0,Je=Al=null,Fh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ke(l),f=1<<c;n|=t[c],l&=~f}return Ii=n,Mo(),a}function mp(t,n){Tt=null,H.H=$o,n===rl||n===qo?(n=Om(),Ht=3):n===Cm?(n=Om(),Ht=4):Ht=n===Mg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,Rt===null&&(re=1,nu(t,En(n,t.current)))}function gp(){var t=H.H;return H.H=$o,t===null?$o:t}function pp(){var t=H.A;return H.A=EE,t}function Jh(){re=4,Wi||(Ot&4194048)!==Ot&&bn.current!==null||(ts=!0),(ta&134217727)===0&&(lr&134217727)===0||Zt===null||ia(Zt,Ot,Rn,!1)}function Wh(t,n,a){var l=jt;jt|=2;var c=gp(),f=pp();(Zt!==t||Ot!==n)&&(uu=null,as(t,n)),n=!1;var y=re;t:do try{if(Ht!==0&&Rt!==null){var E=Rt,b=un;switch(Ht){case 8:$h(),y=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var z=Ht;if(Ht=0,un=null,rs(t,E,b,z),a&&ts){y=0;break t}break;default:z=Ht,Ht=0,un=null,rs(t,E,b,z)}}SE(),y=re;break}catch(G){mp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ti=er=null,jt=l,H.H=c,H.A=f,Rt===null&&(Zt=null,Ot=0,Mo()),y}function SE(){for(;Rt!==null;)yp(Rt)}function bE(t,n){var a=jt;jt|=2;var l=gp(),c=pp();Zt!==t||Ot!==n?(uu=null,ou=mn()+500,as(t,n)):ts=Na(t,n);t:do try{if(Ht!==0&&Rt!==null){n=Rt;var f=un;e:switch(Ht){case 1:Ht=0,un=null,rs(t,n,f,1);break;case 2:case 9:if(Im(f)){Ht=0,un=null,_p(n);break}n=function(){Ht!==2&&Ht!==9||Zt!==t||(Ht=7),$n(t)},f.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:Im(f)?(Ht=0,un=null,_p(n)):(Ht=0,un=null,rs(t,n,f,7));break;case 5:var y=null;switch(Rt.tag){case 26:y=Rt.memoizedState;case 5:case 27:var E=Rt;if(!y||Wp(y)){Ht=0,un=null;var b=E.sibling;if(b!==null)Rt=b;else{var z=E.return;z!==null?(Rt=z,hu(z)):Rt=null}break e}}Ht=0,un=null,rs(t,n,f,5);break;case 6:Ht=0,un=null,rs(t,n,f,6);break;case 8:$h(),re=6;break t;default:throw Error(s(462))}}RE();break}catch(G){mp(t,G)}while(!0);return Ti=er=null,H.H=l,H.A=c,jt=a,Rt!==null?0:(Zt=null,Ot=0,Mo(),re)}function RE(){for(;Rt!==null&&!Cs();)yp(Rt)}function yp(t){var n=Gg(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,n===null?hu(t):Rt=n}function _p(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Pg(a,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Pg(a,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:mh(n);default:Fg(a,n),n=Rt=vm(n,Ii),n=Gg(a,n,Ii)}t.memoizedProps=t.pendingProps,n===null?hu(t):Rt=n}function rs(t,n,a,l){Ti=er=null,mh(n),Zr=null,ml=0;var c=n.return;try{if(mE(t,c,n,a,Ot)){re=1,nu(t,En(a,t.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;re=1,nu(t,En(a,t.current)),Rt=null;return}n.flags&32768?(zt||l===1?t=!0:ts||(Ot&536870912)!==0?t=!1:(Wi=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vp(n,t)):hu(n)}function hu(t){var n=t;do{if((n.flags&32768)!==0){vp(n,Wi);return}t=n.return;var a=pE(n.alternate,n,Ii);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);re===0&&(re=5)}function vp(t,n){do{var a=yE(t.alternate,t);if(a!==null){a.flags&=32767,Rt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=a}while(t!==null);re=6,Rt=null}function Ep(t,n,a,l,c,f,y,E,b){t.cancelPendingCommit=null;do fu();while(Ue!==0);if((jt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Hc,xs(t,a,f,y,E,b),t===Zt&&(Rt=Zt=null,Ot=0),ns=n,na=t,is=a,Yh=f,Xh=c,cp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,IE(Ia,function(){return Rp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=tt.p,tt.p=2,y=jt,jt|=4;try{_E(t,n,a)}finally{jt=y,tt.p=c,H.T=l}}Ue=1,Tp(),Ap(),Sp()}}function Tp(){if(Ue===1){Ue=0;var t=na,n=ns,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=tt.p;tt.p=2;var c=jt;jt|=4;try{ip(n,t);var f=ff,y=um(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&om(E.ownerDocument.documentElement,E)){if(b!==null&&Pc(E)){var z=b.start,G=b.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var F=E.ownerDocument||document,B=F&&F.defaultView||window;if(B.getSelection){var k=B.getSelection(),ft=E.textContent.length,ct=Math.min(b.start,ft),Kt=b.end===void 0?ct:Math.min(b.end,ft);!k.extend&&ct>Kt&&(y=Kt,Kt=ct,ct=y);var N=lm(E,ct),C=lm(E,Kt);if(N&&C&&(k.rangeCount!==1||k.anchorNode!==N.node||k.anchorOffset!==N.offset||k.focusNode!==C.node||k.focusOffset!==C.offset)){var L=F.createRange();L.setStart(N.node,N.offset),k.removeAllRanges(),ct>Kt?(k.addRange(L),k.extend(C.node,C.offset)):(L.setEnd(C.node,C.offset),k.addRange(L))}}}}for(F=[],k=E;k=k.parentNode;)k.nodeType===1&&F.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}bu=!!hf,ff=hf=null}finally{jt=c,tt.p=l,H.T=a}}t.current=n,Ue=2}}function Ap(){if(Ue===2){Ue=0;var t=na,n=ns,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=tt.p;tt.p=2;var c=jt;jt|=4;try{Wg(t,n.alternate,n)}finally{jt=c,tt.p=l,H.T=a}}Ue=3}}function Sp(){if(Ue===4||Ue===3){Ue=0,so();var t=na,n=ns,a=is,l=cp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,ns=na=null,bp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ea=null),Ar(a),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(ie,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=tt.p,tt.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=c}}(is&3)!==0&&fu(),$n(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Zh?Sl++:(Sl=0,Zh=t):Sl=0,bl(0)}}function bp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,il(n)))}function fu(t){return Tp(),Ap(),Sp(),Rp()}function Rp(){if(Ue!==5)return!1;var t=na,n=Yh;Yh=0;var a=Ar(is),l=H.T,c=tt.p;try{tt.p=32>a?32:a,H.T=null,a=Xh,Xh=null;var f=na,y=is;if(Ue=0,ns=na=null,is=0,(jt&6)!==0)throw Error(s(331));var E=jt;if(jt|=4,op(f.current),rp(f,f.current,y,a),jt=E,bl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(ie,f)}catch{}return!0}finally{tt.p=c,H.T=l,bp(t,n)}}function wp(t,n,a){n=En(a,n),n=Ch(t.stateNode,n,2),t=Fi(t,n,2),t!==null&&(li(t,2),$n(t))}function Yt(t,n,a){if(t.tag===3)wp(t,t,a);else for(;n!==null;){if(n.tag===3){wp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ea===null||!ea.has(l))){t=En(a,t),a=Vg(2),l=Fi(n,a,2),l!==null&&(Og(a,l,n,t),li(l,2),$n(l));break}}n=n.return}}function tf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new TE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Gh=!0,c.add(a),t=wE.bind(null,t,n,a),n.then(t,t))}function wE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Zt===t&&(Ot&a)===a&&(re===4||re===3&&(Ot&62914560)===Ot&&300>mn()-Kh?(jt&2)===0&&as(t,0):Qh|=a,es===Ot&&(es=0)),$n(t)}function Dp(t,n){n===0&&(n=Ns()),t=kr(t,n),t!==null&&(li(t,n),$n(t))}function DE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Dp(t,a)}function CE(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Dp(t,a)}function IE(t,n){return Da(t,n)}var du=null,ss=null,ef=!1,mu=!1,nf=!1,or=0;function $n(t){t!==ss&&t.next===null&&(ss===null?du=ss=t:ss=ss.next=t),mu=!0,ef||(ef=!0,OE())}function bl(t,n){if(!nf&&mu){nf=!0;do for(var a=!1,l=du;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ke(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Op(l,f))}else f=Ot,f=Tr(l,l===Zt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Na(l,f)||(a=!0,Op(l,f));l=l.next}while(a);nf=!1}}function VE(){Cp()}function Cp(){mu=ef=!1;var t=0;or!==0&&(BE()&&(t=or),or=0);for(var n=mn(),a=null,l=du;l!==null;){var c=l.next,f=Ip(l,n);f===0?(l.next=null,a===null?du=c:a.next=c,c===null&&(ss=a)):(a=l,(t!==0||(f&3)!==0)&&(mu=!0)),l=c}bl(t)}function Ip(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ke(f),E=1<<y,b=c[y];b===-1?((E&a)===0||(E&l)!==0)&&(c[y]=Os(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Zt,a=Ot,a=Tr(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ca(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Na(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ca(l),Ar(a)){case 2:case 8:a=vr;break;case 32:a=Ia;break;case 268435456:a=Er;break;default:a=Ia}return l=Vp.bind(null,t),a=Da(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ca(l),t.callbackPriority=2,t.callbackNode=null,2}function Vp(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(fu()&&t.callbackNode!==a)return null;var l=Ot;return l=Tr(t,t===Zt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(fp(t,l,n),Ip(t,mn()),t.callbackNode!=null&&t.callbackNode===a?Vp.bind(null,t):null)}function Op(t,n){if(fu())return null;fp(t,n,!0)}function OE(){qE(function(){(jt&6)!==0?Da(Is,VE):Cp()})}function af(){return or===0&&(or=Ms()),or}function Mp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Cr(""+t)}function Np(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function ME(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Mp((c[ce]||null).action),y=l.submitter;y&&(n=(n=y[ce]||null)?Mp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ir("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(or!==0){var b=y?Np(c,y):new FormData(c);Sh(a,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Np(c,y):new FormData(c),Sh(a,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var rf=0;rf<jc.length;rf++){var sf=jc[rf],NE=sf.toLowerCase(),xE=sf[0].toUpperCase()+sf.slice(1);On(NE,"on"+xE)}On(fm,"onAnimationEnd"),On(dm,"onAnimationIteration"),On(mm,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On($0,"onTransitionRun"),On(J0,"onTransitionStart"),On(W0,"onTransitionCancel"),On(gm,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function xp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,z=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(G){eu(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,z=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(G){eu(G)}c.currentTarget=null,f=b}}}}function wt(t,n){var a=n[Ls];a===void 0&&(a=n[Ls]=new Set);var l=t+"__bubble";a.has(l)||(Up(n,t,2,!1),a.add(l))}function lf(t,n,a){var l=0;n&&(l|=4),Up(a,t,l,n)}var gu="_reactListening"+Math.random().toString(36).slice(2);function of(t){if(!t[gu]){t[gu]=!0,zs.forEach(function(a){a!=="selectionchange"&&(UE.has(a)||lf(a,!1,t),lf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gu]||(n[gu]=!0,lf("selectionchange",!1,n))}}function Up(t,n,a,l){switch(ry(n)){case 2:var c=oT;break;case 8:c=uT;break;default:c=Af}a=c.bind(null,n,a,t),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function uf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=oi(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}yo(function(){var z=f,G=yn(a),F=[];t:{var B=pm.get(t);if(B!==void 0){var k=Ir,ft=t;switch(t){case"keypress":if(jn(a)===0)break t;case"keydown":case"keyup":k=Ur;break;case"focusin":ft="focus",k=Mr;break;case"focusout":ft="blur",k=Mr;break;case"beforeblur":case"afterblur":k=Mr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=xc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Ro;break;case fm:case dm:case mm:k=Nr;break;case gm:k=Do;break;case"scroll":case"scrollend":k=_o;break;case"wheel":k=Lr;break;case"copy":case"cut":case"paste":k=xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Xs;break;case"toggle":case"beforetoggle":k=Io}var ct=(n&4)!==0,Kt=!ct&&(t==="scroll"||t==="scrollend"),N=ct?B!==null?B+"Capture":null:B;ct=[];for(var C=z,L;C!==null;){var Q=C;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||N===null||(Q=qa(C,N),Q!=null&&ct.push(wl(C,Q,L))),Kt)break;C=C.return}0<ct.length&&(B=new k(B,ft,null,a,G),F.push({event:B,listeners:ct}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&a!==fi&&(ft=a.relatedTarget||a.fromElement)&&(oi(ft)||ft[gn]))break t;if((k||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,k?(ft=a.relatedTarget||a.toElement,k=z,ft=ft?oi(ft):null,ft!==null&&(Kt=h(ft),ct=ft.tag,ft!==Kt||ct!==5&&ct!==27&&ct!==6)&&(ft=null)):(k=null,ft=z),k!==ft)){if(ct=vn,Q="onMouseLeave",N="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ct=Xs,Q="onPointerLeave",N="onPointerEnter",C="pointer"),Kt=k==null?B:Pn(k),L=ft==null?B:Pn(ft),B=new ct(Q,C+"leave",k,a,G),B.target=Kt,B.relatedTarget=L,Q=null,oi(G)===z&&(ct=new ct(N,C+"enter",ft,a,G),ct.target=L,ct.relatedTarget=Kt,Q=ct),Kt=Q,k&&ft)e:{for(ct=k,N=ft,C=0,L=ct;L;L=ls(L))C++;for(L=0,Q=N;Q;Q=ls(Q))L++;for(;0<C-L;)ct=ls(ct),C--;for(;0<L-C;)N=ls(N),L--;for(;C--;){if(ct===N||N!==null&&ct===N.alternate)break e;ct=ls(ct),N=ls(N)}ct=null}else ct=null;k!==null&&Lp(F,B,k,ct,!1),ft!==null&&Kt!==null&&Lp(F,Kt,ft,ct,!0)}}t:{if(B=z?Pn(z):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var at=em;else if(_e(B))if(nm)at=Y0;else{at=F0;var bt=Q0}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&js(z.elementType)&&(at=em):at=K0;if(at&&(at=at(t,z))){yi(F,at,a,G);break t}bt&&bt(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&qi(B,"number",B.value)}switch(bt=z?Pn(z):window,t){case"focusin":(_e(bt)||bt.contentEditable==="true")&&(zr=bt,Bc=z,Js=null);break;case"focusout":Js=Bc=zr=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,cm(F,a,G);break;case"selectionchange":if(Z0)break;case"keydown":case"keyup":cm(F,a,G)}var rt;if(Qn)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else It?j(t,a)&&(ht="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ht="onCompositionStart");ht&&(p&&a.locale!=="ko"&&(It||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&It&&(rt=Gs()):(qn=G,ji="value"in qn?qn.value:qn.textContent,It=!0)),bt=pu(z,ht),0<bt.length&&(ht=new Ks(ht,t,null,a,G),F.push({event:ht,listeners:bt}),rt?ht.data=rt:(rt=W(a),rt!==null&&(ht.data=rt)))),(rt=m?ye(t,a):Vt(t,a))&&(ht=pu(z,"onBeforeInput"),0<ht.length&&(bt=new Ks("onBeforeInput","beforeinput",null,a,G),F.push({event:bt,listeners:ht}),bt.data=rt)),ME(F,t,z,a,G)}xp(F,n)})}function wl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function pu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=qa(t,a),c!=null&&l.unshift(wl(t,c,f)),c=qa(t,n),c!=null&&l.push(wl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Lp(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,b=E.alternate,z=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||z===null||(b=z,c?(z=qa(a,f),z!=null&&y.unshift(wl(a,z,b))):c||(z=qa(a,f),z!=null&&y.push(wl(a,z,b)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var LE=/\r\n?/g,zE=/\u0000|\uFFFD/g;function zp(t){return(typeof t=="string"?t:""+t).replace(LE,`
`).replace(zE,"")}function Pp(t,n){return n=zp(n),zp(t)===n}function yu(){}function Ft(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,a,l);break;case"style":qs(t,l,f);break;case"data":if(n!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Cr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Cr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=yu);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Cr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":wt("beforetoggle",t),wt("toggle",t),ki(t,"popover",l);break;case"xlinkActuate":Me(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Me(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Me(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Me(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Me(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Me(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Me(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Me(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Me(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ki(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mc.get(a)||a,ki(t,a,l))}}function cf(t,n,a,l,c,f){switch(a){case"style":qs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[ce]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ki(t,a,l)}}}function Le(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",t),wt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ft(t,n,f,y,a,null)}}c&&Ft(t,n,"srcSet",a.srcSet,a,null),l&&Ft(t,n,"src",a.src,a,null);return;case"input":wt("invalid",t);var E=f=y=c=null,b=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Ft(t,n,l,G,a,null)}}Pa(t,f,E,b,z,y,c,!1),Dr(t);return;case"select":wt("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Ft(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?hi(t,!!l,n,!1):a!=null&&hi(t,!!l,a,!0);return;case"textarea":wt("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Ft(t,n,y,E,a,null)}Ba(t,l,c,f),Dr(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,b,l,a,null)}return;case"dialog":wt("beforetoggle",t),wt("toggle",t),wt("cancel",t),wt("close",t);break;case"iframe":case"object":wt("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)wt(Rl[l],t);break;case"image":wt("error",t),wt("load",t);break;case"details":wt("toggle",t);break;case"embed":case"source":case"link":wt("error",t),wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ft(t,n,z,l,a,null)}return;default:if(js(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&cf(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Ft(t,n,E,l,a,null))}function PE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,z=null,G=null;for(k in a){var F=a[k];if(a.hasOwnProperty(k)&&F!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(k)||Ft(t,n,k,null,l,F)}}for(var B in l){var k=l[B];if(F=a[B],l.hasOwnProperty(B)&&(k!=null||F!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":z=k;break;case"defaultChecked":G=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==F&&Ft(t,n,B,k,l,F)}}an(t,y,E,b,z,G,f,c);return;case"select":k=y=E=B=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":k=b;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=a[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Ft(t,n,c,f,l,b)}n=E,a=y,l=k,B!=null?hi(t,!!a,B,!1):!!l!=!!a&&(n!=null?hi(t,!!a,n,!0):hi(t,!!a,a?[]:"",!1));return;case"textarea":k=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Ft(t,n,y,c,l,f)}Gt(t,B,k);return;case"option":for(var ft in a)if(B=a[ft],a.hasOwnProperty(ft)&&B!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":t.selected=!1;break;default:Ft(t,n,ft,null,l,B)}for(b in l)if(B=l[b],k=a[b],l.hasOwnProperty(b)&&B!==k&&(B!=null||k!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ft(t,n,b,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in a)B=a[ct],a.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct)&&Ft(t,n,ct,null,l,B);for(z in l)if(B=l[z],k=a[z],l.hasOwnProperty(z)&&B!==k&&(B!=null||k!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Ft(t,n,z,B,l,k)}return;default:if(js(n)){for(var Kt in a)B=a[Kt],a.hasOwnProperty(Kt)&&B!==void 0&&!l.hasOwnProperty(Kt)&&cf(t,n,Kt,void 0,l,B);for(G in l)B=l[G],k=a[G],!l.hasOwnProperty(G)||B===k||B===void 0&&k===void 0||cf(t,n,G,B,l,k);return}}for(var N in a)B=a[N],a.hasOwnProperty(N)&&B!=null&&!l.hasOwnProperty(N)&&Ft(t,n,N,null,l,B);for(F in l)B=l[F],k=a[F],!l.hasOwnProperty(F)||B===k||B==null&&k==null||Ft(t,n,F,B,l,k)}var hf=null,ff=null;function _u(t){return t.nodeType===9?t:t.ownerDocument}function Bp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function df(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var mf=null;function BE(){var t=window.event;return t&&t.type==="popstate"?t===mf?!1:(mf=t,!0):(mf=null,!1)}var qp=typeof setTimeout=="function"?setTimeout:void 0,kE=typeof clearTimeout=="function"?clearTimeout:void 0,jp=typeof Promise=="function"?Promise:void 0,qE=typeof queueMicrotask=="function"?queueMicrotask:typeof jp<"u"?function(t){return jp.resolve(null).then(t).catch(jE)}:qp;function jE(t){setTimeout(function(){throw t})}function aa(t){return t==="head"}function Hp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&Dl(y.documentElement),a&2&&Dl(y.body),a&4)for(a=y.head,Dl(a),y=a.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[xa]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(f),Ul(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Ul(n)}function gf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gf(a),Bi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function HE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xa])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Nn(t.nextSibling),t===null)break}return null}function GE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Nn(t.nextSibling),t===null))return null;return t}function pf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function QE(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Nn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var yf=null;function Gp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Qp(t,n,a){switch(n=_u(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Dl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Bi(t)}var wn=new Map,Fp=new Set;function vu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Vi=tt.d;tt.d={f:FE,r:KE,D:YE,C:XE,L:ZE,m:$E,X:WE,S:JE,M:tT};function FE(){var t=Vi.f(),n=cu();return t||n}function KE(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?fg(n):Vi.r(t)}var os=typeof document>"u"?null:document;function Kp(t,n,a){var l=os;if(l&&typeof n=="string"&&n){var c=he(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Fp.has(c)||(Fp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),se(n),l.head.appendChild(n)))}}function YE(t){Vi.D(t),Kp("dns-prefetch",t,null)}function XE(t,n){Vi.C(t,n),Kp("preconnect",t,n)}function ZE(t,n,a){Vi.L(t,n,a);var l=os;if(l&&t&&n){var c='link[rel="preload"][as="'+he(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+he(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+he(a.imageSizes)+'"]')):c+='[href="'+he(t)+'"]';var f=c;switch(n){case"style":f=us(t);break;case"script":f=cs(t)}wn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Cl(f))||n==="script"&&l.querySelector(Il(f))||(n=l.createElement("link"),Le(n,"link",t),se(n),l.head.appendChild(n)))}}function $E(t,n){Vi.m(t,n);var a=os;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+he(l)+'"][href="'+he(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=cs(t)}if(!wn.has(f)&&(t=A({rel:"modulepreload",href:t},n),wn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(f)))return}l=a.createElement("link"),Le(l,"link",t),se(l),a.head.appendChild(l)}}}function JE(t,n,a){Vi.S(t,n,a);var l=os;if(l&&t){var c=Fe(l).hoistableStyles,f=us(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Cl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=wn.get(f))&&_f(t,a);var b=y=l.createElement("link");se(b),Le(b,"link",t),b._p=new Promise(function(z,G){b.onload=z,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Eu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function WE(t,n){Vi.X(t,n);var a=os;if(a&&t){var l=Fe(a).hoistableScripts,c=cs(t),f=l.get(c);f||(f=a.querySelector(Il(c)),f||(t=A({src:t,async:!0},n),(n=wn.get(c))&&vf(t,n),f=a.createElement("script"),se(f),Le(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function tT(t,n){Vi.M(t,n);var a=os;if(a&&t){var l=Fe(a).hoistableScripts,c=cs(t),f=l.get(c);f||(f=a.querySelector(Il(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&vf(t,n),f=a.createElement("script"),se(f),Le(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Yp(t,n,a,l){var c=(c=mt.current)?vu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=us(a.href),a=Fe(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=us(a.href);var f=Fe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Cl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},wn.set(t,a),f||eT(c,t,a,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cs(a),a=Fe(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function us(t){return'href="'+he(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function Xp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function eT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",a),se(n),t.head.appendChild(n))}function cs(t){return'[src="'+he(t)+'"]'}function Il(t){return"script[async]"+t}function Zp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+he(a.href)+'"]');if(l)return n.instance=l,se(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),se(l),Le(l,"style",c),Eu(l,a.precedence,t),n.instance=l;case"stylesheet":c=us(a.href);var f=t.querySelector(Cl(c));if(f)return n.state.loading|=4,n.instance=f,se(f),f;l=Xp(a),(c=wn.get(c))&&_f(l,c),f=(t.ownerDocument||t).createElement("link"),se(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",l),n.state.loading|=4,Eu(f,a.precedence,t),n.instance=f;case"script":return f=cs(a.src),(c=t.querySelector(Il(f)))?(n.instance=c,se(c),c):(l=a,(c=wn.get(f))&&(l=A({},a),vf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),se(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Eu(l,a.precedence,t));return n.instance}function Eu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function _f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Tu=null;function $p(t,n,a){if(Tu===null){var l=new Map,c=Tu=new Map;c.set(a,l)}else c=Tu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[xa]||f[pe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Jp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function nT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Wp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Vl=null;function iT(){}function aT(t,n,a){if(Vl===null)throw Error(s(475));var l=Vl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=us(a.href),f=t.querySelector(Cl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Au.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,se(f);return}f=t.ownerDocument||t,a=Xp(a),(c=wn.get(c))&&_f(a,c),f=f.createElement("link"),se(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Au.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function rT(){if(Vl===null)throw Error(s(475));var t=Vl;return t.stylesheets&&t.count===0&&Ef(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Ef(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Au(){if(this.count--,this.count===0){if(this.stylesheets)Ef(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Su=null;function Ef(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Su=new Map,n.forEach(sT,t),Su=null,Au.call(t))}function sT(t,n){if(!(n.state.loading&4)){var a=Su.get(t);if(a)var l=a.get(null);else{a=new Map,Su.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=Au.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:gt,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function lT(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ty(t,n,a,l,c,f,y,E,b,z,G,F){return t=new lT(t,n,a,y,E,b,z,F),n=1,f===!0&&(n|=24),f=sn(3,null,null,n),t.current=f,f.stateNode=t,n=th(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},ah(f),t}function ey(t){return t?(t=qr,t):qr}function ny(t,n,a,l,c,f){c=ey(c),l.context===null?l.context=c:l.pendingContext=c,l=Qi(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Fi(t,l,n),a!==null&&(hn(a,t,n),ll(a,t,n))}function iy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Tf(t,n){iy(t,n),(t=t.alternate)&&iy(t,n)}function ay(t){if(t.tag===13){var n=kr(t,67108864);n!==null&&hn(n,t,67108864),Tf(t,67108864)}}var bu=!0;function oT(t,n,a,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=2,Af(t,n,a,l)}finally{tt.p=f,H.T=c}}function uT(t,n,a,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=8,Af(t,n,a,l)}finally{tt.p=f,H.T=c}}function Af(t,n,a,l){if(bu){var c=Sf(l);if(c===null)uf(t,n,l,Ru,a),sy(t,l);else if(hT(c,t,n,a,l))l.stopPropagation();else if(sy(t,l),n&4&&-1<cT.indexOf(t)){for(;c!==null;){var f=zn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Cn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-ke(y);E.entanglements[1]|=b,y&=~b}$n(f),(jt&6)===0&&(ou=mn()+500,bl(0))}}break;case 13:E=kr(f,2),E!==null&&hn(E,f,2),cu(),Tf(f,2)}if(f=Sf(l),f===null&&uf(t,n,l,Ru,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else uf(t,n,l,null,a)}}function Sf(t){return t=yn(t),bf(t)}var Ru=null;function bf(t){if(Ru=null,t=oi(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ru=t,null}function ry(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wc()){case Is:return 2;case vr:return 8;case Ia:case Dc:return 32;case Er:return 268435456;default:return 32}default:return 32}}var Rf=!1,ra=null,sa=null,la=null,Ml=new Map,Nl=new Map,oa=[],cT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sy(t,n){switch(t){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(n.pointerId)}}function xl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=zn(n),n!==null&&ay(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function hT(t,n,a,l,c){switch(n){case"focusin":return ra=xl(ra,t,n,a,l,c),!0;case"dragenter":return sa=xl(sa,t,n,a,l,c),!0;case"mouseover":return la=xl(la,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Ml.set(f,xl(Ml.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Nl.set(f,xl(Nl.get(f)||null,t,n,a,l,c)),!0}return!1}function ly(t){var n=oi(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,uo(t.priority,function(){if(a.tag===13){var l=cn();l=Li(l);var c=kr(a,l);c!==null&&hn(c,a,l),Tf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Sf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);fi=l,a.target.dispatchEvent(l),fi=null}else return n=zn(a),n!==null&&ay(n),t.blockedOn=a,!1;n.shift()}return!0}function oy(t,n,a){wu(t)&&a.delete(n)}function fT(){Rf=!1,ra!==null&&wu(ra)&&(ra=null),sa!==null&&wu(sa)&&(sa=null),la!==null&&wu(la)&&(la=null),Ml.forEach(oy),Nl.forEach(oy)}function Du(t,n){t.blockedOn===n&&(t.blockedOn=null,Rf||(Rf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fT)))}var Cu=null;function uy(t){Cu!==t&&(Cu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Cu===t&&(Cu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(bf(l||a)===null)continue;break}var f=zn(a);f!==null&&(t.splice(n,3),n-=3,Sh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Ul(t){function n(b){return Du(b,t)}ra!==null&&Du(ra,t),sa!==null&&Du(sa,t),la!==null&&Du(la,t),Ml.forEach(n),Nl.forEach(n);for(var a=0;a<oa.length;a++){var l=oa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<oa.length&&(a=oa[0],a.blockedOn===null);)ly(a),a.blockedOn===null&&oa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[ce]||null;if(typeof f=="function")y||uy(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ce]||null)E=y.formAction;else if(bf(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),uy(a)}}}function wf(t){this._internalRoot=t}Iu.prototype.render=wf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=cn();ny(a,l,t,n,null,null)},Iu.prototype.unmount=wf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ny(t.current,2,null,t,null,null),cu(),n[gn]=null}};function Iu(t){this._internalRoot=t}Iu.prototype.unstable_scheduleHydration=function(t){if(t){var n=zi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<oa.length&&n!==0&&n<oa[a].priority;a++);oa.splice(a,0,t),a===0&&ly(t)}};var cy=e.version;if(cy!=="19.1.0")throw Error(s(527,cy,"19.1.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var dT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{ie=Vu.inject(dT),qt=Vu}catch{}}return zl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=wg,f=Dg,y=Cg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ty(t,1,!1,null,null,a,l,c,f,y,E,null),t[gn]=n.current,of(t),new wf(n)},zl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=wg,y=Dg,E=Cg,b=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),n=ty(t,1,!0,n,a??null,l,c,f,y,E,b,z),n.context=ey(null),a=n.current,l=cn(),l=Li(l),c=Qi(l),c.callback=null,Fi(a,c,l),a=l,n.current.lanes=a,li(n,a),$n(n),t[gn]=n.current,of(t),new Iu(n)},zl.version="19.1.0",zl}var Ey;function ST(){if(Ey)return If.exports;Ey=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),If.exports=AT(),If.exports}var bT=ST();const RT=()=>{};var Ty={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},wT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],g=r[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},P_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,g=d?r[o+1]:0,_=o+2<r.length,v=_?r[o+2]:0,A=h>>2,V=(h&3)<<4|g>>4;let P=(g&15)<<2|v>>6,q=v&63;_||(q=64,d||(P=64)),s.push(i[A],i[V],i[P],i[q])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(z_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):wT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const v=o<r.length?i[r.charAt(o)]:64;++o;const V=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||g==null||v==null||V==null)throw new DT;const P=h<<2|g>>4;if(s.push(P),v!==64){const q=g<<4&240|v>>2;if(s.push(q),V!==64){const Z=v<<6&192|V;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class DT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CT=function(r){const e=z_(r);return P_.encodeByteArray(e,!0)},Gu=function(r){return CT(r).replace(/\./g,"")},IT=function(r){try{return P_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=()=>VT().__FIREBASE_DEFAULTS__,MT=()=>{if(typeof process>"u"||typeof Ty>"u")return;const r=Ty.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},NT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&IT(r[1]);return e&&JSON.parse(e)},gd=()=>{try{return RT()||OT()||MT()||NT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},xT=r=>{var e,i;return(i=(e=gd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},UT=r=>{const e=xT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},B_=()=>{var r;return(r=gd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Gu(JSON.stringify(i)),Gu(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BT(){var r;const e=(r=gd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function qT(){return!BT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k_(){try{return typeof indexedDB=="object"}catch{return!1}}function q_(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}function jT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="FirebaseError";class Sa extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=HT,Object.setPrototypeOf(this,Sa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sc.prototype.create)}}class sc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?GT(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Sa(o,g,s)}}function GT(r,e){return r.replace(QT,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const QT=/\{\$([^}]+)}/g;function Fl(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if(Ay(h)&&Ay(d)){if(!Fl(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Ay(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=1e3,KT=2,YT=4*60*60*1e3,XT=.5;function Sy(r,e=FT,i=KT){const s=e*Math.pow(i,r),o=Math.round(XT*s*(Math.random()-.5)*2);return Math.min(YT,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(r){return r&&r._delegate?r._delegate:r}class Oi{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new LT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JT(e))try{this.getOrInitializeService({instanceIdentifier:ur})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ur){return this.instances.has(e)}getOptions(e=ur){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$T(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ur){return this.component?this.component.multipleInstances?e:ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $T(r){return r===ur?void 0:r}function JT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ZT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const tA={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},eA=Nt.INFO,nA={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},iA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=nA[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pd{constructor(e){this.name=e,this._logLevel=eA,this._logHandler=iA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}const aA=(r,e)=>e.some(i=>r instanceof i);let by,Ry;function rA(){return by||(by=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sA(){return Ry||(Ry=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j_=new WeakMap,Gf=new WeakMap,H_=new WeakMap,Nf=new WeakMap,yd=new WeakMap;function lA(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(ha(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&j_.set(i,r)}).catch(()=>{}),yd.set(e,r),e}function oA(r){if(Gf.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Gf.set(r,e)}let Qf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Gf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||H_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ha(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function uA(r){Qf=r(Qf)}function cA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(xf(this),e,...i);return H_.set(s,e.sort?e.sort():[e]),ha(s)}:sA().includes(r)?function(...e){return r.apply(xf(this),e),ha(j_.get(this))}:function(...e){return ha(r.apply(xf(this),e))}}function hA(r){return typeof r=="function"?cA(r):(r instanceof IDBTransaction&&oA(r),aA(r,rA())?new Proxy(r,Qf):r)}function ha(r){if(r instanceof IDBRequest)return lA(r);if(Nf.has(r))return Nf.get(r);const e=hA(r);return e!==r&&(Nf.set(r,e),yd.set(e,r)),e}const xf=r=>yd.get(r);function G_(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),g=ha(d);return s&&d.addEventListener("upgradeneeded",_=>{s(ha(d.result),_.oldVersion,_.newVersion,ha(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const fA=["get","getKey","getAll","getAllKeys","count"],dA=["put","add","delete","clear"],Uf=new Map;function wy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=dA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||fA.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return Uf.set(e,h),h}uA(r=>({...r,get:(e,i,s)=>wy(e,i)||r.get(e,i,s),has:(e,i)=>!!wy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(gA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function gA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ff="@firebase/app",Dy="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new pd("@firebase/app"),pA="@firebase/app-compat",yA="@firebase/analytics-compat",_A="@firebase/analytics",vA="@firebase/app-check-compat",EA="@firebase/app-check",TA="@firebase/auth",AA="@firebase/auth-compat",SA="@firebase/database",bA="@firebase/data-connect",RA="@firebase/database-compat",wA="@firebase/functions",DA="@firebase/functions-compat",CA="@firebase/installations",IA="@firebase/installations-compat",VA="@firebase/messaging",OA="@firebase/messaging-compat",MA="@firebase/performance",NA="@firebase/performance-compat",xA="@firebase/remote-config",UA="@firebase/remote-config-compat",LA="@firebase/storage",zA="@firebase/storage-compat",PA="@firebase/firestore",BA="@firebase/vertexai",kA="@firebase/firestore-compat",qA="firebase",jA="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="[DEFAULT]",HA={[Ff]:"fire-core",[pA]:"fire-core-compat",[_A]:"fire-analytics",[yA]:"fire-analytics-compat",[EA]:"fire-app-check",[vA]:"fire-app-check-compat",[TA]:"fire-auth",[AA]:"fire-auth-compat",[SA]:"fire-rtdb",[bA]:"fire-data-connect",[RA]:"fire-rtdb-compat",[wA]:"fire-fn",[DA]:"fire-fn-compat",[CA]:"fire-iid",[IA]:"fire-iid-compat",[VA]:"fire-fcm",[OA]:"fire-fcm-compat",[MA]:"fire-perf",[NA]:"fire-perf-compat",[xA]:"fire-rc",[UA]:"fire-rc-compat",[LA]:"fire-gcs",[zA]:"fire-gcs-compat",[PA]:"fire-fst",[kA]:"fire-fst-compat",[BA]:"fire-vertex","fire-js":"fire-js",[qA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new Map,GA=new Map,Yf=new Map;function Cy(r,e){try{r.container.addComponent(e)}catch(i){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function pa(r){const e=r.name;if(Yf.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Yf.set(e,r);for(const i of Qu.values())Cy(i,r);for(const i of GA.values())Cy(i,r);return!0}function to(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function QA(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new sc("app","Firebase",FA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=jA;function Q_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Kf,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw fa.create("bad-app-name",{appName:String(o)});if(i||(i=B_()),!i)throw fa.create("no-options");const h=Qu.get(o);if(h){if(Fl(i,h.options)&&Fl(s,h.config))return h;throw fa.create("duplicate-app",{appName:o})}const d=new WT(o);for(const _ of Yf.values())d.addComponent(_);const g=new KA(i,s,d);return Qu.set(o,g),g}function F_(r=Kf){const e=Qu.get(r);if(!e&&r===Kf&&B_())return Q_();if(!e)throw fa.create("no-app",{appName:r});return e}function Wn(r,e,i){var s;let o=(s=HA[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(g.join(" "));return}pa(new Oi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="firebase-heartbeat-database",ZA=1,Kl="firebase-heartbeat-store";let Lf=null;function K_(){return Lf||(Lf=G_(XA,ZA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(r=>{throw fa.create("idb-open",{originalErrorMessage:r.message})})),Lf}async function $A(r){try{const i=(await K_()).transaction(Kl),s=await i.objectStore(Kl).get(Y_(r));return await i.done,s}catch(e){if(e instanceof Sa)Mi.warn(e.message);else{const i=fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(i.message)}}}async function Iy(r,e){try{const s=(await K_()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,Y_(r)),await s.done}catch(i){if(i instanceof Sa)Mi.warn(i.message);else{const s=fa.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Mi.warn(s.message)}}}function Y_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=1024,WA=30;class tS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new nS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Vy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>WA){const d=iS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Mi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Vy(),{heartbeatsToSend:s,unsentEntries:o}=eS(this._heartbeatsCache.heartbeats),h=Gu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Mi.warn(i),""}}}function Vy(){return new Date().toISOString().substring(0,10)}function eS(r,e=JA){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Oy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Oy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class nS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k_()?q_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await $A(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Iy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Iy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Oy(r){return Gu(JSON.stringify({version:2,heartbeats:r})).length}function iS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(r){pa(new Oi("platform-logger",e=>new mA(e),"PRIVATE")),pa(new Oi("heartbeat",e=>new tS(e),"PRIVATE")),Wn(Ff,Dy,r),Wn(Ff,Dy,"esm2017"),Wn("fire-js","")}aS("");var rS="firebase",sS="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn(rS,sS,"app");const X_="@firebase/installations",_d="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=1e4,$_=`w:${_d}`,J_="FIS_v2",lS="https://firebaseinstallations.googleapis.com/v1",oS=60*60*1e3,uS="installations",cS="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},fr=new sc(uS,cS,hS);function W_(r){return r instanceof Sa&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv({projectId:r}){return`${lS}/projects/${r}/installations`}function ev(r){return{token:r.token,requestStatus:2,expiresIn:dS(r.expiresIn),creationTime:Date.now()}}async function nv(r,e){const s=(await e.json()).error;return fr.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function iv({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function fS(r,{refreshToken:e}){const i=iv(r);return i.append("Authorization",mS(e)),i}async function av(r){const e=await r();return e.status>=500&&e.status<600?r():e}function dS(r){return Number(r.replace("s","000"))}function mS(r){return`${J_} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gS({appConfig:r,heartbeatServiceProvider:e},{fid:i}){const s=tv(r),o=iv(r),h=e.getImmediate({optional:!0});if(h){const v=await h.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={fid:i,authVersion:J_,appId:r.appId,sdkVersion:$_},g={method:"POST",headers:o,body:JSON.stringify(d)},_=await av(()=>fetch(s,g));if(_.ok){const v=await _.json();return{fid:v.fid||i,registrationStatus:2,refreshToken:v.refreshToken,authToken:ev(v.authToken)}}else throw await nv("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=/^[cdef][\w-]{21}$/,Xf="";function _S(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=vS(r);return yS.test(i)?i:Xf}catch{return Xf}}function vS(r){return pS(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=new Map;function lv(r,e){const i=lc(r);ov(i,e),ES(i,e)}function ov(r,e){const i=sv.get(r);if(i)for(const s of i)s(e)}function ES(r,e){const i=TS();i&&i.postMessage({key:r,fid:e}),AS()}let cr=null;function TS(){return!cr&&"BroadcastChannel"in self&&(cr=new BroadcastChannel("[Firebase] FID Change"),cr.onmessage=r=>{ov(r.data.key,r.data.fid)}),cr}function AS(){sv.size===0&&cr&&(cr.close(),cr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="firebase-installations-database",bS=1,dr="firebase-installations-store";let zf=null;function vd(){return zf||(zf=G_(SS,bS,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(dr)}}})),zf}async function Fu(r,e){const i=lc(r),o=(await vd()).transaction(dr,"readwrite"),h=o.objectStore(dr),d=await h.get(i);return await h.put(e,i),await o.done,(!d||d.fid!==e.fid)&&lv(r,e.fid),e}async function uv(r){const e=lc(r),s=(await vd()).transaction(dr,"readwrite");await s.objectStore(dr).delete(e),await s.done}async function oc(r,e){const i=lc(r),o=(await vd()).transaction(dr,"readwrite"),h=o.objectStore(dr),d=await h.get(i),g=e(d);return g===void 0?await h.delete(i):await h.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&lv(r,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ed(r){let e;const i=await oc(r.appConfig,s=>{const o=RS(s),h=wS(r,o);return e=h.registrationPromise,h.installationEntry});return i.fid===Xf?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function RS(r){const e=r||{fid:_S(),registrationStatus:0};return cv(e)}function wS(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(fr.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=DS(r,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:CS(r)}:{installationEntry:e}}async function DS(r,e){try{const i=await gS(r,e);return Fu(r.appConfig,i)}catch(i){throw W_(i)&&i.customData.serverCode===409?await uv(r.appConfig):await Fu(r.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function CS(r){let e=await My(r.appConfig);for(;e.registrationStatus===1;)await rv(100),e=await My(r.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await Ed(r);return s||i}return e}function My(r){return oc(r,e=>{if(!e)throw fr.create("installation-not-found");return cv(e)})}function cv(r){return IS(r)?{fid:r.fid,registrationStatus:0}:r}function IS(r){return r.registrationStatus===1&&r.registrationTime+Z_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VS({appConfig:r,heartbeatServiceProvider:e},i){const s=OS(r,i),o=fS(r,i),h=e.getImmediate({optional:!0});if(h){const v=await h.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={installation:{sdkVersion:$_,appId:r.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},_=await av(()=>fetch(s,g));if(_.ok){const v=await _.json();return ev(v)}else throw await nv("Generate Auth Token",_)}function OS(r,{fid:e}){return`${tv(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(r,e=!1){let i;const s=await oc(r.appConfig,h=>{if(!hv(h))throw fr.create("not-registered");const d=h.authToken;if(!e&&xS(d))return h;if(d.requestStatus===1)return i=MS(r,e),h;{if(!navigator.onLine)throw fr.create("app-offline");const g=LS(h);return i=NS(r,g),g}});return i?await i:s.authToken}async function MS(r,e){let i=await Ny(r.appConfig);for(;i.authToken.requestStatus===1;)await rv(100),i=await Ny(r.appConfig);const s=i.authToken;return s.requestStatus===0?Td(r,e):s}function Ny(r){return oc(r,e=>{if(!hv(e))throw fr.create("not-registered");const i=e.authToken;return zS(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function NS(r,e){try{const i=await VS(r,e),s=Object.assign(Object.assign({},e),{authToken:i});return await Fu(r.appConfig,s),i}catch(i){if(W_(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await uv(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Fu(r.appConfig,s)}throw i}}function hv(r){return r!==void 0&&r.registrationStatus===2}function xS(r){return r.requestStatus===2&&!US(r)}function US(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+oS}function LS(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function zS(r){return r.requestStatus===1&&r.requestTime+Z_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PS(r){const e=r,{installationEntry:i,registrationPromise:s}=await Ed(e);return s?s.catch(console.error):Td(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BS(r,e=!1){const i=r;return await kS(i),(await Td(i,e)).token}async function kS(r){const{registrationPromise:e}=await Ed(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(r){if(!r||!r.options)throw Pf("App Configuration");if(!r.name)throw Pf("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!r.options[i])throw Pf(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Pf(r){return fr.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="installations",jS="installations-internal",HS=r=>{const e=r.getProvider("app").getImmediate(),i=qS(e),s=to(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},GS=r=>{const e=r.getProvider("app").getImmediate(),i=to(e,fv).getImmediate();return{getId:()=>PS(i),getToken:o=>BS(i,o)}};function QS(){pa(new Oi(fv,HS,"PUBLIC")),pa(new Oi(jS,GS,"PRIVATE"))}QS();Wn(X_,_d);Wn(X_,_d,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku="analytics",FS="firebase_id",KS="origin",YS=60*1e3,XS="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ad="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en=new pd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},dn=new sc("analytics","Analytics",ZS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(r){if(!r.startsWith(Ad)){const e=dn.create("invalid-gtag-resource",{gtagURL:r});return en.warn(e.message),""}return r}function dv(r){return Promise.all(r.map(e=>e.catch(i=>i)))}function JS(r,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,e)),i}function WS(r,e){const i=JS("firebase-js-sdk-policy",{createScriptURL:$S}),s=document.createElement("script"),o=`${Ad}?l=${r}&id=${e}`;s.src=i?i==null?void 0:i.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function tb(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function eb(r,e,i,s,o,h){const d=s[o];try{if(d)await e[d];else{const _=(await dv(i)).find(v=>v.measurementId===o);_&&await e[_.appId]}}catch(g){en.error(g)}r("config",o,h)}async function nb(r,e,i,s,o){try{let h=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await dv(i);for(const _ of d){const v=g.find(V=>V.measurementId===_),A=v&&e[v.appId];if(A)h.push(A);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),r("event",s,o||{})}catch(h){en.error(h)}}function ib(r,e,i,s){async function o(h,...d){try{if(h==="event"){const[g,_]=d;await nb(r,e,i,g,_)}else if(h==="config"){const[g,_]=d;await eb(r,e,i,s,g,_)}else if(h==="consent"){const[g,_]=d;r("consent",g,_)}else if(h==="get"){const[g,_,v]=d;r("get",g,_,v)}else if(h==="set"){const[g]=d;r("set",g)}else r(h,...d)}catch(g){en.error(g)}}return o}function ab(r,e,i,s,o){let h=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(h=window[o]),window[o]=ib(h,r,e,i),{gtagCore:h,wrappedGtag:window[o]}}function rb(r){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(Ad)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=30,lb=1e3;class ob{constructor(e={},i=lb){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const mv=new ob;function ub(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function cb(r){var e;const{appId:i,apiKey:s}=r,o={method:"GET",headers:ub(s)},h=XS.replace("{app-id}",i),d=await fetch(h,o);if(d.status!==200&&d.status!==304){let g="";try{const _=await d.json();!((e=_.error)===null||e===void 0)&&e.message&&(g=_.error.message)}catch{}throw dn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:g})}return d.json()}async function hb(r,e=mv,i){const{appId:s,apiKey:o,measurementId:h}=r.options;if(!s)throw dn.create("no-app-id");if(!o){if(h)return{measurementId:h,appId:s};throw dn.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new mb;return setTimeout(async()=>{g.abort()},YS),gv({appId:s,apiKey:o,measurementId:h},d,g,e)}async function gv(r,{throttleEndTimeMillis:e,backoffCount:i},s,o=mv){var h;const{appId:d,measurementId:g}=r;try{await fb(s,e)}catch(_){if(g)return en.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:d,measurementId:g};throw _}try{const _=await cb(r);return o.deleteThrottleMetadata(d),_}catch(_){const v=_;if(!db(v)){if(o.deleteThrottleMetadata(d),g)return en.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:d,measurementId:g};throw _}const A=Number((h=v==null?void 0:v.customData)===null||h===void 0?void 0:h.httpStatus)===503?Sy(i,o.intervalMillis,sb):Sy(i,o.intervalMillis),V={throttleEndTimeMillis:Date.now()+A,backoffCount:i+1};return o.setThrottleMetadata(d,V),en.debug(`Calling attemptFetch again in ${A} millis`),gv(r,V,s,o)}}function fb(r,e){return new Promise((i,s)=>{const o=Math.max(e-Date.now(),0),h=setTimeout(i,o);r.addEventListener(()=>{clearTimeout(h),s(dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function db(r){if(!(r instanceof Sa)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class mb{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function gb(r,e,i,s,o){if(o&&o.global){r("event",i,s);return}else{const h=await e,d=Object.assign(Object.assign({},s),{send_to:h});r("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(){if(k_())try{await q_()}catch(r){return en.warn(dn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return en.warn(dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function yb(r,e,i,s,o,h,d){var g;const _=hb(r);_.then(q=>{i[q.measurementId]=q.appId,r.options.measurementId&&q.measurementId!==r.options.measurementId&&en.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${q.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(q=>en.error(q)),e.push(_);const v=pb().then(q=>{if(q)return s.getId()}),[A,V]=await Promise.all([_,v]);rb(h)||WS(h,A.measurementId),o("js",new Date);const P=(g=d==null?void 0:d.config)!==null&&g!==void 0?g:{};return P[KS]="firebase",P.update=!0,V!=null&&(P[FS]=V),o("config",A.measurementId,P),A.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.app=e}_delete(){return delete ql[this.app.options.appId],Promise.resolve()}}let ql={},xy=[];const Uy={};let Bf="dataLayer",vb="gtag",Ly,pv,zy=!1;function Eb(){const r=[];if(kT()&&r.push("This is a browser extension environment."),jT()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=dn.create("invalid-analytics-context",{errorInfo:e});en.warn(i.message)}}function Tb(r,e,i){Eb();const s=r.options.appId;if(!s)throw dn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)en.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw dn.create("no-api-key");if(ql[s]!=null)throw dn.create("already-exists",{id:s});if(!zy){tb(Bf);const{wrappedGtag:h,gtagCore:d}=ab(ql,xy,Uy,Bf,vb);pv=h,Ly=d,zy=!0}return ql[s]=yb(r,xy,Uy,e,Ly,Bf,i),new _b(r)}function Ab(r=F_()){r=ni(r);const e=to(r,Ku);return e.isInitialized()?e.getImmediate():Sb(r)}function Sb(r,e={}){const i=to(r,Ku);if(i.isInitialized()){const o=i.getImmediate();if(Fl(e,i.getOptions()))return o;throw dn.create("already-initialized")}return i.initialize({options:e})}function bb(r,e,i,s){r=ni(r),gb(pv,ql[r.app.options.appId],e,i,s).catch(o=>en.error(o))}const Py="@firebase/analytics",By="0.10.12";function Rb(){pa(new Oi(Ku,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return Tb(s,o,i)},"PUBLIC")),pa(new Oi("analytics-internal",r,"PRIVATE")),Wn(Py,By),Wn(Py,By,"esm2017");function r(e){try{const i=e.getProvider(Ku).getImmediate();return{logEvent:(s,o,h)=>bb(i,s,o,h)}}catch(i){throw dn.create("interop-component-reg-failed",{reason:i})}}}Rb();var ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var da,yv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function w(){}w.prototype=S.prototype,O.D=S.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(I,M,x){for(var R=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)R[Oe-2]=arguments[Oe];return S.prototype[M].apply(I,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,S,w){w||(w=0);var I=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)I[M]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(M=0;16>M;++M)I[M]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=O.g[0],w=O.g[1],M=O.g[2];var x=O.g[3],R=S+(x^w&(M^x))+I[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=x+(M^S&(w^M))+I[1]+3905402710&4294967295,x=S+(R<<12&4294967295|R>>>20),R=M+(w^x&(S^w))+I[2]+606105819&4294967295,M=x+(R<<17&4294967295|R>>>15),R=w+(S^M&(x^S))+I[3]+3250441966&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(x^w&(M^x))+I[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(M^S&(w^M))+I[5]+1200080426&4294967295,x=S+(R<<12&4294967295|R>>>20),R=M+(w^x&(S^w))+I[6]+2821735955&4294967295,M=x+(R<<17&4294967295|R>>>15),R=w+(S^M&(x^S))+I[7]+4249261313&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(x^w&(M^x))+I[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(M^S&(w^M))+I[9]+2336552879&4294967295,x=S+(R<<12&4294967295|R>>>20),R=M+(w^x&(S^w))+I[10]+4294925233&4294967295,M=x+(R<<17&4294967295|R>>>15),R=w+(S^M&(x^S))+I[11]+2304563134&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(x^w&(M^x))+I[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(M^S&(w^M))+I[13]+4254626195&4294967295,x=S+(R<<12&4294967295|R>>>20),R=M+(w^x&(S^w))+I[14]+2792965006&4294967295,M=x+(R<<17&4294967295|R>>>15),R=w+(S^M&(x^S))+I[15]+1236535329&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(M^x&(w^M))+I[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^M&(S^w))+I[6]+3225465664&4294967295,x=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(x^S))+I[11]+643717713&4294967295,M=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(M^x))+I[0]+3921069994&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^x&(w^M))+I[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^M&(S^w))+I[10]+38016083&4294967295,x=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(x^S))+I[15]+3634488961&4294967295,M=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(M^x))+I[4]+3889429448&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^x&(w^M))+I[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^M&(S^w))+I[14]+3275163606&4294967295,x=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(x^S))+I[3]+4107603335&4294967295,M=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(M^x))+I[8]+1163531501&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^x&(w^M))+I[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^M&(S^w))+I[2]+4243563512&4294967295,x=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(x^S))+I[7]+1735328473&4294967295,M=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(M^x))+I[12]+2368359562&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(w^M^x)+I[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^M)+I[8]+2272392833&4294967295,x=S+(R<<11&4294967295|R>>>21),R=M+(x^S^w)+I[11]+1839030562&4294967295,M=x+(R<<16&4294967295|R>>>16),R=w+(M^x^S)+I[14]+4259657740&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^x)+I[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^M)+I[4]+1272893353&4294967295,x=S+(R<<11&4294967295|R>>>21),R=M+(x^S^w)+I[7]+4139469664&4294967295,M=x+(R<<16&4294967295|R>>>16),R=w+(M^x^S)+I[10]+3200236656&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^x)+I[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^M)+I[0]+3936430074&4294967295,x=S+(R<<11&4294967295|R>>>21),R=M+(x^S^w)+I[3]+3572445317&4294967295,M=x+(R<<16&4294967295|R>>>16),R=w+(M^x^S)+I[6]+76029189&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^x)+I[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^M)+I[12]+3873151461&4294967295,x=S+(R<<11&4294967295|R>>>21),R=M+(x^S^w)+I[15]+530742520&4294967295,M=x+(R<<16&4294967295|R>>>16),R=w+(M^x^S)+I[2]+3299628645&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(M^(w|~x))+I[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~M))+I[7]+1126891415&4294967295,x=S+(R<<10&4294967295|R>>>22),R=M+(S^(x|~w))+I[14]+2878612391&4294967295,M=x+(R<<15&4294967295|R>>>17),R=w+(x^(M|~S))+I[5]+4237533241&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~x))+I[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~M))+I[3]+2399980690&4294967295,x=S+(R<<10&4294967295|R>>>22),R=M+(S^(x|~w))+I[10]+4293915773&4294967295,M=x+(R<<15&4294967295|R>>>17),R=w+(x^(M|~S))+I[1]+2240044497&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~x))+I[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~M))+I[15]+4264355552&4294967295,x=S+(R<<10&4294967295|R>>>22),R=M+(S^(x|~w))+I[6]+2734768916&4294967295,M=x+(R<<15&4294967295|R>>>17),R=w+(x^(M|~S))+I[13]+1309151649&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~x))+I[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~M))+I[11]+3174756917&4294967295,x=S+(R<<10&4294967295|R>>>22),R=M+(S^(x|~w))+I[2]+718787259&4294967295,M=x+(R<<15&4294967295|R>>>17),R=w+(x^(M|~S))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+x&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var w=S-this.blockSize,I=this.B,M=this.h,x=0;x<S;){if(M==0)for(;x<=w;)o(this,O,x),x+=this.blockSize;if(typeof O=="string"){for(;x<S;)if(I[M++]=O.charCodeAt(x++),M==this.blockSize){o(this,I),M=0;break}}else for(;x<S;)if(I[M++]=O[x++],M==this.blockSize){o(this,I),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var w=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=w&255,w/=256;for(this.u(O),O=Array(16),S=w=0;4>S;++S)for(var I=0;32>I;I+=8)O[w++]=this.g[S]>>>I&255;return O};function h(O,S){var w=g;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=S(O)}function d(O,S){this.h=S;for(var w=[],I=!0,M=O.length-1;0<=M;M--){var x=O[M]|0;I&&x==S||(w[M]=x,I=!1)}this.g=w}var g={};function _(O){return-128<=O&&128>O?h(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return V;if(0>O)return J(v(-O));for(var S=[],w=1,I=0;O>=w;I++)S[I]=O/w|0,w*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return J(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(S,8)),I=V,M=0;M<O.length;M+=8){var x=Math.min(8,O.length-M),R=parseInt(O.substring(M,M+x),S);8>x?(x=v(Math.pow(S,x)),I=I.j(x).add(v(R))):(I=I.j(w),I=I.add(v(R)))}return I}var V=_(0),P=_(1),q=_(16777216);r=d.prototype,r.m=function(){if(it(this))return-J(this).m();for(var O=0,S=1,w=0;w<this.g.length;w++){var I=this.i(w);O+=(0<=I?I:4294967296+I)*S,S*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Z(this))return"0";if(it(this))return"-"+J(this).toString(O);for(var S=v(Math.pow(O,6)),w=this,I="";;){var M=Pt(w,S).g;w=Dt(w,M.j(S));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=M,Z(w))return x+I;for(;6>x.length;)x="0"+x;I=x+I}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Z(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function it(O){return O.h==-1}r.l=function(O){return O=Dt(this,O),it(O)?-1:Z(O)?0:1};function J(O){for(var S=O.g.length,w=[],I=0;I<S;I++)w[I]=~O.g[I];return new d(w,~O.h).add(P)}r.abs=function(){return it(this)?J(this):this},r.add=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0,M=0;M<=S;M++){var x=I+(this.i(M)&65535)+(O.i(M)&65535),R=(x>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);I=R>>>16,x&=65535,R&=65535,w[M]=R<<16|x}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Dt(O,S){return O.add(J(S))}r.j=function(O){if(Z(this)||Z(O))return V;if(it(this))return it(O)?J(this).j(J(O)):J(J(this).j(O));if(it(O))return J(this.j(J(O)));if(0>this.l(q)&&0>O.l(q))return v(this.m()*O.m());for(var S=this.g.length+O.g.length,w=[],I=0;I<2*S;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<O.g.length;M++){var x=this.i(I)>>>16,R=this.i(I)&65535,Oe=O.i(M)>>>16,ne=O.i(M)&65535;w[2*I+2*M]+=R*ne,Et(w,2*I+2*M),w[2*I+2*M+1]+=x*ne,Et(w,2*I+2*M+1),w[2*I+2*M+1]+=R*Oe,Et(w,2*I+2*M+1),w[2*I+2*M+2]+=x*Oe,Et(w,2*I+2*M+2)}for(I=0;I<S;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=S;I<2*S;I++)w[I]=0;return new d(w,0)};function Et(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function gt(O,S){this.g=O,this.h=S}function Pt(O,S){if(Z(S))throw Error("division by zero");if(Z(O))return new gt(V,V);if(it(O))return S=Pt(J(O),S),new gt(J(S.g),J(S.h));if(it(S))return S=Pt(O,J(S)),new gt(J(S.g),S.h);if(30<O.g.length){if(it(O)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var w=P,I=S;0>=I.l(O);)w=_t(w),I=_t(I);var M=Ut(w,1),x=Ut(I,1);for(I=Ut(I,2),w=Ut(w,2);!Z(I);){var R=x.add(I);0>=R.l(O)&&(M=M.add(w),x=R),I=Ut(I,1),w=Ut(w,1)}return S=Dt(O,M.j(S)),new gt(M,S)}for(M=V;0<=O.l(S);){for(w=Math.max(1,Math.floor(O.m()/S.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),x=v(w),R=x.j(S);it(R)||0<R.l(O);)w-=I,x=v(w),R=x.j(S);Z(x)&&(x=P),M=M.add(x),O=Dt(O,R)}return new gt(M,O)}r.A=function(O){return Pt(this,O).h},r.and=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)&O.i(I);return new d(w,this.h&O.h)},r.or=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)|O.i(I);return new d(w,this.h|O.h)},r.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)^O.i(I);return new d(w,this.h^O.h)};function _t(O){for(var S=O.g.length+1,w=[],I=0;I<S;I++)w[I]=O.i(I)<<1|O.i(I-1)>>>31;return new d(w,O.h)}function Ut(O,S){var w=S>>5;S%=32;for(var I=O.g.length-w,M=[],x=0;x<I;x++)M[x]=0<S?O.i(x+w)>>>S|O.i(x+w+1)<<32-S:O.i(x+w);return new d(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,yv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,da=d}).apply(typeof ky<"u"?ky:typeof self<"u"?self:typeof window<"u"?window:{});var Ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _v,Pl,vv,Pu,Zf,Ev,Tv,Av;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ou=="object"&&Ou];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in p))break t;p=p[U]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,U={next:function(){if(!T&&p<u.length){var j=p++;return{value:m(j,u[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function V(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function P(u,m,p){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:V,P.apply(null,arguments)}function q(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,U,j){for(var W=Array(arguments.length-2),It=2;It<arguments.length;It++)W[It-2]=arguments[It];return m.prototype[U].apply(T,W)}}function it(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function J(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const U=u.length||0,j=T.length||0;u.length=U+j;for(let W=0;W<j;W++)u[U+W]=T[W]}else u.push(T)}}class Dt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Et(u){return/^[\s\xa0]*$/.test(u)}function gt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Pt(u){return Pt[" "](u),u}Pt[" "]=function(){};var _t=gt().indexOf("Gecko")!=-1&&!(gt().toLowerCase().indexOf("webkit")!=-1&&gt().indexOf("Edge")==-1)&&!(gt().indexOf("Trident")!=-1||gt().indexOf("MSIE")!=-1)&&gt().indexOf("Edge")==-1;function Ut(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function O(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)u[p]=T[p];for(let j=0;j<w.length;j++)p=w[j],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function M(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function x(u){g.setTimeout(()=>{throw u},0)}function R(){var u=Lt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Oe{constructor(){this.h=this.g=null}add(m,p){const T=ne.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ne=new Dt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,st=!1,Lt=new Oe,D=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(Y)}};var Y=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){x(p)}var m=ne;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}st=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function St(u,m){if($.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(_t){t:{try{Pt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:mt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&St.aa.h.call(this)}}Z(St,$);var mt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Xt=0;function Un(u,m,p,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++Xt,this.da=this.fa=!1}function Ui(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ri(u){this.src=u,this.g={},this.h=0}ri.prototype.add=function(u,m,p,T,U){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var W=Da(u,m,T,U);return-1<W?(m=u[W],p||(m.fa=!1)):(m=new Un(m,this.src,j,!!T,U),m.fa=p,u.push(m)),m};function wa(u,m){var p=m.type;if(p in u.g){var T=u.g[p],U=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=U)&&Array.prototype.splice.call(T,U,1),j&&(Ui(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Da(u,m,p,T){for(var U=0;U<u.length;++U){var j=u[U];if(!j.da&&j.listener==m&&j.capture==!!p&&j.ha==T)return U}return-1}var Ca="closure_lm_"+(1e6*Math.random()|0),Cs={};function so(u,m,p,T,U){if(Array.isArray(m)){for(var j=0;j<m.length;j++)so(u,m[j],p,T,U);return null}return p=lo(p),u&&u[be]?u.K(m,p,v(T)?!!T.capture:!1,U):mn(u,m,p,!1,T,U)}function mn(u,m,p,T,U,j){if(!m)throw Error("Invalid event type");var W=v(U)?!!U.capture:!!U,It=Er(u);if(It||(u[Ca]=It=new ri(u)),p=It.add(m,p,T,W,j),p.proxy)return p;if(T=wc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ot||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Ia(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function wc(){function u(p){return m.call(u.src,u.listener,p)}const m=Dc;return u}function Is(u,m,p,T,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)Is(u,m[j],p,T,U);else T=v(T)?!!T.capture:!!T,p=lo(p),u&&u[be]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],p=Da(j,p,T,U),-1<p&&(Ui(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=Er(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Da(m,p,T,U)),(p=-1<u?m[u]:null)&&vr(p))}function vr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[be])wa(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Ia(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Er(m))?(wa(p,u),p.h==0&&(p.src=null,m[Ca]=null)):Ui(u)}}}function Ia(u){return u in Cs?Cs[u]:Cs[u]="on"+u}function Dc(u,m){if(u.da)u=!0;else{m=new St(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&vr(u),u=p.call(T,m)}return u}function Er(u){return u=u[Ca],u instanceof ri?u:null}var Vs="__closure_events_fn_"+(1e9*Math.random()>>>0);function lo(u){return typeof u=="function"?u:(u[Vs]||(u[Vs]=function(m){return u.handleEvent(m)}),u[Vs])}function ie(){et.call(this),this.i=new ri(this),this.M=this,this.F=null}Z(ie,et),ie.prototype[be]=!0,ie.prototype.removeEventListener=function(u,m,p,T){Is(this,u,m,p,T)};function qt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new $(m,u);else if(m instanceof $)m.target=m.target||u;else{var U=m;m=new $(T,u),I(m,U)}if(U=!0,p)for(var j=p.length-1;0<=j;j--){var W=m.g=p[j];U=nn(W,T,!0,m)&&U}if(W=m.g=u,U=nn(W,T,!0,m)&&U,U=nn(W,T,!1,m)&&U,p)for(j=0;j<p.length;j++)W=m.g=p[j],U=nn(W,T,!1,m)&&U}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Ui(p[T]);delete u.g[m],u.h--}}this.F=null},ie.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ie.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function nn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,j=0;j<m.length;++j){var W=m[j];if(W&&!W.da&&W.capture==p){var It=W.listener,ye=W.ha||W.src;W.fa&&wa(u.i,W),U=It.call(ye,T)!==!1&&U}}return U&&!T.defaultPrevented}function ke(u,m,p){if(typeof u=="function")p&&(u=P(u,p));else if(u&&typeof u.handleEvent=="function")u=P(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function oo(u){u.g=ke(()=>{u.g=null,u.i&&(u.i=!1,oo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Cc extends et{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:oo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Va(u){et.call(this),this.h=u,this.g={}}Z(Va,et);var Oa=[];function Ma(u){Ut(u.g,function(m,p){this.g.hasOwnProperty(p)&&vr(m)},u),u.g={}}Va.prototype.N=function(){Va.aa.N.call(this),Ma(this)},Va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=g.JSON.stringify,Tr=g.JSON.parse,Na=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Os(){}Os.prototype.h=null;function Ms(u){return u.h||(u.h=u.i())}function Ns(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){$.call(this,"d")}Z(li,$);function xs(){$.call(this,"c")}Z(xs,$);var Ln={},Us=null;function Li(){return Us=Us||new ie}Ln.La="serverreachability";function Ar(u){$.call(this,Ln.La,u)}Z(Ar,$);function zi(u){const m=Li();qt(m,new Ar(m))}Ln.STAT_EVENT="statevent";function uo(u,m){$.call(this,Ln.STAT_EVENT,u),this.stat=m}Z(uo,$);function $t(u){const m=Li();qt(m,new uo(m,u))}Ln.Ma="timingevent";function pe(u,m){$.call(this,Ln.Ma,u),this.size=m}Z(pe,$);function ce(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function Ls(u,m,p,T,U,j){u.info(function(){if(u.g)if(j)for(var W="",It=j.split("&"),ye=0;ye<It.length;ye++){var Vt=It[ye].split("=");if(1<Vt.length){var we=Vt[0];Vt=Vt[1];var _e=we.split("_");W=2<=_e.length&&_e[1]=="type"?W+(we+"="+Vt+"&"):W+(we+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+W})}function Ic(u,m,p,T,U,j,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+j+" "+W})}function Pi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+xa(u,p)+(T?" "+T:"")})}function co(u,m){u.info(function(){return"TIMEOUT: "+m})}gn.prototype.info=function(){};function xa(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var j=U[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<U.length;W++)U[W]=""}}}}return Cn(p)}catch{return m}}var Bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function Pn(){}Z(Pn,Os),Pn.prototype.g=function(){return new XMLHttpRequest},Pn.prototype.i=function(){return{}},zn=new Pn;function Fe(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Va(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new se}function se(){this.i=null,this.g="",this.h=!1}var zs={},Sr={};function In(u,m,p){u.L=1,u.v=Ba(an(m)),u.m=p,u.P=!0,ui(u,null)}function ui(u,m){u.F=Date.now(),Ua(u),u.A=an(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Hs(p.i,"t",T),u.C=0,p=u.j.J,u.h=new se,u.g=Do(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Cc(P(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Oa[0]=U.toString()),U=Oa);for(var j=0;j<U.length;j++){var W=so(p,U[j],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),zi(),Ls(u.i,u.u,u.A,u.l,u.R,u.m)}Fe.prototype.ca=function(u){u=u.target;const m=this.M;m&&vn(u)==3?m.j():this.Y(u)},Fe.prototype.Y=function(u){try{if(u==this.g)t:{const _e=vn(this.g);var m=this.g.Ba();const yi=this.g.Z();if(!(3>_e)&&(_e!=3||this.g&&(this.h.h||this.g.oa()||vo(this.g)))){this.J||_e!=4||m==7||(m==8||0>=yi?zi(3):zi(2)),ki(this);var p=this.g.Z();this.X=p;e:if(ho(this)){var T=vo(this.g);u="";var U=T.length,j=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),Bn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(j&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,Ic(this.i,this.u,this.A,this.l,this.R,_e,p),this.o){if(this.T&&!this.K){e:{if(this.g){var It,ye=this.g;if((It=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Et(It)){var Vt=It;break e}}Vt=null}if(p=Vt)Pi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,La(this,p);else{this.o=!1,this.s=3,$t(12),Me(this),Bn(this);break t}}if(this.P){p=!0;let Ne;for(;!this.J&&this.C<W.length;)if(Ne=fo(this,W),Ne==Sr){_e==4&&(this.s=4,$t(14),p=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ne==zs){this.s=4,$t(15),Pi(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else Pi(this.i,this.l,Ne,null),La(this,Ne);if(ho(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||W.length!=0||this.h.h||(this.s=1,$t(16),p=!1),this.o=this.o&&p,!p)Pi(this.i,this.l,W,"[Invalid Chunked Response]"),Me(this),Bn(this);else if(0<W.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Ka(we),we.M=!0,$t(11))}}else Pi(this.i,this.l,W,null),La(this,W);_e==4&&Me(this),this.o&&!this.J&&(_e==4?bo(this.j,this):(this.o=!1,Ua(this)))}else xc(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),Me(this),Bn(this)}}}catch{}finally{}};function ho(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function fo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Sr:(p=Number(m.substring(p,T)),isNaN(p)?zs:(T+=1,T+p>m.length?Sr:(m=m.slice(T,T+p),u.C=T+p,m)))}Fe.prototype.cancel=function(){this.J=!0,Me(this)};function Ua(u){u.S=Date.now()+u.I,mo(u,u.I)}function mo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ce(P(u.ba,u),m)}function ki(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Fe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(co(this.i,this.A),this.L!=2&&(zi(),$t(17)),Me(this),this.s=2,Bn(this)):mo(this,this.S-u)};function Bn(u){u.j.G==0||u.J||bo(u.j,u)}function Me(u){ki(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ma(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function La(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Ps(p.h,u))){if(!u.K&&Ps(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Ur(p),Nr(p);else break t;Ys(p),$t(18)}}else p.za=U[1],0<p.za-p.T&&37500>U[2]&&p.F&&p.v==0&&!p.C&&(p.C=ce(P(p.Za,p),6e3));if(1>=Rr(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else pi(p,11)}else if((u.K||p.g==u)&&Ur(p),!Et(m))for(U=p.Da.g.parse(m),m=0;m<U.length;m++){let Vt=U[m];if(p.T=Vt[0],Vt=Vt[1],p.G==2)if(Vt[0]=="c"){p.K=Vt[1],p.ia=Vt[2];const we=Vt[3];we!=null&&(p.la=we,p.j.info("VER="+p.la));const _e=Vt[4];_e!=null&&(p.Aa=_e,p.j.info("SVER="+p.Aa));const yi=Vt[5];yi!=null&&typeof yi=="number"&&0<yi&&(T=1.5*yi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Ne=u.g;if(Ne){const Fn=Ne.g?Ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fn){var j=T.h;j.g||Fn.indexOf("spdy")==-1&&Fn.indexOf("quic")==-1&&Fn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(wr(j,j.h),j.h=null))}if(T.D){const Zs=Ne.g?Ne.g.getResponseHeader("X-HTTP-Session-Id"):null;Zs&&(T.ya=Zs,Gt(T.I,T.D,Zs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=u;if(T.qa=wo(T,T.J?T.ia:null,T.W),W.K){Ke(T.h,W);var It=W,ye=T.L;ye&&(It.I=ye),It.B&&(ki(It),Ua(It)),T.g=W}else Ao(T);0<p.i.length&&xr(p)}else Vt[0]!="stop"&&Vt[0]!="close"||pi(p,7);else p.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?pi(p,7):Fs(p):Vt[0]!="noop"&&p.l&&p.l.ta(Vt),p.v=0)}}zi(4)}catch{}}var go=class{constructor(u,m){this.g=u,this.map=m}};function ci(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function br(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Rr(u){return u.h?1:u.g?u.g.size:0}function Ps(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wr(u,m){u.g?u.g.add(m):u.h=m}function Ke(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ci.prototype.cancel=function(){if(this.i=Bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Bs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return it(u.i)}function Vc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Dr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function ks(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Dr(u),T=Vc(u),U=T.length,j=0;j<U;j++)m.call(void 0,T[j],p&&p[j],u)}var za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),U=null;if(0<=T){var j=u[p].substring(0,T);U=u[p].substring(T+1)}else j=u[p];m(j,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function he(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof he){this.h=u.h,Pa(this,u.j),this.o=u.o,this.g=u.g,qi(this,u.s),this.l=u.l;var m=u.i,p=new fi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),hi(this,p),this.m=u.m}else u&&(m=String(u).match(za))?(this.h=!1,Pa(this,m[1]||"",!0),this.o=pn(m[2]||""),this.g=pn(m[3]||"",!0),qi(this,m[4]),this.l=pn(m[5]||"",!0),hi(this,m[6]||"",!0),this.m=pn(m[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}he.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ka(m,qs,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ka(m,qs,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(ka(p,p.charAt(0)=="/"?Mc:js,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",ka(p,Cr)),u.join("")};function an(u){return new he(u)}function Pa(u,m,p){u.j=p?pn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function qi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function hi(u,m,p){m instanceof fi?(u.i=m,yo(u.i,u.h)):(p||(m=ka(m,Nc)),u.i=new fi(m,u.h))}function Gt(u,m,p){u.i.set(m,p)}function Ba(u){return Gt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function pn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ka(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,po),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function po(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qs=/[#\/\?@]/g,js=/[#\?:]/g,Mc=/[#\?]/g,Nc=/[#\?@]/g,Cr=/#/g;function fi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Oc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=fi.prototype,r.add=function(u,m){yn(this),this.i=null,u=kn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function di(u,m){yn(u),m=kn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function mi(u,m){return yn(u),m=kn(u,m),u.g.has(m)}r.forEach=function(u,m){yn(this),this.g.forEach(function(p,T){p.forEach(function(U){u.call(m,U,T,this)},this)},this)},r.na=function(){yn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const U=u[T];for(let j=0;j<U.length;j++)p.push(m[T])}return p},r.V=function(u){yn(this);let m=[];if(typeof u=="string")mi(this,u)&&(m=m.concat(this.g.get(kn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},r.set=function(u,m){return yn(this),this.i=null,u=kn(this,u),mi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Hs(u,m,p){di(u,m),0<p.length&&(u.i=null,u.g.set(kn(u,m),it(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const j=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var U=j;W[T]!==""&&(U+="="+encodeURIComponent(String(W[T]))),u.push(U)}}return this.i=u.join("&")};function kn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function yo(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(p,T){var U=T.toLowerCase();T!=U&&(di(this,T),Hs(this,U,p))},u)),u.j=m}function qa(u,m){const p=new gn;if(g.Image){const T=new Image;T.onload=q(_n,p,"TestLoadImage: loaded",!0,m,T),T.onerror=q(_n,p,"TestLoadImage: error",!1,m,T),T.onabort=q(_n,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=q(_n,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vn(u,m){const p=new gn,T=new AbortController,U=setTimeout(()=>{T.abort(),_n(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(U),j.ok?_n(p,"TestPingServer: ok",!0,m):_n(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),_n(p,"TestPingServer: error",!1,m)})}function _n(u,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function ja(){this.g=new Na}function qn(u,m,p){const T=p||"";try{ks(u,function(U,j){let W=U;v(U)&&(W=Cn(U)),m.push(T+j+"="+encodeURIComponent(W))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function ji(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(ji,Os),ji.prototype.g=function(){return new gi(this.l,this.j)},ji.prototype.i=function(u){return function(){return u}}({});function gi(u,m){ie.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(gi,ie),r=gi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?jn(this):Hn(this),this.readyState==3&&Gs(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,jn(this))},r.Qa=function(u){this.g&&(this.response=u,jn(this))},r.ga=function(){this.g&&jn(this)};function jn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Hn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qs(u){let m="";return Ut(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Re(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Qs(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Gt(u,m,p))}function Bt(u){ie.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Bt,ie);var Ir=/^https?$/i,Ha=["POST","PUT"];r=Bt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Ms(this.o):Ms(zn),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){_o(this,j);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())p.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ha,m,void 0))||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of p)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ga(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){_o(this,j)}};function _o(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Vr(u),Gn(u)}function Vr(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Gn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),Bt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Or(this):this.bb())},r.bb=function(){Or(this)};function Or(u){if(u.h&&typeof d<"u"&&(!u.v[1]||vn(u)!=4||u.Z()!=2)){if(u.u&&vn(u)==4)ke(u.Ea,0,u);else if(qt(u,"readystatechange"),vn(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var U=String(u.D).match(za)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!Ir.test(U?U.toLowerCase():"")}p=T}if(p)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var j=2<vn(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Vr(u)}}finally{Gn(u)}}}}function Gn(u,m){if(u.g){Ga(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Ga(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function vn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Tr(m)}};function vo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function xc(u){const m={};u=(u.g&&2<=vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(Et(u[T]))continue;var p=M(u[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=m[U]||[];m[U]=j,j.push(p)}O(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qa(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Mr(u){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qa("baseRetryDelayMs",5e3,u),this.cb=Qa("retryDelaySeedMs",1e4,u),this.Wa=Qa("forwardChannelMaxRetries",2,u),this.wa=Qa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ci(u&&u.concurrentRequestLimit),this.Da=new ja,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Mr.prototype,r.la=8,r.G=1,r.connect=function(u,m,p,T){$t(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=wo(this,null,this.W),xr(this)};function Fs(u){if(Eo(u),u.G==3){var m=u.U++,p=an(u.I);if(Gt(p,"SID",u.K),Gt(p,"RID",m),Gt(p,"TYPE","terminate"),Fa(u,p),m=new Fe(u,u.j,m),m.L=2,m.v=Ba(an(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Do(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ua(m)}Ro(u)}function Nr(u){u.g&&(Ka(u),u.g.cancel(),u.g=null)}function Eo(u){Nr(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ur(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function xr(u){if(!br(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||D(),st||(tt(),st=!0),Lt.add(m,u),u.B=0}}function Uc(u,m){return Rr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ce(P(u.Ga,u,m),Xs(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Fe(this,this.j,u);let j=this.o;if(this.S&&(j?(j=S(j),I(j,this.S)):j=this.S),this.m!==null||this.O||(U.H=j,j=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=To(this,U,m),p=an(this.I),Gt(p,"RID",u),Gt(p,"CVER",22),this.D&&Gt(p,"X-HTTP-Session-Id",this.D),Fa(this,p),j&&(this.O?m="headers="+encodeURIComponent(String(Qs(j)))+"&"+m:this.m&&Re(p,this.m,j)),wr(this.h,U),this.Ua&&Gt(p,"TYPE","init"),this.P?(Gt(p,"$req",m),Gt(p,"SID","null"),U.T=!0,In(U,p,null)):In(U,p,m),this.G=2}}else this.G==3&&(u?Ks(this,u):this.i.length==0||br(this.h)||Ks(this))};function Ks(u,m){var p;m?p=m.l:p=u.U++;const T=an(u.I);Gt(T,"SID",u.K),Gt(T,"RID",p),Gt(T,"AID",u.T),Fa(u,T),u.m&&u.o&&Re(T,u.m,u.o),p=new Fe(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=To(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),wr(u.h,p),In(p,T,m)}function Fa(u,m){u.H&&Ut(u.H,function(p,T){Gt(m,T,p)}),u.l&&ks({},function(p,T){Gt(m,T,p)})}function To(u,m,p){p=Math.min(u.i.length,p);var T=u.l?P(u.l.Na,u.l,u):null;t:{var U=u.i;let j=-1;for(;;){const W=["count="+p];j==-1?0<p?(j=U[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let It=!0;for(let ye=0;ye<p;ye++){let Vt=U[ye].g;const we=U[ye].map;if(Vt-=j,0>Vt)j=Math.max(0,U[ye].g-100),It=!1;else try{qn(we,W,"req"+Vt+"_")}catch{T&&T(we)}}if(It){T=W.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Ao(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||D(),st||(tt(),st=!0),Lt.add(m,u),u.v=0}}function Ys(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ce(P(u.Fa,u),Xs(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,So(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ce(P(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),Nr(this),So(this))};function Ka(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function So(u){u.g=new Fe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Gt(m,"RID","rpc"),Gt(m,"SID",u.K),Gt(m,"AID",u.T),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Gt(m,"TO",u.ja),Gt(m,"TYPE","xmlhttp"),Fa(u,m),u.m&&u.o&&Re(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Ba(an(m)),p.m=null,p.P=!0,ui(p,u)}r.Za=function(){this.C!=null&&(this.C=null,Nr(this),Ys(this),$t(19))};function Ur(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function bo(u,m){var p=null;if(u.g==m){Ur(u),Ka(u),u.g=null;var T=2}else if(Ps(u.h,m))p=m.D,Ke(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=Li(),qt(T,new pe(T,p)),xr(u)}else Ao(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&Uc(u,m)||T==2&&Ys(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),U){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function Xs(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var p=P(u.fb,u),T=u.Xa;const U=!T;T=new he(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Pa(T,"https"),Ba(T),U?qa(T.toString(),p):Vn(T.toString(),p)}else $t(2);u.G=0,u.l&&u.l.sa(m),Ro(u),Eo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function Ro(u){if(u.G=0,u.ka=[],u.l){const m=Bs(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function wo(u,m,p){var T=p instanceof he?an(p):new he(p);if(T.g!="")m&&(T.g=m+"."+T.g),qi(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var j=new he(null);T&&Pa(j,T),m&&(j.g=m),U&&qi(j,U),p&&(j.l=p),T=j}return p=u.D,m=u.ya,p&&m&&Gt(T,p,m),Gt(T,"VER",u.la),Fa(u,T),T}function Do(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Bt(new ji({eb:p})):new Bt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Co(){}r=Co.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Lr(){}Lr.prototype.g=function(u,m){return new Ye(u,m)};function Ye(u,m){ie.call(this),this.g=new Mr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Et(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Et(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qn(this)}Z(Ye,ie),Ye.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ye.prototype.close=function(){Fs(this.g)},Ye.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Cn(u),u=p);m.i.push(new go(m.Ya++,u)),m.G==3&&xr(m)},Ye.prototype.N=function(){this.g.l=null,delete this.j,Fs(this.g),delete this.g,Ye.aa.N.call(this)};function Io(u){li.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(Io,li);function Vo(){xs.call(this),this.status=1}Z(Vo,xs);function Qn(u){this.g=u}Z(Qn,Co),Qn.prototype.ua=function(){qt(this.g,"a")},Qn.prototype.ta=function(u){qt(this.g,new Io(u))},Qn.prototype.sa=function(u){qt(this.g,new Vo)},Qn.prototype.ra=function(){qt(this.g,"b")},Lr.prototype.createWebChannel=Lr.prototype.g,Ye.prototype.send=Ye.prototype.o,Ye.prototype.open=Ye.prototype.m,Ye.prototype.close=Ye.prototype.close,Av=function(){return new Lr},Tv=function(){return Li()},Ev=Ln,Zf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,Pu=Bi,oi.COMPLETE="complete",vv=oi,Ns.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",ie.prototype.listen=ie.prototype.K,Pl=Ns,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,_v=Bt}).apply(typeof Ou<"u"?Ou:typeof self<"u"?self:typeof window<"u"?window:{});const qy="@firebase/firestore",jy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new pd("@firebase/firestore");function fs(){return mr.logLevel}function nt(r,...e){if(mr.logLevel<=Nt.DEBUG){const i=e.map(Sd);mr.debug(`Firestore (${bs}): ${r}`,...i)}}function Ni(r,...e){if(mr.logLevel<=Nt.ERROR){const i=e.map(Sd);mr.error(`Firestore (${bs}): ${r}`,...i)}}function ys(r,...e){if(mr.logLevel<=Nt.WARN){const i=e.map(Sd);mr.warn(`Firestore (${bs}): ${r}`,...i)}}function Sd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(r="Unexpected state"){const e=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: `+r;throw Ni(e),new Error(e)}function kt(r,e){r||dt()}function yt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Sa{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class Db{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Cb{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let h=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ma,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},g=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ma)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(kt(typeof s.accessToken=="string"),new Sv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new Ge(e)}}class Ib{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Vb{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new Ib(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ob{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,QA(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0);const s=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?o(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Hy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(kt(typeof i.token=="string"),this.R=i.token,new Hy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Mb(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function At(r,e){return r<e?-1:r>e?1:0}function $f(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return At(s,o);{const h=bv(),d=Nb(h.encode(Gy(r,i)),h.encode(Gy(e,i)));return d!==0?d:At(s,o)}}i+=s>65535?2:1}return At(r.length,e.length)}function Gy(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function Nb(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return At(r[i],e[i]);return At(r.length,e.length)}function _s(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=-62135596800,Fy=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Fy);return new Ae(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Qy)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fy}_compareTo(e){return this.seconds===e.seconds?At(this.nanoseconds,e.nanoseconds):At(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Qy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new Ae(0,0))}static max(){return new pt(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="__name__";class Jn{constructor(e,i,s){i===void 0?i=0:i>e.length&&dt(),s===void 0?s=e.length-i:s>e.length-i&&dt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=Jn.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return At(e.length,i.length)}static compareSegments(e,i){const s=Jn.isNumericId(e),o=Jn.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Jn.extractNumericId(e).compare(Jn.extractNumericId(i)):$f(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return da.fromString(e.substring(4,e.length-2))}}class Wt extends Jn{construct(e,i,s){return new Wt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new lt(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const xb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends Jn{construct(e,i,s){return new Pe(e,i,s)}static isValidIdentifier(e){return xb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ky}static keyField(){return new Pe([Ky])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new lt(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new lt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new lt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Wt.fromString(e))}static fromName(e){return new ut(Wt.fromString(e).popFirst(5))}static empty(){return new ut(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function Ub(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=pt.fromTimestamp(s===1e9?new Ae(i+1,0):new Ae(i,s));return new ya(o,ut.empty(),e)}function Lb(r){return new ya(r.readTime,r.key,Yl)}class ya{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new ya(pt.min(),ut.empty(),Yl)}static max(){return new ya(pt.max(),ut.empty(),Yl)}}function zb(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ut.comparator(r.documentKey,e.documentKey),i!==0?i:At(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==Pb)throw r;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):K.reject(i)}static resolve(e){return new K((i,s)=>{i(e)})}static reject(e){return new K((i,s)=>{s(e)})}static waitFor(e){return new K((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},_=>s(_))}),d=!0,h===o&&i()})}static or(e){let i=K.resolve(!1);for(const s of e)i=i.next(o=>o?K.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new K((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&s(d)},A=>o(A))}})}static doWhile(e,i){return new K((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function kb(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ws(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}uc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=-1;function cc(r){return r==null}function Yu(r){return r===0&&1/r==-1/0}function qb(r){return typeof r=="number"&&Number.isInteger(r)&&!Yu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="";function jb(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Yy(e)),e=Hb(r.get(i),e);return Yy(e)}function Hb(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case wv:i+="";break;default:i+=h}}return i}function Yy(r){return r+wv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function ba(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Dv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ee(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ee(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mu(this.root,e,this.comparator,!0)}}class Mu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new ze(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(e,i,s,o,h){return this}insert(e,i,s){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new ee(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Zy(this.data.getIterator())}getIteratorFrom(e){return new Zy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class Zy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new fn([])}unionWith(e){let i=new Se(Pe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _s(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Cv("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return At(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const Gb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _a(r){if(kt(!!r),typeof r=="string"){let e=0;const i=Gb.exec(r);if(kt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ue(r.seconds),nanos:ue(r.nanos)}}function ue(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function va(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="server_timestamp",Vv="__type__",Ov="__previous_value__",Mv="__local_write_time__";function Rd(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Vv])===null||i===void 0?void 0:i.stringValue)===Iv}function hc(r){const e=r.mapValue.fields[Ov];return Rd(e)?hc(e):e}function Xl(r){const e=_a(r.mapValue.fields[Mv].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,i,s,o,h,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const Xu="(default)";class Zl{constructor(e,i){this.projectId=e,this.database=i||Xu}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===Xu}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="__type__",Fb="__max__",Nu={mapValue:{}},xv="__vector__",Zu="value";function Ea(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Rd(r)?4:Yb(r)?9007199254740991:Kb(r)?10:11:dt()}function ii(r,e){if(r===e)return!0;const i=Ea(r);if(i!==Ea(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Xl(r).isEqual(Xl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=_a(o.timestampValue),g=_a(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,h){return va(o.bytesValue).isEqual(va(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,h){return ue(o.geoPointValue.latitude)===ue(h.geoPointValue.latitude)&&ue(o.geoPointValue.longitude)===ue(h.geoPointValue.longitude)}(r,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return ue(o.integerValue)===ue(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ue(o.doubleValue),g=ue(h.doubleValue);return d===g?Yu(d)===Yu(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return _s(r.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Xy(d)!==Xy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ii(d[_],g[_])))return!1;return!0}(r,e);default:return dt()}}function $l(r,e){return(r.values||[]).find(i=>ii(i,e))!==void 0}function vs(r,e){if(r===e)return 0;const i=Ea(r),s=Ea(e);if(i!==s)return At(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return At(r.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ue(h.integerValue||h.doubleValue),_=ue(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(r,e);case 3:return $y(r.timestampValue,e.timestampValue);case 4:return $y(Xl(r),Xl(e));case 5:return $f(r.stringValue,e.stringValue);case 6:return function(h,d){const g=va(h),_=va(d);return g.compareTo(_)}(r.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=At(g[v],_[v]);if(A!==0)return A}return At(g.length,_.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,d){const g=At(ue(h.latitude),ue(d.latitude));return g!==0?g:At(ue(h.longitude),ue(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Jy(r.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,A;const V=h.fields||{},P=d.fields||{},q=(g=V[Zu])===null||g===void 0?void 0:g.arrayValue,Z=(_=P[Zu])===null||_===void 0?void 0:_.arrayValue,it=At(((v=q==null?void 0:q.values)===null||v===void 0?void 0:v.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return it!==0?it:Jy(q,Z)}(r.mapValue,e.mapValue);case 11:return function(h,d){if(h===Nu.mapValue&&d===Nu.mapValue)return 0;if(h===Nu.mapValue)return 1;if(d===Nu.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let V=0;V<_.length&&V<A.length;++V){const P=$f(_[V],A[V]);if(P!==0)return P;const q=vs(g[_[V]],v[A[V]]);if(q!==0)return q}return At(_.length,A.length)}(r.mapValue,e.mapValue);default:throw dt()}}function $y(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return At(r,e);const i=_a(r),s=_a(e),o=At(i.seconds,s.seconds);return o!==0?o:At(i.nanos,s.nanos)}function Jy(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=vs(i[o],s[o]);if(h)return h}return At(i.length,s.length)}function Es(r){return Jf(r)}function Jf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=_a(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return va(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return ut.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Jf(h);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Jf(i.fields[d])}`;return o+"}"}(r.mapValue):dt()}function Bu(r){switch(Ea(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hc(r);return e?16+Bu(e):16;case 5:return 2*r.stringValue.length;case 6:return va(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+Bu(h),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ba(s.fields,(h,d)=>{o+=h.length+Bu(d)}),o}(r.mapValue);default:throw dt()}}function Wf(r){return!!r&&"integerValue"in r}function wd(r){return!!r&&"arrayValue"in r}function Wy(r){return!!r&&"nullValue"in r}function t_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ku(r){return!!r&&"mapValue"in r}function Kb(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Nv])===null||i===void 0?void 0:i.stringValue)===xv}function jl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ba(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=jl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=jl(r.arrayValue.values[i]);return e}return Object.assign({},r)}function Yb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Fb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!ku(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(i)}setAll(e){let i=Pe.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=jl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());ku(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];ku(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){ba(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new tn(jl(this.value))}}function Uv(r){const e=[];return ba(r.fields,(i,s)=>{const o=new Pe([i]);if(ku(s)){const h=Uv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Qe(e,0,pt.min(),pt.min(),pt.min(),tn.empty(),0)}static newFoundDocument(e,i,s,o){return new Qe(e,1,i,pt.min(),s,o,0)}static newNoDocument(e,i){return new Qe(e,2,i,pt.min(),pt.min(),tn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,pt.min(),pt.min(),tn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,i){this.position=e,this.inclusive=i}}function e_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=ut.comparator(ut.fromName(d.referenceValue),i.key):s=vs(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function n_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ii(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,i="asc"){this.field=e,this.dir=i}}function Xb(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{}class Te extends Lv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new $b(e,i,s):i==="array-contains"?new t1(e,s):i==="in"?new e1(e,s):i==="not-in"?new n1(e,s):i==="array-contains-any"?new i1(e,s):new Te(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new Jb(e,s):new Wb(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(vs(i,this.value)):i!==null&&Ea(this.value)===Ea(i)&&this.matchesComparison(vs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends Lv{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ai(e,i)}matches(e){return zv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function zv(r){return r.op==="and"}function Pv(r){return Zb(r)&&zv(r)}function Zb(r){for(const e of r.filters)if(e instanceof ai)return!1;return!0}function td(r){if(r instanceof Te)return r.field.canonicalString()+r.op.toString()+Es(r.value);if(Pv(r))return r.filters.map(e=>td(e)).join(",");{const e=r.filters.map(i=>td(i)).join(",");return`${r.op}(${e})`}}function Bv(r,e){return r instanceof Te?function(s,o){return o instanceof Te&&s.op===o.op&&s.field.isEqual(o.field)&&ii(s.value,o.value)}(r,e):r instanceof ai?function(s,o){return o instanceof ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&Bv(d,o.filters[g]),!0):!1}(r,e):void dt()}function kv(r){return r instanceof Te?function(i){return`${i.field.canonicalString()} ${i.op} ${Es(i.value)}`}(r):r instanceof ai?function(i){return i.op.toString()+" {"+i.getFilters().map(kv).join(" ,")+"}"}(r):"Filter"}class $b extends Te{constructor(e,i,s){super(e,i,s),this.key=ut.fromName(s.referenceValue)}matches(e){const i=ut.comparator(e.key,this.key);return this.matchesComparison(i)}}class Jb extends Te{constructor(e,i){super(e,"in",i),this.keys=qv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class Wb extends Te{constructor(e,i){super(e,"not-in",i),this.keys=qv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function qv(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ut.fromName(s.referenceValue))}class t1 extends Te{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return wd(i)&&$l(i.arrayValue,this.value)}}class e1 extends Te{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&$l(this.value.arrayValue,i)}}class n1 extends Te{constructor(e,i){super(e,"not-in",i)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!$l(this.value.arrayValue,i)}}class i1 extends Te{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!wd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>$l(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function i_(r,e=null,i=[],s=[],o=null,h=null,d=null){return new a1(r,e,i,s,o,h,d)}function Dd(r){const e=yt(r);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>td(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),cc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Es(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Es(s)).join(",")),e.le=i}return e.le}function Cd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Xb(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Bv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!n_(r.startAt,e.startAt)&&n_(r.endAt,e.endAt)}function ed(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function r1(r,e,i,s,o,h,d,g){return new fc(r,e,i,s,o,h,d,g)}function jv(r){return new fc(r)}function a_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function s1(r){return r.collectionGroup!==null}function Hl(r){const e=yt(r);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Se(Pe.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Ju(h,s))}),i.has(Pe.keyField().canonicalString())||e.he.push(new Ju(Pe.keyField(),s))}return e.he}function ti(r){const e=yt(r);return e.Pe||(e.Pe=l1(e,Hl(r))),e.Pe}function l1(r,e){if(r.limitType==="F")return i_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Ju(o.field,h)});const i=r.endAt?new $u(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new $u(r.startAt.position,r.startAt.inclusive):null;return i_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function nd(r,e,i){return new fc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function dc(r,e){return Cd(ti(r),ti(e))&&r.limitType===e.limitType}function Hv(r){return`${Dd(ti(r))}|lt:${r.limitType}`}function ds(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>kv(o)).join(", ")}]`),cc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Es(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Es(o)).join(",")),`Target(${s})`}(ti(r))}; limitType=${r.limitType})`}function mc(r,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ut.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(r,e)&&function(s,o){for(const h of Hl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,g,_){const v=e_(d,g,_);return d.inclusive?v<=0:v<0}(s.startAt,Hl(s),o)||s.endAt&&!function(d,g,_){const v=e_(d,g,_);return d.inclusive?v>=0:v>0}(s.endAt,Hl(s),o))}(r,e)}function o1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Gv(r){return(e,i)=>{let s=!1;for(const o of Hl(r)){const h=u1(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function u1(r,e,i){const s=r.field.isKeyField()?ut.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?vs(_,v):dt()}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ba(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return Dv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=new ee(ut.comparator);function xi(){return c1}const Qv=new ee(ut.comparator);function Bl(...r){let e=Qv;for(const i of r)e=e.insert(i.key,i);return e}function Fv(r){let e=Qv;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function hr(){return Gl()}function Kv(){return Gl()}function Gl(){return new yr(r=>r.toString(),(r,e)=>r.isEqual(e))}const h1=new ee(ut.comparator),f1=new Se(ut.comparator);function Ct(...r){let e=f1;for(const i of r)e=e.add(i);return e}const d1=new Se(At);function m1(){return d1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(e)?"-0":e}}function Yv(r){return{integerValue:""+r}}function g1(r,e){return qb(e)?Yv(e):Id(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(){this._=void 0}}function p1(r,e,i){return r instanceof Wu?function(o,h){const d={fields:{[Vv]:{stringValue:Iv},[Mv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Rd(h)&&(h=hc(h)),h&&(d.fields[Ov]=h),{mapValue:d}}(i,e):r instanceof Jl?Zv(r,e):r instanceof Wl?$v(r,e):function(o,h){const d=Xv(o,h),g=r_(d)+r_(o.Ie);return Wf(d)&&Wf(o.Ie)?Yv(g):Id(o.serializer,g)}(r,e)}function y1(r,e,i){return r instanceof Jl?Zv(r,e):r instanceof Wl?$v(r,e):i}function Xv(r,e){return r instanceof tc?function(s){return Wf(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class Wu extends gc{}class Jl extends gc{constructor(e){super(),this.elements=e}}function Zv(r,e){const i=Jv(e);for(const s of r.elements)i.some(o=>ii(o,s))||i.push(s);return{arrayValue:{values:i}}}class Wl extends gc{constructor(e){super(),this.elements=e}}function $v(r,e){let i=Jv(e);for(const s of r.elements)i=i.filter(o=>!ii(o,s));return{arrayValue:{values:i}}}class tc extends gc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function r_(r){return ue(r.integerValue||r.doubleValue)}function Jv(r){return wd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function _1(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Jl&&o instanceof Jl||s instanceof Wl&&o instanceof Wl?_s(s.elements,o.elements,ii):s instanceof tc&&o instanceof tc?ii(s.Ie,o.Ie):s instanceof Wu&&o instanceof Wu}(r.transform,e.transform)}class v1{constructor(e,i){this.version=e,this.transformResults=i}}class xn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class pc{}function Wv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Vd(r.key,xn.none()):new eo(r.key,r.data,xn.none());{const i=r.data,s=tn.empty();let o=new Se(Pe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Ra(r.key,s,new fn(o.toArray()),xn.none())}}function E1(r,e,i){r instanceof eo?function(o,h,d){const g=o.value.clone(),_=l_(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof Ra?function(o,h,d){if(!qu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=l_(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(t0(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(r,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Ql(r,e,i,s){return r instanceof eo?function(h,d,g,_){if(!qu(h.precondition,d))return g;const v=h.value.clone(),A=o_(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(r,e,i,s):r instanceof Ra?function(h,d,g,_){if(!qu(h.precondition,d))return g;const v=o_(h.fieldTransforms,_,d),A=d.data;return A.setAll(t0(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(V=>V.field))}(r,e,i,s):function(h,d,g){return qu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function T1(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=Xv(s.transform,o||null);h!=null&&(i===null&&(i=tn.empty()),i.set(s.field,h))}return i||null}function s_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_s(s,o,(h,d)=>_1(h,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class eo extends pc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ra extends pc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function t0(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function l_(r,e,i){const s=new Map;kt(r.length===i.length);for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,y1(d,g,i[o]))}return s}function o_(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,p1(h,d,e))}return s}class Vd extends pc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class A1 extends pc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&E1(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Ql(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Ql(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Kv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=Wv(d,g);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(pt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ct())}isEqual(e){return this.batchId===e.batchId&&_s(this.mutations,e.mutations,(i,s)=>s_(i,s))&&_s(this.baseMutations,e.baseMutations,(i,s)=>s_(i,s))}}class Od{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){kt(e.mutations.length===s.length);let o=function(){return h1}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Od(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Mt;function w1(r){switch(r){case X.OK:return dt();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return dt()}}function e0(r){if(r===void 0)return Ni("GRPC error has no .code"),X.UNKNOWN;switch(r){case ge.OK:return X.OK;case ge.CANCELLED:return X.CANCELLED;case ge.UNKNOWN:return X.UNKNOWN;case ge.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ge.INTERNAL:return X.INTERNAL;case ge.UNAVAILABLE:return X.UNAVAILABLE;case ge.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ge.NOT_FOUND:return X.NOT_FOUND;case ge.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ge.ABORTED:return X.ABORTED;case ge.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ge.DATA_LOSS:return X.DATA_LOSS;default:return dt()}}(Mt=ge||(ge={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=new da([4294967295,4294967295],0);function u_(r){const e=bv().encode(r),i=new yv;return i.update(e),new Uint8Array(i.digest())}function c_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new da([i,s],0),new da([o,h],0)]}class Md{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=da.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(da.fromNumber(s)));return o.compare(D1)===1&&(o=new da([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=u_(e),[s,o]=c_(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Md(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=u_(e),[s,o]=c_(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,no.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new yc(pt.min(),o,new ee(At),xi(),Ct())}}class no{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new no(s,i,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class n0{constructor(e,i){this.targetId=e,this.ge=i}}class i0{constructor(e,i,s=Be.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class h_{constructor(){this.pe=0,this.ye=f_(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ct(),i=Ct(),s=Ct();return this.ye.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:dt()}}),new no(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=f_()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,kt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class C1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=xi(),this.$e=xu(),this.Ue=xu(),this.Ke=new ee(At)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:dt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const h=o.target;if(ed(h))if(s===0){const d=new ut(h.path);this.ze(i,d,Qe.newNoDocument(d,pt.min()))}else kt(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),_=g?this.nt(g,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=va(s).toUint8Array()}catch(_){if(_ instanceof Cv)return ys("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Md(d,o,h)}catch(_){return ys(_ instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&ed(g.target)){const _=new ut(g.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Qe.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let s=Ct();this.Ue.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const o=new yc(e,i,this.Ke,this.Qe,s);return this.Qe=xi(),this.$e=xu(),this.Ue=xu(),this.Ke=new ee(At),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new h_,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new Se(At),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Se(At),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new h_),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function xu(){return new ee(ut.comparator)}function f_(){return new ee(ut.comparator)}const I1={asc:"ASCENDING",desc:"DESCENDING"},V1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O1={and:"AND",or:"OR"};class M1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function id(r,e){return r.useProto3Json||cc(e)?e:{value:e}}function ec(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function N1(r,e){return ec(r,e.toTimestamp())}function ei(r){return kt(!!r),pt.fromTimestamp(function(i){const s=_a(i);return new Ae(s.seconds,s.nanos)}(r))}function Nd(r,e){return ad(r,e).canonicalString()}function ad(r,e){const i=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function r0(r){const e=Wt.fromString(r);return kt(c0(e)),e}function rd(r,e){return Nd(r.databaseId,e.path)}function kf(r,e){const i=r0(e);if(i.get(1)!==r.databaseId.projectId)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ut(l0(i))}function s0(r,e){return Nd(r.databaseId,e)}function x1(r){const e=r0(r);return e.length===4?Wt.emptyPath():l0(e)}function sd(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function l0(r){return kt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function d_(r,e,i){return{name:rd(r,e),fields:i.value.mapValue.fields}}function U1(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(kt(A===void 0||typeof A=="string"),Be.fromBase64String(A||"")):(kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Be.fromUint8Array(A||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?X.UNKNOWN:e0(v.code);return new lt(A,v.message||"")}(d);i=new i0(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=kf(r,s.document.name),h=ei(s.document.updateTime),d=s.document.createTime?ei(s.document.createTime):pt.min(),g=new tn({mapValue:{fields:s.document.fields}}),_=Qe.newFoundDocument(o,h,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new ju(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=kf(r,s.document),h=s.readTime?ei(s.readTime):pt.min(),d=Qe.newNoDocument(o,h),g=s.removedTargetIds||[];i=new ju([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=kf(r,s.document),h=s.removedTargetIds||[];i=new ju([],h,o,null)}else{if(!("filter"in e))return dt();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new R1(o,h),g=s.targetId;i=new n0(g,d)}}return i}function L1(r,e){let i;if(e instanceof eo)i={update:d_(r,e.key,e.value)};else if(e instanceof Vd)i={delete:rd(r,e.key)};else if(e instanceof Ra)i={update:d_(r,e.key,e.data),updateMask:Q1(e.fieldMask)};else{if(!(e instanceof A1))return dt();i={verify:rd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof Wu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Wl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof tc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw dt()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:N1(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt()}(r,e.precondition)),i}function z1(r,e){return r&&r.length>0?(kt(e!==void 0),r.map(i=>function(o,h){let d=o.updateTime?ei(o.updateTime):ei(h);return d.isEqual(pt.min())&&(d=ei(h)),new v1(d,o.transformResults||[])}(i,e))):[]}function P1(r,e){return{documents:[s0(r,e.path)]}}function B1(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=s0(r,o);const h=function(v){if(v.length!==0)return u0(ai.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(P){return{field:ms(P.field),direction:j1(P.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=id(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:o}}function k1(r){let e=x1(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){kt(s===1);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(V){const P=o0(V);return P instanceof ai&&Pv(P)?P.getFilters():[P]}(i.where));let d=[];i.orderBy&&(d=function(V){return V.map(P=>function(Z){return new Ju(gs(Z.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(P))}(i.orderBy));let g=null;i.limit&&(g=function(V){let P;return P=typeof V=="object"?V.value:V,cc(P)?null:P}(i.limit));let _=null;i.startAt&&(_=function(V){const P=!!V.before,q=V.values||[];return new $u(q,P)}(i.startAt));let v=null;return i.endAt&&(v=function(V){const P=!V.before,q=V.values||[];return new $u(q,P)}(i.endAt)),r1(e,o,d,h,g,"F",_,v)}function q1(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function o0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=gs(i.unaryFilter.field);return Te.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=gs(i.unaryFilter.field);return Te.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=gs(i.unaryFilter.field);return Te.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=gs(i.unaryFilter.field);return Te.create(d,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}(r):r.fieldFilter!==void 0?function(i){return Te.create(gs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ai.create(i.compositeFilter.filters.map(s=>o0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return dt()}}(i.compositeFilter.op))}(r):dt()}function j1(r){return I1[r]}function H1(r){return V1[r]}function G1(r){return O1[r]}function ms(r){return{fieldPath:r.canonicalString()}}function gs(r){return Pe.fromServerFormat(r.fieldPath)}function u0(r){return r instanceof Te?function(i){if(i.op==="=="){if(t_(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NAN"}};if(Wy(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(t_(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NAN"}};if(Wy(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(i.field),op:H1(i.op),value:i.value}}}(r):r instanceof ai?function(i){const s=i.getFilters().map(o=>u0(o));return s.length===1?s[0]:{compositeFilter:{op:G1(i.op),filters:s}}}(r):dt()}function Q1(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function c0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,i,s,o,h=pt.min(),d=pt.min(),g=Be.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.Tt=e}}function K1(r){const e=k1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.Tn=new X1}addToCollectionParentIndex(e,i){return this.Tn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(ya.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(ya.min())}updateCollectionGroup(e,i,s){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class X1{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Se(Wt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Se(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},h0=41943040;class We{static withCacheSize(e){return new We(e,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */We.DEFAULT_COLLECTION_PERCENTILE=10,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,We.DEFAULT=new We(h0,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),We.DISABLED=new We(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ts(0)}static Kn(){return new Ts(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="LruGarbageCollector",Z1=1048576;function p_([r,e],[i,s]){const o=At(r,i);return o===0?At(e,s):o}class $1{constructor(e){this.Hn=e,this.buffer=new Se(p_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();p_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class J1{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){nt(g_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ws(i)?nt(g_,"Ignoring IndexedDB error during garbage collection: ",i):await Rs(i)}await this.er(3e5)})}}class W1{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return K.resolve(uc.ae);const s=new $1(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(m_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m_):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),o=this.params.maximumSequenceNumbersToCollect):o=V,d=Date.now(),this.nthSequenceNumber(e,o))).next(V=>(s=V,g=Date.now(),this.removeTargets(e,s,i))).next(V=>(h=V,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(V=>(v=Date.now(),fs()<=Nt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${V} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:V})))}}function tR(r,e){return new W1(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.changes=new yr(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?K.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Ql(s.mutation,o,fn.empty(),Ae.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Ct()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Ct()){const o=hr();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=Bl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=hr();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Ct()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=xi();const d=Gl(),g=function(){return Gl()}();return i.forEach((_,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof Ra)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Ql(A.mutation,v,A.mutation.getFieldMask(),Ae.now())):d.set(v.key,fn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var V;return g.set(v,new nR(A,(V=d.get(v))!==null&&V!==void 0?V:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Gl();let o=new ee((d,g)=>d-g),h=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||fn.empty();A=g.applyToLocalView(v,A),s.set(_,A);const V=(o.get(g.batchId)||Ct()).add(_);o=o.insert(g.batchId,V)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,V=Kv();A.forEach(P=>{if(!h.has(P)){const q=Wv(i.get(P),s.get(P));q!==null&&V.set(P,q),h=h.add(P)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,V))}return K.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):s1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):K.resolve(hr());let g=Yl,_=h;return d.next(v=>K.forEach(v,(A,V)=>(g<V.largestBatchId&&(g=V.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(e,A).next(P=>{_=_.insert(A,P)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Ct())).next(A=>({batchId:g,changes:Fv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ut(i)).next(s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,h).next(g=>K.forEach(g,_=>{const v=function(V,P){return new fc(P,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(A=>{A.forEach((V,P)=>{d=d.insert(V,P)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=Bl();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Ql(A.mutation,v,fn.empty(),Ae.now()),mc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return K.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ei(o.createTime)}}(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:K1(o.bundledQuery),readTime:ei(o.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.overlays=new ee(ut.comparator),this.Rr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const s=hr();return K.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.Et(e,i,h)}),K.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(s)),K.resolve()}getOverlaysForCollection(e,i,s){const o=hr(),h=i.length+1,d=new ut(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>s&&o.set(_.getKey(),_)}return K.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ee((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=h.get(v.largestBatchId);A===null&&(A=hr(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=hr(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=o)););return K.resolve(g)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new b1(i,s));let h=this.Rr.get(i);h===void 0&&(h=Ct(),this.Rr.set(i,h)),this.Rr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this.Vr=new Se(Ve.mr),this.gr=new Se(Ve.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Ve(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Ve(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new ut(new Wt([])),s=new Ve(i,e),o=new Ve(i,e+1),h=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ut(new Wt([])),s=new Ve(i,e),o=new Ve(i,e+1);let h=Ct();return this.gr.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ve(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ve{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ut.comparator(e.key,i.key)||At(e.Cr,i.Cr)}static pr(e,i){return At(e.Cr,i.Cr)||ut.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Se(Ve.mr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new S1(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new Ve(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),h=o<0?0:o;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?bd:this.Fr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([s,o],d=>{const g=this.Or(d.Cr);h.push(g)}),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Se(At);return i.forEach(o=>{const h=new Ve(o,0),d=new Ve(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{s=s.add(g.Cr)})}),K.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;ut.isDocumentKey(h)||(h=h.child(""));const d=new Ve(new ut(h),0);let g=new Se(At);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Cr)),!0)},d),K.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){kt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return K.forEach(i.mutations,o=>{const h=new Ve(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Ve(i,0),o=this.Mr.firstAfterOrEqual(s);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.kr=e,this.docs=function(){return new ee(ut.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return K.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let s=xi();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Qe.newInvalidDocument(o))}),K.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=xi();const d=i.path,g=new ut(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||zb(Lb(A),s)<=0||(o.has(A.key)||mc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,s,o){dt()}qr(e,i){return K.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new uR(this)}getSize(e){return K.resolve(this.size)}}class uR extends eR{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),K.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.persistence=e,this.Qr=new yr(i=>Dd(i),Cd),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new xd,this.targetCount=0,this.Kr=Ts.Un()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),K.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new Ts(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.zn(i),K.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),K.waitFor(h).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return K.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),K.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),K.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return K.resolve(s)}containsKey(e,i){return K.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new uc(0),this.zr=!1,this.zr=!0,this.jr=new sR,this.referenceDelegate=e(this),this.Hr=new cR(this),this.indexManager=new Y1,this.remoteDocumentCache=function(o){return new oR(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new F1(i),this.Yr=new aR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new rR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new lR(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){nt("MemoryPersistence","Starting transaction:",e);const o=new hR(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(h=>this.referenceDelegate.Xr(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}ei(e,i){return K.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class hR extends Bb{constructor(e){super(),this.currentSequenceNumber=e}}class Ud{constructor(e){this.persistence=e,this.ti=new xd,this.ni=null}static ri(e){return new Ud(e)}get ii(){if(this.ni)return this.ni;throw dt()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),K.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),K.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.ii.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ii,s=>{const o=ut.fromPath(s);return this.si(e,o).next(h=>{h||i.removeEntry(o,pt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return K.or([()=>K.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class nc{constructor(e,i){this.persistence=e,this.oi=new yr(s=>jb(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=tR(this,i)}static ri(e,i){return new nc(e,i)}Zr(){}Xr(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return K.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(h=>h?K.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,h.removeEntry(d,pt.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),K.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Bu(e.data.value)),i}ar(e,i,s){return K.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=Ct(),o=Ct();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Ld(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return qT()?8:kb(PT())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new fR;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,s,o){return s.documentReadCount<this.es?(fs()<=Nt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",ds(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),K.resolve()):(fs()<=Nt.DEBUG&&nt("QueryEngine","Query:",ds(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(fs()<=Nt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",ds(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):K.resolve())}rs(e,i){if(a_(i))return K.resolve(null);let s=ti(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=nd(i,null,"F"),s=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Ct(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(_=>{const v=this.cs(i,g);return this.ls(i,v,d,_.readTime)?this.rs(e,nd(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,s,o){return a_(i)||o.isEqual(pt.min())?K.resolve(null):this.ns.getDocuments(e,s).next(h=>{const d=this.cs(i,h);return this.ls(i,d,s,o)?K.resolve(null):(fs()<=Nt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ds(i)),this.hs(e,d,i,Ub(o,Yl)).next(g=>g))})}cs(e,i){let s=new Se(Gv(e));return i.forEach((o,h)=>{mc(e,h)&&(s=s.add(h))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}_s(e,i,s){return fs()<=Nt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",ds(i)),this.ns.getDocumentsMatchingQuery(e,i,ya.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="LocalStore",mR=3e8;class gR{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new ee(At),this.Is=new yr(h=>Dd(h),Cd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function pR(r,e,i,s){return new gR(r,e,i,s)}async function d0(r,e){const i=yt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let _=Ct();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function yR(r,e){const i=yt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const V=v.batch,P=V.keys();let q=K.resolve();return P.forEach(Z=>{q=q.next(()=>A.getEntry(_,Z)).next(it=>{const J=v.docVersions.get(Z);kt(J!==null),it.version.compareTo(J)<0&&(V.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),A.addEntry(it)))})}),q.next(()=>g.mutationQueue.removeMutationBatch(_,V))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let _=Ct();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function m0(r){const e=yt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function _R(r,e){const i=yt(r),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];e.targetChanges.forEach((A,V)=>{const P=o.get(V);if(!P)return;g.push(i.Hr.removeMatchingKeys(h,A.removedDocuments,V).next(()=>i.Hr.addMatchingKeys(h,A.addedDocuments,V)));let q=P.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(V)!==null?q=q.withResumeToken(Be.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,s)),o=o.insert(V,q),function(it,J,Dt){return it.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=mR?!0:Dt.addedDocuments.size+Dt.modifiedDocuments.size+Dt.removedDocuments.size>0}(P,q,A)&&g.push(i.Hr.updateTargetData(h,q))});let _=xi(),v=Ct();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(vR(h,d,e.documentUpdates).next(A=>{_=A.Vs,v=A.fs})),!s.isEqual(pt.min())){const A=i.Hr.getLastRemoteSnapshotVersion(h).next(V=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return K.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=o,h))}function vR(r,e,i){let s=Ct(),o=Ct();return i.forEach(h=>s=s.add(h)),e.getEntries(r,s).next(h=>{let d=xi();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(pt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):nt(zd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:o}})}function ER(r,e){const i=yt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=bd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function TR(r,e){const i=yt(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(h=>h?(o=h,K.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new ca(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function ld(r,e,i){const s=yt(r),o=s.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!ws(d))throw d;nt(zd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function y_(r,e,i){const s=yt(r);let o=pt.min(),h=Ct();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const V=yt(_),P=V.Is.get(A);return P!==void 0?K.resolve(V.Ts.get(P)):V.Hr.getTargetData(v,A)}(s,d,ti(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:pt.min(),i?h:Ct())).next(g=>(AR(s,o1(e),g),{documents:g,gs:h})))}function AR(r,e,i){let s=r.Es.get(e)||pt.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),r.Es.set(e,s)}class __{constructor(){this.activeTargetIds=m1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SR{constructor(){this.ho=new __,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new __,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="ConnectivityMonitor";class E_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(v_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){nt(v_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu=null;function od(){return Uu===null?Uu=function(){return 268435456+Math.round(2147483648*Math.random())}():Uu++,"0x"+Uu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="RestConnection",RR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Xu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,h){const d=od(),g=this.bo(e,i.toUriEncodedString());nt(qf,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,o,h),this.vo(e,g,_,s).then(v=>(nt(qf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw ys(qf,`RPC '${e}' ${d} failed with error: `,v,"url: ",g,"request:",s),v})}Co(e,i,s,o,h,d){return this.So(e,i,s,o,h)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}bo(e,i){const s=RR[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class CR extends wR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const h=od();return new Promise((d,g)=>{const _=new _v;_.setWithCredentials(!0),_.listenOnce(vv.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Pu.NO_ERROR:const A=_.getResponseJson();nt(He,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),d(A);break;case Pu.TIMEOUT:nt(He,`RPC '${e}' ${h} timed out`),g(new lt(X.DEADLINE_EXCEEDED,"Request time out"));break;case Pu.HTTP_ERROR:const V=_.getStatus();if(nt(He,`RPC '${e}' ${h} failed with status:`,V,"response text:",_.getResponseText()),V>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const q=P==null?void 0:P.error;if(q&&q.status&&q.message){const Z=function(J){const Dt=J.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Dt)>=0?Dt:X.UNKNOWN}(q.status);g(new lt(Z,q.message))}else g(new lt(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new lt(X.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{nt(He,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);nt(He,`RPC '${e}' ${h} sending request:`,o),_.send(i,"POST",v,s,15)})}Wo(e,i,s){const o=od(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Av(),g=Tv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=h.join("");nt(He,`Creating RPC '${e}' stream ${o}: ${A}`,_);const V=d.createWebChannel(A,_);let P=!1,q=!1;const Z=new DR({Fo:J=>{q?nt(He,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(P||(nt(He,`Opening RPC '${e}' stream ${o} transport.`),V.open(),P=!0),nt(He,`RPC '${e}' stream ${o} sending:`,J),V.send(J))},Mo:()=>V.close()}),it=(J,Dt,Et)=>{J.listen(Dt,gt=>{try{Et(gt)}catch(Pt){setTimeout(()=>{throw Pt},0)}})};return it(V,Pl.EventType.OPEN,()=>{q||(nt(He,`RPC '${e}' stream ${o} transport opened.`),Z.Qo())}),it(V,Pl.EventType.CLOSE,()=>{q||(q=!0,nt(He,`RPC '${e}' stream ${o} transport closed`),Z.Uo())}),it(V,Pl.EventType.ERROR,J=>{q||(q=!0,ys(He,`RPC '${e}' stream ${o} transport errored:`,J),Z.Uo(new lt(X.UNAVAILABLE,"The operation could not be completed")))}),it(V,Pl.EventType.MESSAGE,J=>{var Dt;if(!q){const Et=J.data[0];kt(!!Et);const gt=Et,Pt=(gt==null?void 0:gt.error)||((Dt=gt[0])===null||Dt===void 0?void 0:Dt.error);if(Pt){nt(He,`RPC '${e}' stream ${o} received error:`,Pt);const _t=Pt.status;let Ut=function(w){const I=ge[w];if(I!==void 0)return e0(I)}(_t),O=Pt.message;Ut===void 0&&(Ut=X.INTERNAL,O="Unknown error status: "+_t+" with message "+Pt.message),q=!0,Z.Uo(new lt(Ut,O)),V.close()}else nt(He,`RPC '${e}' stream ${o} received:`,Et),Z.Ko(Et)}}),it(g,Ev.STAT_EVENT,J=>{J.stat===Zf.PROXY?nt(He,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===Zf.NOPROXY&&nt(He,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Z.$o()},0),Z}}function jf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(r){return new M1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&nt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="PersistentStream";class p0{constructor(e,i,s,o,h,d,g,_){this.Ti=e,this.n_=s,this.r_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new g0(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Ni(i.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new lt(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return nt(T_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(nt(T_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IR extends p0{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=U1(this.serializer,e),s=function(h){if(!("targetChange"in h))return pt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?ei(d.readTime):pt.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=sd(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=ed(_)?{documents:P1(h,_)}:{query:B1(h,_).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=a0(h,d.resumeToken);const v=id(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(pt.min())>0){g.readTime=ec(h,d.snapshotVersion.toTimestamp());const v=id(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const s=q1(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=sd(this.serializer),i.removeTarget=e,this.I_(i)}}class VR extends p0{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return kt(!!e.streamToken),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=z1(e.writeResults,e.commitTime),s=ei(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=sd(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>L1(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{}class MR extends OR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,ad(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(X.UNKNOWN,h.toString())})}Co(e,i,s,o,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,ad(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(X.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class NR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ni(i),this.N_=!1):nt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="RemoteStore";class xR{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{s.enqueueAndForget(async()=>{_r(this)&&(nt(gr,"Restarting streams for network reachability change."),await async function(_){const v=yt(_);v.W_.add(4),await io(v),v.j_.set("Unknown"),v.W_.delete(4),await vc(v)}(this))})}),this.j_=new NR(s,o)}}async function vc(r){if(_r(r))for(const e of r.G_)await e(!0)}async function io(r){for(const e of r.G_)await e(!1)}function y0(r,e){const i=yt(r);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),qd(i)?kd(i):Ds(i).c_()&&Bd(i,e))}function Pd(r,e){const i=yt(r),s=Ds(i);i.K_.delete(e),s.c_()&&_0(i,e),i.K_.size===0&&(s.c_()?s.P_():_r(i)&&i.j_.set("Unknown"))}function Bd(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ds(r).y_(e)}function _0(r,e){r.H_.Ne(e),Ds(r).w_(e)}function kd(r){r.H_=new C1({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Ds(r).start(),r.j_.B_()}function qd(r){return _r(r)&&!Ds(r).u_()&&r.K_.size>0}function _r(r){return yt(r).W_.size===0}function v0(r){r.H_=void 0}async function UR(r){r.j_.set("Online")}async function LR(r){r.K_.forEach((e,i)=>{Bd(r,e)})}async function zR(r,e){v0(r),qd(r)?(r.j_.q_(e),kd(r)):r.j_.set("Unknown")}async function PR(r,e,i){if(r.j_.set("Online"),e instanceof i0&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.K_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.K_.delete(g),o.H_.removeTarget(g))}(r,e)}catch(s){nt(gr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ic(r,s)}else if(e instanceof ju?r.H_.We(e):e instanceof n0?r.H_.Ze(e):r.H_.je(e),!i.isEqual(pt.min()))try{const s=await m0(r.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.K_.get(v);A&&h.K_.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.K_.get(_);if(!A)return;h.K_.set(_,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),_0(h,_);const V=new ca(A.target,_,v,A.sequenceNumber);Bd(h,V)}),h.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){nt(gr,"Failed to raise snapshot:",s),await ic(r,s)}}async function ic(r,e,i){if(!ws(e))throw e;r.W_.add(1),await io(r),r.j_.set("Offline"),i||(i=()=>m0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{nt(gr,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await vc(r)})}function E0(r,e){return e().catch(i=>ic(r,i,e))}async function Ec(r){const e=yt(r),i=Ta(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:bd;for(;BR(e);)try{const o=await ER(e.localStore,s);if(o===null){e.U_.length===0&&i.P_();break}s=o.batchId,kR(e,o)}catch(o){await ic(e,o)}T0(e)&&A0(e)}function BR(r){return _r(r)&&r.U_.length<10}function kR(r,e){r.U_.push(e);const i=Ta(r);i.c_()&&i.S_&&i.b_(e.mutations)}function T0(r){return _r(r)&&!Ta(r).u_()&&r.U_.length>0}function A0(r){Ta(r).start()}async function qR(r){Ta(r).C_()}async function jR(r){const e=Ta(r);for(const i of r.U_)e.b_(i.mutations)}async function HR(r,e,i){const s=r.U_.shift(),o=Od.from(s,e,i);await E0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Ec(r)}async function GR(r,e){e&&Ta(r).S_&&await async function(s,o){if(function(d){return w1(d)&&d!==X.ABORTED}(o.code)){const h=s.U_.shift();Ta(s).h_(),await E0(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await Ec(s)}}(r,e),T0(r)&&A0(r)}async function A_(r,e){const i=yt(r);i.asyncQueue.verifyOperationInProgress(),nt(gr,"RemoteStore received new credentials");const s=_r(i);i.W_.add(3),await io(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await vc(i)}async function QR(r,e){const i=yt(r);e?(i.W_.delete(2),await vc(i)):e||(i.W_.add(2),await io(i),i.j_.set("Unknown"))}function Ds(r){return r.J_||(r.J_=function(i,s,o){const h=yt(i);return h.M_(),new IR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{xo:UR.bind(null,r),No:LR.bind(null,r),Lo:zR.bind(null,r),p_:PR.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),qd(r)?kd(r):r.j_.set("Unknown")):(await r.J_.stop(),v0(r))})),r.J_}function Ta(r){return r.Y_||(r.Y_=function(i,s,o){const h=yt(i);return h.M_(),new VR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:qR.bind(null,r),Lo:GR.bind(null,r),D_:jR.bind(null,r),v_:HR.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Ec(r)):(await r.Y_.stop(),r.U_.length>0&&(nt(gr,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new jd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hd(r,e){if(Ni("AsyncQueue",`${e}: ${r}`),ws(r))return new lt(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{static emptySet(e){return new ps(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ut.comparator(i.key,s.key):(i,s)=>ut.comparator(i.key,s.key),this.keyedMap=Bl(),this.sortedSet=new ee(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ps)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ps;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.Z_=new ee(ut.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):dt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class As{constructor(e,i,s,o,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new As(e,i,ps.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class KR{constructor(){this.queries=b_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=yt(i),h=o.queries;o.queries=b_(),h.forEach((d,g)=>{for(const _ of g.ta)_.onError(s)})})(this,new lt(X.ABORTED,"Firestore shutting down"))}}function b_(){return new yr(r=>Hv(r),dc)}async function YR(r,e){const i=yt(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.na()&&e.ra()&&(s=2):(h=new FR,s=e.ra()?0:1);try{switch(s){case 0:h.ea=await i.onListen(o,!0);break;case 1:h.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Hd(d,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Gd(i)}async function XR(r,e){const i=yt(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?o=e.ra()?0:1:!h.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function ZR(r,e){const i=yt(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(o)&&(s=!0);d.ea=o}}s&&Gd(i)}function $R(r,e,i){const s=yt(r),o=s.queries.get(e);if(o)for(const h of o.ta)h.onError(i);s.queries.delete(e)}function Gd(r){r.ia.forEach(e=>{e.next()})}var ud,R_;(R_=ud||(ud={}))._a="default",R_.Cache="cache";class JR{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new As(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=As.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ud.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e){this.key=e}}class b0{constructor(e){this.key=e}}class WR{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ct(),this.mutatedKeys=Ct(),this.ya=Gv(e),this.wa=new ps(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new S_,o=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,V)=>{const P=o.get(A),q=mc(this.query,V)?V:null,Z=!!P&&this.mutatedKeys.has(P.key),it=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let J=!1;P&&q?P.data.isEqual(q.data)?Z!==it&&(s.track({type:3,doc:q}),J=!0):this.va(P,q)||(s.track({type:2,doc:q}),J=!0,(_&&this.ya(q,_)>0||v&&this.ya(q,v)<0)&&(g=!0)):!P&&q?(s.track({type:0,doc:q}),J=!0):P&&!q&&(s.track({type:1,doc:P}),J=!0,(_||v)&&(g=!0)),J&&(q?(d=d.add(q),h=it?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{wa:d,Da:s,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((A,V)=>function(q,Z){const it=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return it(q)-it(Z)}(A.type,V.type)||this.ya(A.doc,V.doc)),this.Ca(s),o=o!=null&&o;const g=i&&!o?this.Fa():[],_=this.pa.size===0&&this.current&&!o?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new As(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new S_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ct(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new b0(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new S0(s))}),i}Oa(e){this.fa=e.gs,this.pa=Ct();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return As.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Qd="SyncEngine";class tw{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class ew{constructor(e){this.key=e,this.Ba=!1}}class nw{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new yr(g=>Hv(g),dc),this.qa=new Map,this.Qa=new Set,this.$a=new ee(ut.comparator),this.Ua=new Map,this.Ka=new xd,this.Wa={},this.Ga=new Map,this.za=Ts.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function iw(r,e,i=!0){const s=V0(r);let o;const h=s.ka.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.Na()):o=await R0(s,e,i,!0),o}async function aw(r,e){const i=V0(r);await R0(i,e,!0,!1)}async function R0(r,e,i,s){const o=await TR(r.localStore,ti(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await rw(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&y0(r.remoteStore,o),g}async function rw(r,e,i,s,o){r.Ha=(V,P,q)=>async function(it,J,Dt,Et){let gt=J.view.ba(Dt);gt.ls&&(gt=await y_(it.localStore,J.query,!1).then(({documents:O})=>J.view.ba(O,gt)));const Pt=Et&&Et.targetChanges.get(J.targetId),_t=Et&&Et.targetMismatches.get(J.targetId)!=null,Ut=J.view.applyChanges(gt,it.isPrimaryClient,Pt,_t);return D_(it,J.targetId,Ut.Ma),Ut.snapshot}(r,V,P,q);const h=await y_(r.localStore,e,!0),d=new WR(e,h.gs),g=d.ba(h.documents),_=no.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),v=d.applyChanges(g,r.isPrimaryClient,_);D_(r,i,v.Ma);const A=new tw(e,i,d);return r.ka.set(e,A),r.qa.has(i)?r.qa.get(i).push(e):r.qa.set(i,[e]),v.snapshot}async function sw(r,e,i){const s=yt(r),o=s.ka.get(e),h=s.qa.get(o.targetId);if(h.length>1)return s.qa.set(o.targetId,h.filter(d=>!dc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ld(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Pd(s.remoteStore,o.targetId),cd(s,o.targetId)}).catch(Rs)):(cd(s,o.targetId),await ld(s.localStore,o.targetId,!0))}async function lw(r,e){const i=yt(r),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Pd(i.remoteStore,s.targetId))}async function ow(r,e,i){const s=gw(r);try{const o=await function(d,g){const _=yt(d),v=Ae.now(),A=g.reduce((q,Z)=>q.add(Z.key),Ct());let V,P;return _.persistence.runTransaction("Locally write mutations","readwrite",q=>{let Z=xi(),it=Ct();return _.ds.getEntries(q,A).next(J=>{Z=J,Z.forEach((Dt,Et)=>{Et.isValidDocument()||(it=it.add(Dt))})}).next(()=>_.localDocuments.getOverlayedDocuments(q,Z)).next(J=>{V=J;const Dt=[];for(const Et of g){const gt=T1(Et,V.get(Et.key).overlayedDocument);gt!=null&&Dt.push(new Ra(Et.key,gt,Uv(gt.value.mapValue),xn.exists(!0)))}return _.mutationQueue.addMutationBatch(q,v,Dt,g)}).next(J=>{P=J;const Dt=J.applyToLocalDocumentSet(V,it);return _.documentOverlayCache.saveOverlays(q,J.batchId,Dt)})}).then(()=>({batchId:P.batchId,changes:Fv(V)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new ee(At)),v=v.insert(g,_),d.Wa[d.currentUser.toKey()]=v}(s,o.batchId,i),await ao(s,o.changes),await Ec(s.remoteStore)}catch(o){const h=Hd(o,"Failed to persist write");i.reject(h)}}async function w0(r,e){const i=yt(r);try{const s=await _R(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Ua.get(h);d&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?kt(d.Ba):o.removedDocuments.size>0&&(kt(d.Ba),d.Ba=!1))}),await ao(i,s,e)}catch(s){await Rs(s)}}function w_(r,e,i){const s=yt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const _=yt(d);_.onlineState=g;let v=!1;_.queries.forEach((A,V)=>{for(const P of V.ta)P.sa(g)&&(v=!0)}),v&&Gd(_)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function uw(r,e,i){const s=yt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ua.get(e),h=o&&o.key;if(h){let d=new ee(ut.comparator);d=d.insert(h,Qe.newNoDocument(h,pt.min()));const g=Ct().add(h),_=new yc(pt.min(),new Map,new ee(At),d,g);await w0(s,_),s.$a=s.$a.remove(h),s.Ua.delete(e),Fd(s)}else await ld(s.localStore,e,!1).then(()=>cd(s,e,i)).catch(Rs)}async function cw(r,e){const i=yt(r),s=e.batch.batchId;try{const o=await yR(i.localStore,e);C0(i,s,null),D0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ao(i,o)}catch(o){await Rs(o)}}async function hw(r,e,i){const s=yt(r);try{const o=await function(d,g){const _=yt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(V=>(kt(V!==null),A=V.keys(),_.mutationQueue.removeMutationBatch(v,V))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(s.localStore,e);C0(s,e,i),D0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await ao(s,o)}catch(o){await Rs(o)}}function D0(r,e){(r.Ga.get(e)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(e)}function C0(r,e,i){const s=yt(r);let o=s.Wa[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function cd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||I0(r,s)})}function I0(r,e){r.Qa.delete(e.path.canonicalString());const i=r.$a.get(e);i!==null&&(Pd(r.remoteStore,i),r.$a=r.$a.remove(e),r.Ua.delete(i),Fd(r))}function D_(r,e,i){for(const s of i)s instanceof S0?(r.Ka.addReference(s.key,e),fw(r,s)):s instanceof b0?(nt(Qd,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||I0(r,s.key)):dt()}function fw(r,e){const i=e.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(nt(Qd,"New document in limbo: "+i),r.Qa.add(s),Fd(r))}function Fd(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const i=new ut(Wt.fromString(e)),s=r.za.next();r.Ua.set(s,new ew(i)),r.$a=r.$a.insert(i,s),y0(r.remoteStore,new ca(ti(jv(i.path)),s,"TargetPurposeLimboResolution",uc.ae))}}async function ao(r,e,i){const s=yt(r),o=[],h=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,_)=>{d.push(s.Ha(_,e,i).then(v=>{var A;if((v||i)&&s.isPrimaryClient){const V=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(_.targetId,V?"current":"not-current")}if(v){o.push(v);const V=Ld.Yi(_.targetId,v);h.push(V)}}))}),await Promise.all(d),s.La.p_(o),await async function(_,v){const A=yt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>K.forEach(v,P=>K.forEach(P.Hi,q=>A.persistence.referenceDelegate.addReference(V,P.targetId,q)).next(()=>K.forEach(P.Ji,q=>A.persistence.referenceDelegate.removeReference(V,P.targetId,q)))))}catch(V){if(!ws(V))throw V;nt(zd,"Failed to update sequence numbers: "+V)}for(const V of v){const P=V.targetId;if(!V.fromCache){const q=A.Ts.get(P),Z=q.snapshotVersion,it=q.withLastLimboFreeSnapshotVersion(Z);A.Ts=A.Ts.insert(P,it)}}}(s.localStore,h))}async function dw(r,e){const i=yt(r);if(!i.currentUser.isEqual(e)){nt(Qd,"User change. New user:",e.toKey());const s=await d0(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(_=>{_.reject(new lt(X.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ao(i,s.Rs)}}function mw(r,e){const i=yt(r),s=i.Ua.get(e);if(s&&s.Ba)return Ct().add(s.key);{let o=Ct();const h=i.qa.get(e);if(!h)return o;for(const d of h){const g=i.ka.get(d);o=o.unionWith(g.view.Sa)}return o}}function V0(r){const e=yt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=w0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uw.bind(null,e),e.La.p_=ZR.bind(null,e.eventManager),e.La.Ja=$R.bind(null,e.eventManager),e}function gw(r){const e=yt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hw.bind(null,e),e}class ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_c(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return pR(this.persistence,new dR,e.initialUser,this.serializer)}Xa(e){return new f0(Ud.ri,this.serializer)}Za(e){return new SR}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ac.provider={build:()=>new ac};class pw extends ac{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){kt(this.persistence.referenceDelegate instanceof nc);const s=this.persistence.referenceDelegate.garbageCollector;return new J1(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?We.withCacheSize(this.cacheSizeBytes):We.DEFAULT;return new f0(s=>nc.ri(s,i),this.serializer)}}class hd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>w_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=dw.bind(null,this.syncEngine),await QR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KR}()}createDatastore(e){const i=_c(e.databaseInfo.databaseId),s=function(h){return new CR(h)}(e.databaseInfo);return function(h,d,g,_){return new MR(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new xR(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>w_(this.syncEngine,i,0),function(){return E_.D()?new E_:new bR}())}createSyncEngine(e,i){return function(o,h,d,g,_,v,A){const V=new nw(o,h,d,g,_,v);return A&&(V.ja=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=yt(o);nt(gr,"RemoteStore shutting down."),h.W_.add(5),await io(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}hd.provider={build:()=>new hd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ni("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="FirestoreClient";class _w{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ge.UNAUTHENTICATED,this.clientId=Rv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{nt(Aa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(nt(Aa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Hd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Hf(r,e){r.asyncQueue.verifyOperationInProgress(),nt(Aa,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await d0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function C_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await vw(r);nt(Aa,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>A_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>A_(e.remoteStore,o)),r._onlineComponents=e}async function vw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){nt(Aa,"Using user provided OfflineComponentProvider");try{await Hf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;ys("Error using user provided cache. Falling back to memory cache: "+i),await Hf(r,new ac)}}else nt(Aa,"Using default OfflineComponentProvider"),await Hf(r,new pw(void 0));return r._offlineComponents}async function O0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(nt(Aa,"Using user provided OnlineComponentProvider"),await C_(r,r._uninitializedComponentsProvider._online)):(nt(Aa,"Using default OnlineComponentProvider"),await C_(r,new hd))),r._onlineComponents}function Ew(r){return O0(r).then(e=>e.syncEngine)}async function Tw(r){const e=await O0(r),i=e.eventManager;return i.onListen=iw.bind(null,e.syncEngine),i.onUnlisten=sw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=aw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=lw.bind(null,e.syncEngine),i}function Aw(r,e,i={}){const s=new ma;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new yw({next:P=>{A.su(),d.enqueueAndForget(()=>XR(h,V)),P.fromCache&&_.source==="server"?v.reject(new lt(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(P)},error:P=>v.reject(P)}),V=new JR(g,A,{includeMetadataChanges:!0,Ta:!0});return YR(h,V)}(await Tw(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(r,e,i){if(!i)throw new lt(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Sw(r,e,i,s){if(e===!0&&s===!0)throw new lt(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function V_(r){if(!ut.isDocumentKey(r))throw new lt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function O_(r){if(ut.isDocumentKey(r))throw new lt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Kd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":dt()}function pr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new lt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Kd(r);throw new lt(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="firestore.googleapis.com",M_=!0;class N_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new lt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=x0,this.ssl=M_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:M_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=h0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Z1)throw new lt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new wb;switch(s.type){case"firstParty":return new Vb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=I_.get(i);s&&(nt("ComponentProvider","Removing Datastore"),I_.delete(i),s.terminate())}(this),Promise.resolve()}}function bw(r,e,i,s={}){var o;const h=(r=pr(r,Tc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==x0&&h.host!==g&&ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:s});if(!Fl(_,d)&&(r._setSettings(_),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=Ge.MOCK_USER;else{v=zT(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const V=s.mockUserToken.sub||s.mockUserToken.user_id;if(!V)throw new lt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ge(V)}r._authCredentials=new Db(new Sv(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ac(this.firestore,e,this._query)}}class Dn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class ga extends Ac{constructor(e,i,s){super(e,i,jv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new ut(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function x_(r,e,...i){if(r=ni(r),N0("collection","path",e),r instanceof Tc){const s=Wt.fromString(e,...i);return O_(s),new ga(r,null,s)}{if(!(r instanceof Dn||r instanceof ga))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(e,...i));return O_(s),new ga(r.firestore,null,s)}}function fd(r,e,...i){if(r=ni(r),arguments.length===1&&(e=Rv.newId()),N0("doc","path",e),r instanceof Tc){const s=Wt.fromString(e,...i);return V_(s),new Dn(r,null,new ut(s))}{if(!(r instanceof Dn||r instanceof ga))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(e,...i));return V_(s),new Dn(r.firestore,r instanceof ga?r.converter:null,new ut(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="AsyncQueue";class L_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new g0(this,"async_queue_retry"),this.Su=()=>{const s=jf();s&&nt(U_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=jf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=jf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new ma;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ws(e))throw e;nt(U_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Ni("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=jd.createAndSchedule(this,e,i,s,h=>this.Fu(h));return this.fu.push(o),o}Du(){this.gu&&dt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class ro extends Tc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new L_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L_(e),this._firestoreClient=void 0,await e}}}function Rw(r,e){const i=typeof r=="object"?r:F_(),s=typeof r=="string"?r:Xu,o=to(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=UT("firestore");h&&bw(o,...h)}return o}function U0(r){if(r._terminated)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ww(r),r._firestoreClient}function ww(r){var e,i,s;const o=r._freezeSettings(),h=function(g,_,v,A){return new Qb(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,M0(A.experimentalLongPollingOptions),A.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new _w(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ss(Be.fromBase64String(e))}catch(i){throw new lt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ss(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return At(this._lat,e._lat)||At(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=/^__.*__$/;class Cw{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ra(e,this.data,this.fieldMask,i,this.fieldTransforms):new eo(e,this.data,i,this.fieldTransforms)}}class L0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Ra(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function z0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class $d{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new $d(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return rc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(z0(this.Lu)&&Dw.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Iw{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||_c(e)}ju(e,i,s,o=!1){return new $d({Lu:e,methodName:i,zu:s,path:Pe.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function P0(r){const e=r._freezeSettings(),i=_c(r._databaseId);return new Iw(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Vw(r,e,i,s,o,h={}){const d=r.ju(h.merge||h.mergeFields?2:0,e,i,o);Jd("Data must be an object, but it was:",d,s);const g=B0(s,d);let _,v;if(h.merge)_=new fn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const V of h.mergeFields){const P=dd(e,V,i);if(!d.contains(P))throw new lt(X.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);q0(A,P)||A.push(P)}_=new fn(A),v=d.fieldTransforms.filter(V=>_.covers(V.field))}else _=null,v=d.fieldTransforms;return new Cw(new tn(g),_,v)}class bc extends Yd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bc}}function Ow(r,e,i,s){const o=r.ju(1,e,i);Jd("Data must be an object, but it was:",o,s);const h=[],d=tn.empty();ba(s,(_,v)=>{const A=Wd(e,_,i);v=ni(v);const V=o.Uu(A);if(v instanceof bc)h.push(A);else{const P=Rc(v,V);P!=null&&(h.push(A),d.set(A,P))}});const g=new fn(h);return new L0(d,g,o.fieldTransforms)}function Mw(r,e,i,s,o,h){const d=r.ju(1,e,i),g=[dd(e,s,i)],_=[o];if(h.length%2!=0)throw new lt(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<h.length;P+=2)g.push(dd(e,h[P])),_.push(h[P+1]);const v=[],A=tn.empty();for(let P=g.length-1;P>=0;--P)if(!q0(v,g[P])){const q=g[P];let Z=_[P];Z=ni(Z);const it=d.Uu(q);if(Z instanceof bc)v.push(q);else{const J=Rc(Z,it);J!=null&&(v.push(q),A.set(q,J))}}const V=new fn(v);return new L0(A,V,d.fieldTransforms)}function Rc(r,e){if(k0(r=ni(r)))return Jd("Unsupported field value:",e,r),B0(r,e);if(r instanceof Yd)return function(s,o){if(!z0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let _=Rc(g,o.Ku(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(r,e)}return function(s,o){if((s=ni(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return g1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Ae.fromDate(s);return{timestampValue:ec(o.serializer,h)}}if(s instanceof Ae){const h=new Ae(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ec(o.serializer,h)}}if(s instanceof Xd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ss)return{bytesValue:a0(o.serializer,s._byteString)};if(s instanceof Dn){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Nd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Zd)return function(d,g){return{mapValue:{fields:{[Nv]:{stringValue:xv},[Zu]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return Id(g.serializer,v)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Kd(s)}`)}(r,e)}function B0(r,e){const i={};return Dv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ba(r,(s,o)=>{const h=Rc(o,e.qu(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function k0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ae||r instanceof Xd||r instanceof Ss||r instanceof Dn||r instanceof Yd||r instanceof Zd)}function Jd(r,e,i){if(!k0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Kd(i);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function dd(r,e,i){if((e=ni(e))instanceof Sc)return e._internalPath;if(typeof e=="string")return Wd(r,e);throw rc("Field path arguments must be of type string or ",r,!1,void 0,i)}const Nw=new RegExp("[~\\*/\\[\\]]");function Wd(r,e,i){if(e.search(Nw)>=0)throw rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Sc(...e.split("."))._internalPath}catch{throw rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function rc(r,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new lt(X.INVALID_ARGUMENT,g+r+_)}function q0(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(H0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class xw extends j0{data(){return super.data()}}function H0(r,e){return typeof e=="string"?Wd(r,e):e instanceof Sc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lw{convertValue(e,i="none"){switch(Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ba(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Zu].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>ue(d.doubleValue));return new Zd(h)}convertGeoPoint(e){return new Xd(ue(e.latitude),ue(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=hc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const i=_a(e);return new Ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Wt.fromString(e);kt(c0(s));const o=new Zl(s.get(1),s.get(3)),h=new ut(s.popFirst(5));return o.isEqual(i)||Ni(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pw extends j0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Hu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(H0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Hu extends Pw{data(e={}){return super.data(e)}}class Bw{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Lu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Hu(this._firestore,this._userDataWriter,s.key,s,new Lu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const _=new Hu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Lu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Hu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Lu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:kw(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function kw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}class qw extends Lw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ss(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,i)}}function jw(r){r=pr(r,Ac);const e=pr(r.firestore,ro),i=U0(e),s=new qw(e);return Uw(r._query),Aw(i,r._query).then(o=>new Bw(e,s,r,o))}function Hw(r,e,i,...s){r=pr(r,Dn);const o=pr(r.firestore,ro),h=P0(o);let d;return d=typeof(e=ni(e))=="string"||e instanceof Sc?Mw(h,"updateDoc",r._key,e,i,s):Ow(h,"updateDoc",r._key,e),tm(o,[d.toMutation(r._key,xn.exists(!0))])}function Gw(r){return tm(pr(r.firestore,ro),[new Vd(r._key,xn.none())])}function Qw(r,e){const i=pr(r.firestore,ro),s=fd(r),o=zw(r.converter,e);return tm(i,[Vw(P0(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,xn.exists(!1))]).then(()=>s)}function tm(r,e){return function(s,o){const h=new ma;return s.asyncQueue.enqueueAndForget(async()=>ow(await Ew(s),o,h)),h.promise}(U0(r),e)}(function(e,i=!0){(function(o){bs=o})(YA),pa(new Oi("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new ro(new Cb(s.getProvider("auth-internal")),new Ob(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new lt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(v.options.projectId,A)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Wn(qy,jy,e),Wn(qy,jy,"esm2017")})();const Fw={apiKey:"AIzaSyCp-2EbBJaL9Qv7X5V4sNKr-lAQd41a-xg",authDomain:"project-list-fa0e8.firebaseapp.com",projectId:"project-list-fa0e8",storageBucket:"project-list-fa0e8.firebasestorage.app",messagingSenderId:"564631578617",appId:"1:564631578617:web:0414d03536afaa7ca4ff28",measurementId:"G-EVFVE2NZN7"},G0=Q_(Fw);Ab(G0);const zu=Rw(G0);function Kw(){const[r,e]=hs.useState(""),[i,s]=hs.useState([]),[o,h]=hs.useState(null),[d,g]=hs.useState(""),_=async()=>{const q=await jw(x_(zu,"list"));s(q.docs.map(Z=>({id:Z.id,...Z.data()})))},v=async()=>{try{r===""?alert("Type project name"):(await Qw(x_(zu,"list"),{value:r}),e(""),_())}catch(q){console.error("Error:",q)}};hs.useEffect(()=>{_()},[]);const A=async q=>{try{await Gw(fd(zu,"list",q)),_()}catch(Z){console.error("Error ",Z)}},V=q=>{h(q.id),g(q.value)},P=async q=>{try{await Hw(fd(zu,"list",q),{value:d}),h(null),g(""),_()}catch(Z){console.error("Update error: ",Z)}};return me.jsxs("div",{className:"container",children:[me.jsx("h1",{className:"heading",children:"Project Manager"}),me.jsxs("div",{className:"input-container",children:[me.jsx("input",{type:"text",value:r,onChange:q=>e(q.target.value),placeholder:"Enter project name",className:"input"}),me.jsx("button",{onClick:v,className:"add-button",children:"Add"})]}),i.length>0?me.jsx("ul",{className:"list",children:i.map(q=>me.jsx("div",{className:"list-item",children:o===q.id?me.jsxs(me.Fragment,{children:[me.jsx("input",{type:"text",value:d,onChange:Z=>g(Z.target.value),className:"input"}),me.jsx("button",{className:"add-button",onClick:()=>P(q.id),children:"Save"})]}):me.jsxs(me.Fragment,{children:[me.jsx("li",{className:"project-name",children:q.value}),me.jsxs("div",{children:[me.jsx("button",{style:{marginRight:"6px"},onClick:()=>A(q.id),className:"delete-button",children:"Delete"}),me.jsx("button",{className:"add-button",onClick:()=>V(q),children:"Edit"})]})]})},q.id))}):me.jsx("p",{children:"There is no project"})]})}bT.createRoot(document.getElementById("root")).render(me.jsx(hs.StrictMode,{children:me.jsx(Kw,{})}));
